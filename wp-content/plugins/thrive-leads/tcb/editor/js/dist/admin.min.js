/*! Thrive Architect - 2018-01-24
* http://www.thrivethemes.com/
* Copyright (c) 2018 Thrive Themes */

!function(a){function b(){a("#tcb-admin-page-loader").show()}var c=function(){YoastSEO.app.registerPlugin("tcbYoastPlugin",{status:"loading"}),this.tcb_content="",this.fetchData()};c.prototype.fetchData=function(){var b=this;return a.ajax({url:ajaxurl,type:"post",dataType:"json",data:{post_id:TCB_Post_Edit_Data.post_id,action:"get_tcb_content"}}).done(function(c){b.tcb_content=c.content,YoastSEO.app.pluginReady("tcbYoastPlugin"),YoastSEO.app.registerModification("content",a.proxy(b.getTCBContent,b),"tcbYoastPlugin",5)})},c.prototype.getTCBContent=function(a){return this.tcb_content?this.tcb_content:a},a(window).on("YoastSEO:ready",function(){new c}),a(function(){var c=a("form#post");c.on("click.tcb","#tcb2-migrate-post",function(){var c=this;b(),a.ajax({type:"post",url:ajaxurl,dataType:"json",data:{_nonce:TCB_Post_Edit_Data.admin_nonce,post_id:TCB_Post_Edit_Data.post_id,action:"tcb_admin_ajax_controller",route:"migrate_post_content"}}).done(function(a){location.href=c.getAttribute("data-edit")}).error(function(a){alert("ERROR: "+a.responseText)})}).on("click","#tcb2-show-wp-editor",function(){var b=c.find(".tcb-enable-editor"),d=b.closest(".postbox");d.next(".tcb-flags").find("input").prop("disabled",!1),d.before(b),d.remove(),a("body").removeClass("tcb-hide-wp-editor")}).on("click",".tcb-enable-editor",function(){a("body").removeClass("tcb-hide-wp-editor"),a.ajax({type:"post",url:ajaxurl,dataType:"json",data:{_nonce:TCB_Post_Edit_Data.admin_nonce,post_id:this.getAttribute("data-id"),action:"tcb_admin_ajax_controller",route:"enable_tcb"}}).done(function(b){a(window).off("beforeunload.edit-post"),a("input#save-post").click().prop("disabled",!0)})})})}(jQuery);