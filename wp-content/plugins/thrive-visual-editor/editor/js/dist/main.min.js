/*! Thrive Architect - 2018-01-24
* http://www.thrivethemes.com/
* Copyright (c) 2018 Thrive Themes */

!function(a){"use strict";var b,c,d,e,f,g={".js":[],".json":[],".css":[],".html":[]},h="function"==typeof require?require:null;return e=function(a){var b=new Error("Could not find module '"+a+"'");return b.code="MODULE_NOT_FOUND",b},f=function(a,b,c){var d,e;if("function"==typeof a[b+c])return b+c;for(d=0;e=g[c][d];++d)if("function"==typeof a[b+e])return b+e;return null},b=function(a,d,g,h,i,j){var k,l,m,n,o,p;for(g=g.split("/"),k=g.pop(),"."!==k&&".."!==k||(g.push(k),k="");null!=(l=g.shift());)if(l&&"."!==l&&(".."===l?(a=d.pop(),j=j.slice(0,j.lastIndexOf("/"))):(d.push(a),a=a[l],j+="/"+l),!a))throw e(h);if(k&&"function"!=typeof a[k]&&(p=f(a,k,".js"),p||(p=f(a,k,".json")),p||(p=f(a,k,".css")),p||(p=f(a,k,".html")),p?k=p:2!==i&&"object"==typeof a[k]&&(d.push(a),a=a[k],j+="/"+k,k="")),!k)return 1!==i&&a[":mainpath:"]?b(a,d,a[":mainpath:"],h,1,j):b(a,d,"index",h,2,j);if(!(o=a[k]))throw e(h);return o.hasOwnProperty("module")?o.module.exports:(m={},o.module=n={exports:m,id:j+"/"+k},o.call(m,m,n,c(a,d,j)),n.exports)},d=function(c,d,f,g){var i,j=f,k=f.charAt(0),l=0;if("/"===k){if(j=j.slice(1),!(c=a["/"])){if(h)return h(f);throw e(f)}g="/",d=[]}else if("."!==k){if(i=j.split("/",1)[0],!(c=a[i])){if(h)return h(f);throw e(f)}g=i,d=[],j=j.slice(i.length+1),j||(j=c[":mainpath:"],j?l=1:(j="index",l=2))}return b(c,d,j,f,l,g)},(c=function(a,b,c){return function(e){return d(a,[].concat(b),e,c)}})(a,[],"")}({workspace:{editor:{js:{editor:{src:{util:{"content.js":function(a,b,c){!function(a){b.exports={TCB_CLS_PAT:["thrv_","tve-","tve_","tcb_","tcb-","thrv-","img_style_","mce-","fr-","ttfm"],cleanup_froala:function(b){b.find(".tve-froala").each(function(){var b=a(this);if(!b.find(".tve-froala").length){var c=b.find(".fr-element").last();c.length||(c=b.next(".fr-wrapper").find(".fr-element")),c.length&&(b.html(c.html()).removeClass(function(a,b){return(b.match(/(^|\s)(fr-|tve-froal)\S+/g)||[]).join(" ")}),b.is("p")&&(c.remove(),b.siblings(".fr-wrapper:empty, p:empty").remove()));var d=b.children("div");b.is("p.wp-caption-text")&&d.length&&(d.attr("style")&&b.attr("style",d.attr("style")),d.contents().unwrap())}}),b.find(".fr-wrapper").each(function(){var b=a(this),c=b.children(".fr-element");a(this).replaceWith(c.length?c.html():b.html())})},get_clean_content:function(b,c){void 0===b&&(b={}),c=c||TVE.Editor_Page.editor;var d=a("#pre-save-filter");d.length||(d=a('<div style="display:none" id="pre-save-filter"></div>').appendTo("body")),d.empty();var e=c.children(".tve_content_save").length?c.children(".tve_content_save"):c;d.html(e.html().replace(/<script type="text\/javascript">/g,'<script type="tcb/temp">')),b.keep_wp_shortcodes||d.find(".tve_shortcode_rendered").remove(),d.find(".ui-resizable-handle, .ui-resize-left, .ui-resize-right, .thrive-shortcode-html,grammarly-btn,.tve_custom_html_placeholder,.tve_dropzone,.rangySelectionBoundary, .tve_shortcode_overlay,.tve_shortcode_rendered script, .tcb-remove-on-save, .tve_post_grid_wrapper,.tve_widget_container,.gr-textarea-btn_status,.gr-textarea-btn, .tve-remove-auxiliary-content").remove().end().find(".canvas-mode, .tve-element-overlay, .edit_mode, .tve_merge_cells, .tve_merge_selected, .tve_active_hyperlink, .active_highlight, .active_delete, .active_duplicate, .tcb_bring_front").removeClass("edit_mode tve_merge_cells tve_merge_selected, tve_active_hyperlink active_highlight active_delete active_duplicate canvas-mode tve-element-overlay tcb_bring_front").end().find(".tve_faqC").hide().end().find(".tve_oFaq").removeClass("tve_oFaq").end().find(".ui-resizable,.init_done,.ui-sortable,.ui-sortable-handle,.tve-draggable,.tve-droppable").removeClass("ui-resizable init_done ui-sortable ui-sortable-handle tve-draggable tve_grabbed tve-droppable").end().find("[contenteditable]").removeAttr("contenteditable").end().find("[draggable]").removeAttr("draggable").end().find("[data-gramm]").removeAttr("data-gramm data-gramm_id data-gramm_editor").filter(":empty").remove().end().end().find(".tve-state-hover,.tve-state-active").removeClass("tve-state-hover").end().find("p").each(function(){void 0!==this.className&&0===this.className.toString().length&&this.removeAttribute("class")}),this.cleanup_froala(d),d.find(".tve_more_tag").replaceWith('<!--tvemorestart--><p class="tve_more_tag"><span class="tve_no_edit">More...</span></p><!--tvemoreend-->'),d.find("iframe.tcb-yt-bg").each(function(){a(this).replaceWith(a('<div id="'+this.id+'" class="tcb-yt-bg" data-url="'+this.getAttribute("data-url")+'" data-yt-id="'+this.getAttribute("data-yt-id")+'"></div>'))}),d=TVE.apply_filters("tcb_filter_html_before_save",d),d.find("a[data-tcb-href]").each(function(){this.setAttribute("href",this.getAttribute("data-tcb-href"))});var f=d.html();return d.html(""),f.split("\n").map(a.trim).filter(function(a){return""!==a}).join("\n").replace(/<script type="tcb\/temp">/g,'<script type="text/javascript">')},get_stylesheet_rules:function(){function a(a,b){return-1===a.indexOf("data-css")&&-1===a.indexOf("data-tve-custom-colour")||!(!a.match(j)||-1===b.indexOf("margin"))&&jQuery(a.replace(j,"")).length}function b(b,d){d=d||"";var e="";if(c=b.selectorText.replace(/(:hover|:active|:after|::after|:before|::before| strong)/g,""),-1!==g.indexOf(d+b.selectorText))return"";if(a(c,b.cssText)||jQuery(c).length){if(!jQuery.trim(b.cssText.replace(b.selectorText,"").replace(/\{(\s*)\}/g,"")))return"";e+=b.cssText,g.push(d+b.selectorText)}return e}for(var c,d,e=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,f="",g=[],h="",i=[],j=/ (p|h1|h2|h3)$/,k=0;d=e[k++];)if(d.type!==CSSRule.IMPORT_RULE)if(d.type!==CSSRule.MEDIA_RULE)f+=b(d);else{h="";for(var l,m=0;l=d.cssRules[m++];)h+=b(l,d.media.item(0));h&&(f+="@media "+d.media.item(0)+"{"+h+"}")}else{var n=TVE.FontManager.read_font_name(d.cssText);TVE.FontManager.is_font_used(n)&&void 0===i[n]&&(i[n]=1,f+=d.cssText)}return f},prepare_content_template:function(a){return a.add(a.find(".ui-resizable")).removeClass("ui-resizable"),a.find(".ui-resizable-handle").remove(),TVE.froala.disable(a),TVE.froala.disable(a.find(TVE.TEXT_ALL)),jQuery("<div></div>").append(a.removeClass("edit_mode mce-edit-focus active_delete active_duplicate")).html()},parse_element_classes:function(b){var c=new RegExp(this.TCB_CLS_PAT.join("([^ ]*)|")+"([^ ]*)|"+TVE.thrv_custom_classes.join("|"),"g");return b?a.trim(b.replace(c,"").replace("/S+/g"," ")):""},is_wp_content_tinymce_available:function(){return"undefined"!=typeof tinymce&&tinymce&&tinymce.activeEditor&&"tve_tinymce_shortcode"===tinymce.activeEditor.id&&!tinymce.activeEditor.isHidden()},get_shotcode_tinymce_content:function(){if(!this.is_wp_content_tinymce_available()){var a=jQuery("#tve_tinymce_shortcode").val();return wp&&wp.editor&&wp.editor.autop&&(a=wp.editor.autop(a)),a}return tinymce.activeEditor.getContent()},set_shotcode_tinymce_content:function(a){this.is_wp_content_tinymce_available()?tinymce.activeEditor.setContent(a):jQuery("#tve_tinymce_shortcode").val(a)},convert_script_tags:function(a){a=a.replace("<\\/script","<\\\\/script");var b=jQuery('<div class="tve_escaped_js">'+a+"</div>");return 0===b.find("script").length&&0===b.find("noscript")?b.html():(b.find("script").each(function(){var a=jQuery(this),b="[tcb-script",c=jQuery('<code class="tve_js_placeholder"></code>');jQuery.each(this.attributes,function(){b+=" "+this.name+'="'+this.value+'"'}),b+="]"+a.text()+"[/tcb-script]",c.text(b),a.replaceWith(c)}),b.find("noscript").each(function(){var a=jQuery(this),b="[tcb-noscript",c=jQuery('<code class="tve_js_placeholder tve_noscript"></code>');jQuery.each(this.attributes,function(){b+=" "+this.name+'="'+this.value+'"'}),b+="]"+a.text()+"[/tcb-noscript]",c.html(b),a.replaceWith(c)}),b.html())},revert_script_tags:function(a){if(!jQuery.trim(a))return"";var b=jQuery('<div class="tve_escaped_js">'+a+"</div>");return b.find(".tve_custom_html_placeholder,.tve_click").remove(),b.find(".tve_shortcode_overlay").remove(),0===b.find("code.tve_js_placeholder").length?jQuery.trim(b.html()):(b.find("code.tve_js_placeholder").each(function(){var a,b=jQuery(this),c=new RegExp("^\\[tcb-script([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-script\\]$","g");a=b[b.hasClass("tve_noscript")?"html":"text"]().replace(c,"<script$1>$2</script>");var d=new RegExp("^\\[tcb-noscript([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-noscript\\]$","g");a=a.replace(d,"<noscript$1>$2</noscript>"),b.hasClass("tve_noscript")&&(a=jQuery("<textarea>").html(a).text());var e=jQuery(a);e.removeAttr("class className"),b.replaceWith(e)}),jQuery.trim(b.html()))},prepare_save_data:function(b,c){var d=this.get_clean_content({},this.editor),e=this.get_stylesheet_rules(),f={tve_content:d,post_id:TVE.CONST.post_id,update:b,inline_rules:e,custom_colours:TVE.CONST.colors.favorites||[],tve_custom_css:TVE.Editor_Page.get_custom_css(),tve_landing_page:TVE.CONST.landing_page?TVE.CONST.landing_page:"",custom_font_classes:[],tve_globals:{},tve_global_scripts:TVE.CONST.tve_global_scripts?TVE.CONST.tve_global_scripts:{},has_icons:0,page_events:TVE.CONST.page_events};f=TVE.apply_filters("tcb_save_post_data_before",f),TVE.CONST.custom_post_data&&a.each(TVE.CONST.custom_post_data,function(a,b){f[a]=b}),TVE.CONST.tve_globals.js_sdk=[],TVE.Editor_Page.editor.find(".thrv_social").each(function(){TVE.CONST.tve_globals.js_sdk=TVE.CONST.tve_globals.js_sdk.concat(a(this).tve_social().getRequiredSDKs())}),TVE.CONST.social_fb_app_id&&(f.social_fb_app_id=TVE.CONST.social_fb_app_id),TVE.Editor_Page.editor.find(".tve-fb-comments").length>0&&-1===TVE.CONST.tve_globals.js_sdk.indexOf("fb")&&TVE.CONST.tve_globals.js_sdk.push("fb"),a.each(TVE.CONST.tve_globals,function(a,b){a&&(f.tve_globals[a]=b)}),custom_font_classes&&a.each(custom_font_classes.split(" "),function(a,b){(TVE.Editor_Page.editor.find("."+b).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(b))&&f.custom_font_classes.push(b)}),f.tve_globals.extra_fonts&&a.each(f.tve_globals.extra_fonts,function(a,b){TVE.Editor_Page.editor.find("."+b.font_class).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(b.font_class)?b.ignore=0:b.ignore=1}),void 0!==c&&a.each(c,function(a,b){f[a]=b});var g=jQuery(".tve_sc_icon:not(.tve_sc_text)"),h=jQuery();if(f.tve_globals.used_icon_packs=[],g.length){var i=[];if(TVE.CONST.tve_globals.extra_icons)for(var j,k=0;j=TVE.CONST.tve_globals.extra_icons[k++];)if(j.icons&&j.icons.length){var l=g.filter("."+j.icons.join(",."));l.length&&f.tve_globals.used_icon_packs.push(j["font-family"]),h=h.add(l),l.each(function(){i.push(this.dataset.tveIcon)}),TVE.CONST.tve_globals.extra_icons[k-1].icons=i}f.has_icons=g.length!=h.length?1:0}var m=a(".tve-fb-comments:visible");if(m.length>0){var n=m.attr("data-fb-moderator-ids");void 0!==n&&""!=n&&(f.tve_globals.fb_comment_admins=JSON.stringify(n.split(";")))}return a(".tve_post_grid_masonry").length&&(f.tve_has_masonry=1),a(".tve_typefocus").length&&(f.tve_has_typefocus=1),(a(".tve_wistia_popover:visible").length||a(".tve_ea_thrive_wistia").length)&&(f.tve_has_wistia_popover=1),f=TVE.apply_filters("tcb_save_post_data_after",f)},process_saved_template:function(b,c,d,e){if(c.find(".edit_mode").removeClass("edit_mode"),c.find(".tve_sc_icon").length&&!jQuery("#thrive_icon_pack").length&&TVE.CONST.icon_pack_css&&jQuery('<link id="thrive_icon_pack" rel="stylesheet" type="text/css" href="'+TVE.CONST.icon_pack_css+'">').appendTo("head"),!jQuery.trim(b)&&!d)return c;var f=c.wrapAll("<div></div>").parent();if(b=jQuery.trim(b))for(var g=b.match(/[^{}]+(?=\})/g),h=b.match(/\[(.*?)\]([^\{]*)/g),i={},j=h?h.length:0,k=0;k<j;k++){var l=h[k].match(/\[data-tve-custom-colour=([^0-9]{1,1})(\d+)('|")\]/);if(l&&!(l.length<3)){var m=void 0!==i["code"+l[2]]?i["code"+l[2]]:function(a){var b=Math.floor(1e8*Math.random()+1);return a.attr("data-tve-custom-colour",b),b}(f.find('[data-tve-custom-colour="'+l[2]+'"]')),n=h[k].replace(l[2],m);TVE.compat.insert_css_rule(n,g[k],TVE.stylesheet.cssRules.length),i["code"+l[2]]=m}}if(e&&jQuery.each(e,function(a,b){TVE.stylesheet.insertRule(b)}),d){var o={};jQuery.each(d,function(b,c){c=c.replace(/data-css='(.+?)'/g,'data-css="$1"');var d=c.match(/[^{}]+(?=\})/g),e=c.match(/([^\r\n{}]+)(,(?=[^}]*{)|\s*){/g);if(!d||!e||d.length!==e.length)return!0;var f,g=TVE.CSS_Rule_Cache.media_rule(b);e=e.map(jQuery.trim),d=d.map(jQuery.trim);for(var h,i=0;(h=e[i])&&d[i].trim();i++){var j=h.match(/tve-u-(.[^ "]*)/g);a.each(j,function(a,c){if(f=c,o[f]=o[f]||TVE.CSS_Rule_Cache.generate_id(),h=h.replace(new RegExp("("+f+")","g"),o[f]),h=jQuery.trim(h),g.insertRule(h+d[i]+"}",g.cssRules.length),b===TVE.main.responsive.desktop.media&&-1!==h.indexOf(":hover")){var e=h.replace(/(\s+)([^:]+):hover/g,"$1.tve-state-hover$2");e===h&&(e=h.replace(/^([^:]+):hover/g,"$1.tve-state-hover")),g.insertRule(e+d[i]+"}",g.cssRules.length)}})}}),a.each(o,function(a,b){f.find('[data-css="'+a+'"]').attr("data-css",b)})}if(c.hasClass("thrv_widget_menu")){var p=TVE.Editor_Page.thriveShrtcodeConfig(c.find(".thrive-shortcode-config"),"widget_menu"),q=p.get();a.each(["ul_attr","top_link_attr","link_attr","trigger_attr"],function(a,b){q[b]&&i["code"+q[b]]&&(q[b]=i["code"+q[b]])}),p.save(q)}return TVE.compat.texts(f),f.html()},insert_head_css:function(b){var c=a('<style type="text/css"></style>').text(b).appendTo("head");c[0].onload=function(){for(var a=c[0].sheet.cssRules,b=0;b<a.length;b++)switch(a[b].type){case CSSRule.IMPORT_RULE:TVE.stylesheet.insertRule(a[b].cssText,0);break;case CSSRule.MEDIA_RULE:for(var d=TVE.CSS_Rule_Cache.media_rule(a[b].conditionText),e=null,f=a[b].conditionText===TVE.main.responsive.desktop.media,g=0;g<a[b].cssRules.length;g++){var h=a[b].cssRules[g];if(null!==(e=d.rule_index_by_selector(h.selectorText))&&d.deleteRule(e),d.insertRule(h.cssText,d.cssRules.length),f&&-1!==h.selectorText.indexOf(":hover")){var i=h.cssText.replace(/(\s+)([^:]+):hover/g,"$1.tve-state-hover$2");i===h.cssText&&(i=h.cssText.replace(/^([^:]+):hover/g,"$1.tve-state-hover")),d.insertRule(i,d.cssRules.length)}}break;case CSSRule.STYLE_RULE:default:TVE.stylesheet.insertRule(a[b].cssText,TVE.stylesheet.cssRules.length)}c.remove()}}}}(jQuery)},"font-manager.js":function(a,b,c){b.exports={_api:"https://www.googleapis.com/webfonts/v1/webfonts",_key:"AIzaSyDJhU1bXm2YTz_c4VpWZrAyspOS37Nn-kI",import_font:function(a){var b=0,c=TVE.CSS_Rule_Cache.getImports();return _.each(c,function(c,d){var e=this.parse_link(c);e.family===a.family&&(a.variants=a.variants.concat(e.variants),TVE.CSS_Rule_Cache.removeRule(d-b++))},this),a.variants=a.variants.filter(function(a,b,c){return c.indexOf(a)===b}),TVE.CSS_Rule_Cache.insertImport(this.generate_link(a))},get_imported_fonts:function(){var a=TVE.CSS_Rule_Cache.getImports(),b={},c=this;return a.forEach(function(a){var d=c.parse_link(a);b[d.family]=d}),b},generate_link:function(a){var b=[];return b.push("//fonts.googleapis.com/css?family="),b.push(a.family.replace(/ /g,"+")),b.push(":"),b.push(a.variants.join(",")),b.push("&subset="),b.push(a.subsets),b.join("")},parse_link:function(a){var b=/family=([a-zA-Z\+\d]*):([A-Za-z0-9,]*)&subset=(\w*)/g.exec(a),c={};return b.length>3&&(c.family=b[1].replace(/\+/g," "),c.variants=b[2].split(","),c.subsets=b[3]),c},read_font_name:function(a){var b=a.match(/family=((\w|\+)*)/),c=a;return b.length>1&&(c=b[1].replace(/\+/g," ")),c},is_font_used:function(a){if(!a)return!1;-1!==a.indexOf("fonts.googleapis.com")&&(a=this.read_font_name(a));var b=new RegExp('font-family: ["]?'+a,"g"),c=TVE.CSS_Rule_Cache.toText(CSSRule.MEDIA_RULE),d=b.test(c);return d||TVE.Editor_Page.editor.find(TVE.TEXT_ALL).find("span[style]").each(function(){if(this.style.fontFamily&&this.style.fontFamily.replace(/"/g,"")===a)return d=!0,!1}),d},get_google_fonts:function(){var a=TVE.StorageManager.get("tcb_google_fonts");return a&&a.length||(jQuery.ajax({method:"GET",url:this._api,dataType:"json",async:!1,cache:!0,data:{key:this._key}}).done(function(b){a=b.items||[]}).fail(function(){a=[]}),TVE.StorageManager.set("tcb_google_fonts",a)),a}}}}}},main:{"_utils.js":function(a,b,c){!function(a){!function(a){a.Package?Materialize={}:a.Materialize={}}(window),Materialize.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(),Materialize.elementOrParentIsFixed=function(b){var c=a(b),d=c.add(c.parents()),e=!1;return d.each(function(){if("fixed"===a(this).css("position"))return e=!0,!1}),e};jQuery?jQuery.Velocity:Velocity,b.exports={_type:function(b){if(!b)return null;if(b.data("tcb-elem-type"))return b.data("tcb-elem-type");var c=null;return a.each(TVE.Elements,function(a,d){if(b.is(d.identifier))return c=a,!1}),b.data("tcb-elem-type",c),c},get_element_name:function(a){var b=this._type(a);return a.attr("data-element-name")||TVE.Elements[b]&&TVE.Elements[b].name||TVE.t.Element},thrv_custom_classes:["edit_mode","alignleft","aligncenter","alignright","tvealign","init_done","active_delete","active_duplicate","canvas-mode","active_highlight"],tpl:function(b,c){0!==b.indexOf("tve-")&&(b="tve-"+b);var d=a("script#"+b.replace(/\//g,"-")).html()||"";return c?_.template(d)(c):_.template(d)},is_tpl:function(b){return 0!==b.indexOf("tve-")&&(b="tve-"+b),a("script#"+b.replace(/\//g,"-")).length>0},rem_size:function(){return this.__rem||(this.__rem=parseInt(a("html").css("font-size")||16)),this.__rem},convertUM:function(a,b,c,d){if(!a||!d)return!1;var e=TVE.getComputedStyle(a,d);if(!e)return 0;var f={"min-width":"width","max-width":"width"},g=isNaN(e)?e.replace(/[0-9,.]/g,""):void 0;switch("%"===g?e=parseFloat(e)*TVE.getComputedStyle(c,f[d]||d)/100:"em"===g&&(e=parseFloat(e)*TVE.getComputedStyle(a,"font-size")),b){case"rem":e=parseFloat(e/this.rem_size()).toFixed(3);break;case"em":var h=a;"fontSize"===d&&(h=a.parentNode),e=parseFloat(e/TVE.getComputedStyle(h,"fontSize")).toFixed(3);break;case"%":e=parseFloat(100*e/TVE.getComputedStyle(c,f[d]||d)).toFixed(1);break;case"vw":e=parseFloat(100*e/TVE.inner.document.documentElement.clientWidth).toFixed(3);break;case"vh":e=parseFloat(100*e/TVE.inner.document.documentElement.clientHeight).toFixed(2);break;case"px":e=parseInt(e);break;default:e=parseFloat(e)}return isNaN(e)&&(e=0),e},getComputedStyle:function(a,b,c){if(void 0===a||void 0===b)return 0;(a instanceof jQuery||a.jquery)&&(a=a[0]);var d=getComputedStyle(a||document.documentElement)[b];if(c)return d;var e={lineHeight:"1.12em",letterSpacing:0};return"normal"===d?d=e[b]?e[b]:0:0===d.indexOf("none")?d=0:0===d.indexOf("rgb")||-1!==d.indexOf("%")||(d=parseFloat(d)),d},firstLetterUppercase:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},camelCase:function(b,c){var d=b.split("_"),e="",f=" ";return 1===d.length&&(d=b.split("-")),c&&(f=""),a.each(d,function(a,b){e+=b.toLowerCase().charAt(0).toUpperCase()+b.slice(1)+f}),e},ucFirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},set_event_callback:function(a,b,c){if(a=a||"outer",void 0===c)return void TVE[a].$document.off(b+".tve");TVE[a].$document.off(b+".tve").on(b+".tve",c)},ajax_data:function(a,b,c,d){return{xhrFields:{withCredentials:!0},url:TVE.CONST.ajax_url,dataType:void 0===d?"json":d,type:b||"get",data:_.extend({action:TVE.CONST.ajax.action,custom:a,nonce:TVE.CONST.nonce},c||{}),error:function(a,b,c){if("function"!=typeof a.tcb_error||!1!==a.tcb_error.apply(a,arguments))if(a.responseText)try{var d=JSON.parse(a.responseText);TVE.page_message(d.message,!0)}catch(b){TVE.page_message(a.responseText,!0)}else c=c?"Unexpected error: "+(a.status?a.status+": ":"")+c:"An unexpected error occured. "+(a.status?" (Status code: "+a.status+")":""),TVE.page_message(c,!0)}}},ajax:function(b,c,d,e){return a.ajax(this.ajax_data(b,c,d,e))},findClass:function(a,b){for(var c,d=0;d<a.length;d++)if(a[d].substr(0,b.length)==b&&a[d].length>b.length){c=a[d];break}return c},truncate:function(a,b){return b=b||10,a.length<b+3?a:a.substring(0,b)+"..."},isValidUrl:function(a){return 0===a.indexOf("#")||0===a.indexOf("mailto")||0===a.indexOf("tel")||!(null===a.match(/(http(s)?:\/\/.)(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,15}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g))},removeDuplicateMediaRules:function(){for(var a=0;a<TVE.stylesheet.cssRules.length;a++){for(var b=TVE.stylesheet.cssRules[a],c=0;c<b.cssRules.length;c++)for(var d=b.cssRules[c].selectorText,e=c+1;e<b.cssRules.length;e++)d===b.cssRules[e].selectorText&&(b.cssRules[e].mustDelete=!0);do{for(var f=!1,g=0;g<b.cssRules.length;g++)if(b.cssRules[g].mustDelete){b.deleteRule(g),f=!0;break}}while(f)}},buildLandingPageSelector:function(b,c){return a.map(b.split(","),function(b){return"#tcb_landing_page "+a.trim(b)+c}).join(", ")},writeLandingPageCSS:function(a,b,c,d){var e=void 0!==d&&d?TVE.CSS_RULE_LAST:TVE.CSS_RULE_FIRST,f=TVE.main.media_query_tpl();c=c||"",f="_ALL"===f?TVE.main.all_media():[f];var g=this.buildLandingPageSelector(a,c);TVE.write_css(g,b,f,!1,e),-1!==g.indexOf(":hover")&&TVE.write_css(g.replace(/:hover/g,".tve_state_hover"),b,f,!1,e)},readLandingPageCSS:function(a,b,c){var d;return c=c||"",d=TVE.head_css_get(this.buildLandingPageSelector(a,c),b),""!==d&&d||(d=TVE.ActiveElement.find(a+c).first().css(b)||d),d},addHttp:function(b){return b=a.trim(b),!b||0===b.indexOf("#")||/^mailto/.test(b)||/^tel/.test(b)||/^(?:f|ht)tps?\:\/\//.test(b)||(b="http://"+b),b},get_all_props:function(a,b){var c=[];return!a||"object"!=typeof a&&!_.isArray(a)?c:(_.each(a,function(a,d){if(d===b)return c.push(a),!0;c=c.concat(TVE.get_all_props(a,b))}),c.filter(function(a){return a}))},removeDataAttributes:function(a){var b,c=a.get(0).attributes,d=c.length;for(b=0;b<d;b++)c[b]&&c[b].name&&"data-"===c[b].name.substring(0,5)&&c[b].name&&a.removeAttr(c[b].name)},getUrlParam:function(a,b){var c=new RegExp("[?&]"+b+"=([^&#]*)").exec(a);return decodeURIComponent(c[1])||0},setOrReplaceUrlParam:function(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c},icon:function(a,b,c,d){if(!a)return"";d=void 0===d?"":" "+d,void 0!==c&&c||(c="sidebar");var e='<span class="tcb-icon-inline '+a+'"></span>';return void 0!==b&&"svg"!==b||(a=("sidebar"===c?"icon-":"tcb-icon-")+a,e=TVE.tpl("util/icon")({icon:a,extra_class:d})),e},svg_icon:function(a){var b={path:"",viewBox:"0 0 28 28",name:tcb_main_const.i18n.none},c=_.extend(b,a);return TVE.tpl("util/svg_icon")(c)},add_filter:function(a,b,c){return void 0===c&&(c=10),this.filter_callbacks||(this.filter_callbacks={}),this.filter_callbacks[a]||(this.filter_callbacks[a]=[]),this.filter_callbacks[a].push({fn:b,priority:parseInt(c)}),this},remove_filter:function(a,b,c){if(!this.filter_callbacks)return this;if(void 0===b)return delete this.filter_callbacks[a],this;if(void 0===c&&(c=10),!this.has_filter(a))return this;for(var d,e=0;d=this.filter_callbacks[a][e++];)d.priority===c&&d.fn===b&&(e--,this.filter_callbacks[a].splice(e,1));return this},has_filter:function(a){return this.filter_callbacks&&this.filter_callbacks[a]&&this.filter_callbacks[a].length},apply_filters:function(b,c){if(arguments.length<1)return void 0!==c?c:null;if(this.has_filter(b)){var d=[];arguments.length>2&&(d=Array.prototype.slice.call(arguments,2));var e=this.filter_callbacks[b].sort(function(a,b){return a.priority-b.priority});a.each(e,function(a,b){b.fn&&(c=b.fn.apply(null,[c].concat(d)))})}return c},bind_global_events:function(){var a=function(a){if("enabled"!==TVE.Editor_Page.STATE)return!0;if(a.ctrlKey&&!a.altKey)switch(a.which){case 83:return TVE.main.editor_settings.save(),!1;case 90:return TVE.UndoManager.undo(),!1;case 89:return TVE.UndoManager.redo(),!1}};TVE.$document.add(TVE.inner.$document).off("keydown.tcbglobal").on("keydown.tcbtcbglobal",a)},iframe_refresh:function(){TVE.main.$frame.attr("src",function(a,b){return b}),TVE.main.$frame.one("load",function(){TVE.main.overlay("close")}),setTimeout(function(){TVE.main.overlay("close")},3e3)},relogin:function(){TVE.main.overlay("close"),TVE.$document.trigger("heartbeat-tick.wp-auth-check",{"wp-auth-check":!1})},handle_login:function(a){TVE.CONST.nonce=a.nonce,TVE.CONST.rest_nonce=a.rest_nonce,this.login_callback&&(this.login_callback.fn.apply(this.login_callback.scope),delete this.login_callback),TVE.main.trigger("tcb_auth_login",a)},set_login_callback:function(a,b){this.login_callback={fn:a,scope:b}},get_inputs_value:function(a,b,c){b=b||"input",c=c||"*";var d={};return a.find(b).filter(c).each(function(){var a=jQuery(this),b=this.name;a.is("input:radio, input:checkbox")?a.is(":radio")&&a.is(":checked")?d[b]=this.value:a.is(":checkbox")&&a.is(":checked")&&(void 0===d[b]&&(d[b]=[]),d[b].push(this.value)):d[b]=this.value}),d},url:function(a){return TVE.CONST.plugin_url+(a||"")},unserialize:function(a){function b(a,c){var d,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=0,z=function(a){return a};switch(c||(c=0),d=a.slice(c,c+1).toLowerCase(),h=c+2,d){case"i":z=function(a){return parseInt(a,10)},o=f(a,h,";"),y=o[0],n=o[1],h+=y+1;break;case"b":z=function(a){return 0!==parseInt(a,10)},o=f(a,h,";"),y=o[0],n=o[1],h+=y+1;break;case"d":z=function(a){return parseFloat(a)},o=f(a,h,";"),y=o[0],n=o[1],h+=y+1;break;case"n":n=null;break;case"s":p=f(a,h,":"),y=p[0],q=p[1],h+=y+2,o=g(a,h+1,parseInt(q,10)),y=o[0],n=o[1],h+=y+2,y!==parseInt(q,10)&&y!==n.length&&e("SyntaxError","String length mismatch");break;case"a":for(n={},i=f(a,h,":"),y=i[0],j=i[1],h+=y+2,l=parseInt(j,10),k=!0,r=0;r<l;r++)t=b(a,h),u=t[1],s=t[2],h+=u,v=b(a,h),w=v[1],x=v[2],h+=w,s!==r&&(k=!1),n[s]=x;if(k){for(m=new Array(l),r=0;r<l;r++)m[r]=n[r];n=m}h+=1;break;default:e("SyntaxError","Unknown / Unhandled data type(s): "+d)}return[d,h-c,z(n)]}var c="undefined"!=typeof window?window:global,d=function(a){for(var b=a.length,c=a.length-1;c>=0;c--){var d=a.charCodeAt(c);d>127&&d<=2047?b++:d>2047&&d<=65535&&(b+=2),d>=56320&&d<=57343&&c--}return b-1},e=function(a,b,d,e){throw new c[a](b,d,e)},f=function(a,b,c){for(var d=2,f=[],g=a.slice(b,b+1);g!==c;)d+b>a.length&&e("Error","Invalid"),f.push(g),g=a.slice(b+(d-1),b+d),d+=1;return[f.length,f.join("")]},g=function(a,b,c){var e,f,g=[];for(e=0;e<c;e++)f=a.slice(b+(e-1),b+e),g.push(f),c-=d(f);return[g.length,g.join("")]};return b(a+"",0)[2]},serialize:function(a){var b,c,d,e="",f=0,g=function(a){var b,c,d,e,f=typeof a;if("object"===f&&!a)return"null";if("object"===f){if(!a.constructor)return"object";d=a.constructor.toString(),b=d.match(/(\w+)\(/),b&&(d=b[1].toLowerCase()),e=["boolean","number","string","array"];for(c in e)if(d===e[c]){f=e[c];break}}return f},h=g(a);switch(h){case"function":b="";break;case"boolean":b="b:"+(a?"1":"0");break;case"number":b=(Math.round(a)===a?"i":"d")+":"+a;break;case"string":b="s:"+function(a){var b,c=0,d=a.length,e="";for(b=0;b<d;b++)e=a.charCodeAt(b),c+=e<128?1:e<2048?2:3;return c}(a)+':"'+a+'"';break;case"array":case"object":b="a";for(c in a)if(a.hasOwnProperty(c)){if("function"===g(a[c]))continue;d=c.match(/^[0-9]+$/)?parseInt(c,10):c,e+=TVE.serialize(d)+TVE.serialize(a[c]),f++}b+=":"+f+":{"+e+"}";break;case"undefined":default:b="N"}return"object"!==h&&"array"!==h&&(b+=";"),b},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=this._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=this._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=0,e=0,f=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&e),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&e)<<6|63&f),c+=3);return b}},page_message:function(b,c,d){void 0!==TVE.t[b]&&(b=TVE.t[b]),d=d||4e3;var e=a("#tve_notification_box"),f=TVE.tpl("notification-box/success");return e.length||(TVE.$notification=e=a('<div id="tve_notification_box"></div>').appendTo("body")),-1===c?f=TVE.tpl("notification-box/warning"):-2===c?f=TVE.tpl("notification-box/info"):c&&(f=TVE.tpl("notification-box/error")),e.html(f({message:b})).animate({top:30},700),setTimeout(function(){e.animate({top:-1200},700)},d),this},browser:function(){var a={},b=function(){var a,b,c=-1;return"Microsoft Internet Explorer"===navigator.appName?(a=navigator.userAgent,b=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==b.exec(a)&&(c=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(a=navigator.userAgent,b=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==b.exec(a)&&(c=parseFloat(RegExp.$1))),c}();if(b>0)a.msie=!0;else{var c=navigator.userAgent.toLowerCase(),d=/(edge)[ \/]([\w.]+)/.exec(c)||/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[],e={browser:d[1]||"",version:d[2]||"0"};d[1]&&(a[e.browser]=!0),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0)}a.msie&&(a.version=b),this.BROWSER=a},preserve_changed_link:function(a){a=a.jquery?a[0]:a;var b=a.getAttribute("href");-1!==b.indexOf("amazon.com")?a.setAttribute("data-tcb-href",b):a.removeAttribute("data-tcb-href")},getCaretCharacterOffsetWithin:function(a){var b,c=0,d=a.ownerDocument||a.document,e=d.defaultView||d.parentWindow;if(void 0!==e.getSelection){if(b=e.getSelection(),b.rangeCount>0){var f=e.getSelection().getRangeAt(0),g=f.cloneRange();g.selectNodeContents(a),g.setEnd(f.endContainer,f.endOffset),c=g.toString().length}}else if((b=d.selection)&&"Control"!=b.type){var h=b.createRange(),i=d.body.createTextRange();i.moveToElementText(a),i.setEndPoint("EndToEnd",h),c=i.text.length}return c}},a.fn.extend({tve_draggable:function(b){b=b||{},b.stepSize=b.stepSize||1;var c,d,e,f,g,h,i,j=!1,k={x:0,y:0},l={x:0,y:0},m=a.extend({start:function(a,b){},move:function(a,b,c,d,e,f){},stop:function(a,b,c,d,e,f){}},b),n={top:"y",right:"x",bottom:"y",left:"x"},o=function(){TVE.set_event_callback("inner","mousemove"),TVE.set_event_callback("inner","mouseup"),TVE.set_event_callback("outer","mousemove"),TVE.set_event_callback("outer","mouseup")},p=function(a){g=a.screenX,h=a.screenY,c=a.currentTarget,d=c.getAttribute("data-dir")||b.dir,f=c.getAttribute("data-style")||b.style,e=-1===c.className.indexOf("reverse")?1:-1,l.x=l.y=0,m.start(f,d,a),j=!0,TVE.set_event_callback("inner","mousemove",q),TVE.set_event_callback("inner","mouseup",r),TVE.set_event_callback("outer","mousemove",q),TVE.set_event_callback("outer","mouseup",r)},q=function(a){k.x=a.screenX-g,k.y=a.screenY-h;var c=Math.sqrt(Math.pow(k.y-l.y,2)+Math.pow(k.x-l.x,2));b.stepSize&&b.stepSize>1&&c<b.stepSize||(i=e*(k[n[d]]-l[n[d]])/b.stepSize,m.move(k[n[d]]*e/b.stepSize,f,d,i,a.ctrlKey,a),l.x=k.x,l.y=k.y)},r=function(a){o(),j=!1,k.x=a.screenX-g,k.y=a.screenY-h;var c=k[n[d]]*e/b.stepSize;i=e*(k[n[d]]-l[n[d]])/b.stepSize,c=c||1,m.stop(c,f,d,i,a.ctrlKey,a)};return this.on("mousedown",p),TVE.outer.$document.on("selectstart",function(a){return j&&a.preventDefault(),!j}),this},tve_search:function(b){var c=this;return this.trigger=function(c){b.hide(),b.filter(function(){return a(this).text().toLowerCase().indexOf(c)>=0}).show()},this.each(function(){
a(this).bind("keydown keypress keyup change",function(){var a=this.value.toLowerCase();c.trigger(a)})})},visible:function(){return this.css("visibility","visible")},invisible:function(){return this.css("visibility","hidden")}})}(jQuery)},collections:{"base.js":function(a,b,c){var d=c("../models/base");b.exports=Backbone.Collection.extend({model:d})},"gradient.js":function(a,b,c){var d=c("../models/base"),e=c("../libs/gradient-builder");b.exports=Backbone.Collection.extend({model:d,labels:{url:TVE.t.image,solid:TVE.t.solid_color,pattern:TVE.t.pattern,"linear-gradient":TVE.t.lin_grad,"repeating-linear-gradient":TVE.t.rep_lin_grad,"radial-gradient":TVE.t.rad_grad,"repeating-radial-gradient":TVE.t.rep_rad_grad},prepare_item:function(a){return"repeating-linear-gradient"!==a.type&&"repeating-radial-gradient"!==a.type||(a.real_type=a.type,a.type="pattern"),a.label=this.labels[a.type],"url"===a.type?a.icon='<span class="tcb-icon-14w">'+TVE.icon("img")+"</span>":a.icon='<span class="tcb-icon-inline" style="background-size:'+a.size+";background-image:"+e(a)+'"></span>',a},add:function(a,b){return b=b||{at:0},Backbone.Collection.prototype.add.call(this,a,b)},reset:function(a){return a=_.map(a,this.prepare_item,this),Backbone.Collection.prototype.reset.call(this,a)}})}},elements:{"_base.js":function(a,b,c){!function(a){b.exports=Backbone.Model.extend({initialize:function(a){this.key=a.key,this.setup_defaults()},setup_defaults:function(){this.config={}},render_default:function(){this.setup_defaults();var b=a('<div class="thrv_wrapper thrv-'+this.key+'"></div>');return this.render_to(b),b},set_element:function(a){return this.$element=a,this},render_to:function(a,b){if(b){var c=this.__undo_snaphot?this.__undo_snaphot:this.read_element_props(a);this.clear_undo_snapshot()}if(this._render_to.apply(this,arguments),b){var d=this.read_element_props(a);TVE.UndoManager.add({undo:function(){a.html(c.html).attr(c.data).attr("class",c.cls)},redo:function(){a.html(d.html).attr(d.data).attr("class",d.cls)}})}return this},_render_to:function(a,b){},set_data:function(a){return _.extend(this.data,a),this},set_config:function(b,c){return void 0===c||c?a.extend(!0,this.config,b):this.config=_.extend(this.config,b),this},read_element_props:function(a){var b={html:a.html(),cls:a.attr("class"),style:a.attr("style"),data:{}};return this.data||(this.data=a.data()),_.each(this.data,function(c,d){b.data["data-"+d]=a.attr("data-"+d)}),b},take_undo_snapshot:function(a){this.__undo_snaphot=this.read_element_props(a)},clear_undo_snapshot:function(){delete this.__undo_snaphot}})}(jQuery)},"_renderers.js":function(a,b,c){var d=c("./rating"),e=c("./columns"),f=c("./social"),g=c("./credit"),h=c("./styled-list"),i=c("./numbered-list"),j=c("./_base");b.exports={base:new j({key:"base"}),columns:new e({key:"columns"}),social:new f({key:"social"}),rating:new d({key:"rating"}),credit:new g({key:"credit"}),styledlist:new h({key:"styled_list"}),numberedlist:new i({key:"numbered_list"}),CONSTRUCTORS:{social:f}}},"columns.js":function(a,b,c){b.exports=c("./_base").extend({setup_defaults:function(){this.data={},this.default_format=[],this.default_format[2]=[]},render_default:function(){return this.setup_defaults(),jQuery('<div class="thrv_wrapper tcb-row-empty tcb-elem-placeholder thrv-'+this.key+'"></div>').html('<span class="tcb-inline-placeholder-action with-icon">'+TVE.icon("column","svg","editor")+TVE.t.column_layout+"</span>")},_render_to:function(a,b,c,d,e){c=parseInt(c),e=void 0!==e&&e;var f="";return void 0===d?_.each(this.format[c],function(a,b){f+=this.get_html(c,b,e)},this):f=this.get_html(c,parseInt(d),e),a.html(f),this},get_html:function(a,b){for(var c=0,d="",e=this.format[a][b];c<a;)d+='<div class="tcb-flex-col'+(e.cls&&e.cls[c]?" "+e.cls[c]:"")+'"><div class="tcb-col"></div></div>',c++;return'<div class="tcb-flex-row tcb--cols--'+a+'">'+d+"</div>"},format:["","",[{text:"1/2"},{text:["1/3","2/3"],cls:["c-33","c-66"]},{text:["2/3","1/3"],cls:["c-66","c-33"]}],[{text:"1/3"},{text:["1/4","2/4","1/4"],cls:["c-25","c-50","c-25"]},{text:["1/4","1/4","2/4"],cls:["c-25","c-25","c-50"]},{text:["2/4","1/4","1/4"],cls:["c-50","c-25","c-25"]}],[{text:"1/4"}]]})},"credit.js":function(a,b,c){b.exports=c("./_base").extend({cards:{visa:"Visa",masterCard:"MasterCard",americanExpress:"American Express",payPal:"PayPal",discover:"Discover"},setup_defaults:function(){var a=JSON.parse(JSON.stringify(this.cards));delete a.discover,this.data={cards:a,style:"style1"}},get_html:function(a,b){b=void 0===b?this.data.style:b,a=void 0===a?this.data.cards:a;var c="";return _.each(a,function(a,d){c+='<svg viewBox="0 0 72 52" class="tcb-'+d+'-card">'+this.templates[b][d]+"</svg>"},this),c},_render_to:function(a,b){return a.attr({"data-style":this.data.style,"data-cards":Object.keys(this.data.cards)}).html(this.get_html()),this},get_styles:function(){var a={},b=this.cards;return _.each(this.templates,function(c,d){a[d]={label:TVE.firstLetterUppercase(d),html:this.get_html(b,d)}},this),a},get_cards:function(){var a=[];return _.each(this.cards,function(b,c){a.push({identifier:c,label:b})},this),a},get_card_template:function(a,b){b=void 0!==b&&b;var c=this.templates[this.data.style][a];return b&&(c='<svg viewBox="0 0 72 52">'+c+"</svg>"),c},sort_element_cards:function(a){this.data.cards={},_.each(a,function(a,b){this.data.cards[a]=this.cards[a]},this)},templates:{style1:{visa:'<g><path class="visa-style-1-st0" d="M7.6,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6c-3.7,0-6.6-3-6.6-6.6V7.5C1,3.9,4,0.9,7.6,0.9z"/><path class="visa-style-1-st1" d="M24.8,33.8h-4.1l-3.1-11.6c-0.1-0.5-0.5-1-0.9-1.2c-1.1-0.6-2.4-1-3.7-1.2v-0.4h6.6c0.9,0,1.6,0.7,1.7,1.5l1.6,8.4l4.1-9.8h4L24.8,33.8z M33.1,33.8h-3.8l3.2-14.5h3.8L33.1,33.8z M41.2,23.3c0.1-0.8,0.8-1.2,1.6-1.2c1.2-0.1,2.6,0.1,3.7,0.7l0.7-3.1c-1.1-0.4-2.4-0.7-3.5-0.7c-3.7,0-6.4,2-6.4,4.8c0,2.1,1.9,3.2,3.3,3.9c1.5,0.7,2,1.1,1.9,1.8c0,1-1.1,1.5-2.3,1.5c-1.4,0-2.7-0.3-4-0.9l-0.7,3.1c1.4,0.6,2.8,0.8,4.2,0.8C44,34,46.6,32,46.6,29C46.6,25.2,41.2,25,41.2,23.3L41.2,23.3z M60,33.8l-3.1-14.5h-3.3c-0.7,0-1.4,0.4-1.6,1.1l-5.6,13.4h4l0.8-2.1H56l0.5,2.1H60z M54.2,23.2l1.1,5.5h-3.2L54.2,23.2z"/></g>',masterCard:'<g transform="translate(337.000000, 0.000000)"><path class="masterCard-style-1-st0" d="M-329.4,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-336,3.9-333,0.9-329.4,0.9z"/><g transform="translate(12.526316, 11.194030)"><path class="masterCard-style-1-st1" d="M-313.2,4.5c-2.4-2.1-5.5-3.3-8.8-3.3c-7.5,0-13.6,6.2-13.6,13.8s6.1,13.8,13.6,13.8c3.4,0,6.5-1.2,8.8-3.3c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8s-6.1-13.8-13.6-13.8C-307.7,1.2-310.8,2.4-313.2,4.5z"/><path class="masterCard-style-1-st2" d="M-313.2,4.5c-2.4-2.1-5.5-3.3-8.8-3.3c-7.5,0-13.6,6.2-13.6,13.8s6.1,13.8,13.6,13.8c3.4,0,6.5-1.2,8.8-3.3c-2.9-2.5-4.8-6.3-4.8-10.5S-316.1,7-313.2,4.5z"/><path class="masterCard-style-1-st3" d="M-313.2,25.5c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8s-6.1-13.8-13.6-13.8c-3.4,0-6.5,1.2-8.8,3.3c2.9,2.5,4.8,6.3,4.8,10.5S-310.2,23-313.2,25.5z"/></g></g>',americanExpress:'<g><g><g transform="translate(169.000000, 0.000000)"><path class="americanExpress-style-1-st0" d="M-161.4,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-168,3.9-165,0.9-161.4,0.9z"/></g></g><path class="americanExpress-style-1-st1" d="M31,28.2l-3.8-8.4h-4.6v11.9l-5.4-11.9h-3.8L8,32.3h3.2l1.1-2.7h6l1.1,2.7h6.2v-9.2l4.1,9.2h2.7l4.1-8.9v8.9h3V20.1h-4.6L31,28.5L31,28.2z M15.4,26.9h-1.9l1.9-4.3l0,0l2,4.3L15.4,26.9z"/><path class="americanExpress-style-1-st1" d="M58.4,26l2.2-2.4l3.2-3.5H60l-3.5,3.8L53,20.1H41.3v12.2H53l3.5-4.1l3.5,4.1h3.8l-3.2-3.8L58.4,26z M51.1,29.8h-6.8v-2.4h6.8V25h-6.8v-2.2h6.8l3.5,3.2L51.1,29.8z"/></g>',payPal:'<g><g transform="translate(85.000000, 0.000000)"><path class="payPal-style-1-st0" d="M-77.4,0.9h56.7c3.7,0,6.6,3,6.6,6.6v36.7c0,3.7-3,6.6-6.6,6.6h-56.7c-3.7,0-6.6-3-6.6-6.6V7.5C-84,3.9-81,0.9-77.4,0.9z"/></g><path class="payPal-style-1-st1" d="M34.7,18.3h8.1c4.3,0,6,2.2,5.7,5.4c-0.4,5.3-3.6,8.3-7.9,8.3h-2.2c-0.6,0-1,0.4-1.1,1.4l-0.9,6.1c-0.1,0.4-0.3,0.6-0.6,0.7h-5.1c-0.5,0-0.6-0.4-0.5-1.2l3.1-19.6C33.4,18.7,33.8,18.3,34.7,18.3z"/><path class="payPal-style-1-st2" d="M29.6,11.6h8.1c2.3,0,5,0.1,6.8,1.7c1.2,1.1,1.8,2.8,1.7,4.6c-0.5,6.2-4.2,9.6-9.1,9.6h-4c-0.7,0-1.1,0.4-1.3,1.7l-1.1,7.1C30.6,36.7,30.4,37,30,37h-5c-0.6,0-0.7-0.4-0.6-1.3L28,12.9C28.2,12,28.7,11.6,29.6,11.6z"/></g>',discover:'<g transform="translate(253.000000, 0.000000)"><path class="discover-style-1-st0" d="M-245.3,0.9h56.6c3.7,0,6.7,3,6.7,6.7v36.6c0,3.7-3,6.7-6.7,6.7h-56.6c-3.7,0-6.7-3-6.7-6.7V7.6C-252,3.9-249,0.9-245.3,0.9z"/><path class="discover-style-1-st1" d="M-190.8,25.7h-0.5v-2.9h0.5c1.2,0,1.7,0.5,1.7,1.4C-189.1,25.2-189.6,25.7-190.8,25.7L-190.8,25.7z M-187.1,24.1c0-1.8-1.2-2.8-3.4-2.8h-2.7v9.6h1.8V27h0.2l2.5,3.9h2.3l-2.9-4C-188,26.7-187,25.5-187.1,24.1L-187.1,24.1z M-199.6,30.9h5.2v-1.6h-3.4v-2.6h3.3V25h-3.3v-2.1h3.4v-1.6h-5.2V30.9L-199.6,30.9z M-205.1,27.7l-2.5-6.4h-2l4,9.8h1l4-9.8h-2L-205.1,27.7L-205.1,27.7z M-227.1,26.1c0,2.7,2.2,4.9,4.9,4.9c0.9,0,1.6-0.2,2.4-0.5v-2.1c-0.5,0.6-1.3,1.1-2.2,1.1c-1.7,0-3.2-1.3-3.2-3v-0.2c-0.1-1.7,1.3-3.2,3-3.3c0.9,0,1.7,0.4,2.3,1.1v-2.1c-0.7-0.4-1.5-0.5-2.3-0.5C-224.9,21.1-227.1,23.3-227.1,26.1L-227.1,26.1z M-230.5,24.9c-1.1-0.4-1.4-0.6-1.4-1.2c0.1-0.6,0.7-1.2,1.3-1.1c0.5,0,1.1,0.3,1.5,0.8l1-1.3c-0.8-0.6-1.7-1.1-2.7-1.1c-1.5-0.1-2.8,1.1-2.9,2.6v0.1c0,1.3,0.5,2,2.3,2.6c0.4,0.1,0.9,0.3,1.3,0.5c0.3,0.2,0.5,0.5,0.5,1c0,0.8-0.7,1.4-1.3,1.4h-0.1c-0.9,0-1.6-0.5-2-1.3l-1.2,1.2c0.7,1.2,2,1.8,3.3,1.8c1.7,0.1,3.2-1.2,3.3-2.9v-0.3C-227.8,26.4-228.3,25.8-230.5,24.9L-230.5,24.9z M-236.8,30.9h1.8v-9.6h-1.8V30.9L-236.8,30.9z M-240.5,28.5c-0.7,0.5-1.6,0.9-2.5,0.8h-0.5v-6.3h0.5c0.9-0.1,1.8,0.2,2.5,0.8c0.7,0.6,1,1.5,1,2.4C-239.5,27-239.8,27.8-240.5,28.5L-240.5,28.5z M-242.7,21.3h-2.7v9.6h2.7c1.2,0.1,2.4-0.3,3.4-1.1c1.1-1,1.7-2.3,1.7-3.7c0.1-2.6-2-4.7-4.6-4.8H-242.7L-242.7,21.3z M-214.3,21.1c-2.7,0-5,2.1-5,4.9c0,2.7,2.2,4.9,5,5.1c2.8,0.1,5-2.1,5.1-4.9C-209.3,23.3-211.5,21.1-214.3,21.1L-214.3,21.1z"/></g>'},style2:{visa:'<g><path class="visa-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><path class="visa-style-2-st1" d="M7.6,1h56.7C68,1,71,4,71,7.6v3.7H1V7.6C1,4,4,1,7.6,1z"/><path class="visa-style-2-st2" d="M71,40.6v3.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4v-3.7H71z"/><path class="visa-style-2-st1" d="M56.5,33.3l-0.4-2.2h-4.9l-0.8,2.2h-4l5.7-13.5c0,0,0.3-1.1,1.8-1.1H57l3.1,14.5H56.5z M52.3,28.1h3.2l-1.1-5.4L52.3,28.1z"/><path class="visa-style-2-st1" d="M46.7,22.2l0.5-3.1c0,0-1.7-0.6-3.5-0.6c-1.9,0-6.4,0.8-6.4,4.8c0,3.8,5.3,3.8,5.3,5.8c0,2-4.8,1.6-6.3,0.4l-0.6,3.3c0,0,1.7,0.8,4.3,0.8c2.6,0,6.6-1.3,6.6-5c0-3.8-5.4-4.1-5.4-5.8C41.3,21.1,45.1,21.3,46.7,22.2"/><polyline class="visa-style-2-st1" points="33.4,33.3 29.6,33.3 32,18.7 35.8,18.7 33.4,33.3 \t"/><path class="visa-style-2-st1" d="M16.1,18.7h-3L13,19c0,0,1.9,0.4,4,1.7l3.3,12.6h4l6.1-14.5h-4.1l-3.7,10l-0.4-2.2v0L20.9,20c0,0-0.2-1.3-1.8-1.3H16.1h-3L13,19c0,0,2.9,0.6,5.7,2.8c2.7,2.1,3.5,4.8,3.5,4.8L20.9,20c0,0-0.2-1.3-1.8-1.3H16.1z"/><path class="visa-style-2-st2" d="M22.2,26.6L20.9,20c0,0-0.2-1.3-1.8-1.3h-6.1L13,19c0,0,2.9,0.6,5.7,2.8C21.4,23.9,22.2,26.6,22.2,26.6"/></g>',masterCard:'<g><path class="masterCard-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><path class="masterCard-style-2-st1" d="M41.4,26c0,7.7-6.2,13.9-14,13.9c-7.7,0-14-6.2-14-13.9c0-7.7,6.2-13.9,14-13.9C35.1,12.1,41.4,18.3,41.4,26"/><path class="masterCard-style-2-st2" d="M46.1,12.1c-3.6,0-6.9,1.4-9.4,3.6c-0.5,0.5-1,1-1.4,1.5h2.8c0.4,0.5,0.7,1,1.1,1.5h-4.9c-0.3,0.5-0.6,1-0.8,1.5H40c0.2,0.5,0.4,1,0.6,1.5h-7.7c-0.2,0.5-0.3,1-0.4,1.5H41c0.2,1,0.3,1.9,0.3,3c0,1.5-0.3,3-0.7,4.4h-7.7c0.2,0.5,0.4,1,0.6,1.5H40c-0.2,0.5-0.5,1-0.8,1.5h-4.9c0.3,0.5,0.7,1,1.1,1.5h2.8c-0.4,0.5-0.9,1-1.4,1.5c2.5,2.2,5.8,3.6,9.4,3.6c7.7,0,14-6.2,14-13.9C60.1,18.3,53.8,12.1,46.1,12.1"/><path class="masterCard-style-2-st3" d="M57.7,29.7h-1.4l0.1-0.5c-0.4,0.4-0.8,0.6-1.4,0.6c-1.1,0-1.8-0.9-1.8-2.4c0-1.9,1.1-3.5,2.5-3.5c0.6,0,1,0.2,1.4,0.8l0.3-2h1.5L57.7,29.7L57.7,29.7z M55.5,28.4c0.7,0,1.2-0.8,1.2-1.9c0-0.7-0.3-1.1-0.8-1.1c-0.7,0-1.2,0.8-1.2,1.9C54.7,28,55,28.4,55.5,28.4L55.5,28.4z"/><path class="masterCard-style-2-st3" d="M50.9,23.8c-0.2,1.8-0.5,3.6-0.8,5.4L50,29.5h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H50.9"/><path class="masterCard-style-2-st3" d="M48.5,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C48,28.5,48.5,27.9,48.5,27.1L48.5,27.1z M49.6,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C49.9,27.4,49.7,29.2,49.6,29.6L49.6,29.6z"/><path class="masterCard-style-2-st3" d="M46.1,22.8l-0.2,1.5c-0.5-0.3-0.9-0.4-1.4-0.4c-1.1,0-1.9,1.1-1.9,2.6c0,1.1,0.5,1.7,1.4,1.7c0.4,0,0.8-0.1,1.3-0.4L45,29.6c-0.6,0.2-0.9,0.2-1.3,0.2c-1.6,0-2.6-1.2-2.6-3.1c0-2.5,1.4-4.3,3.4-4.3C45.1,22.4,45.9,22.7,46.1,22.8"/><path class="masterCard-style-2-st3" d="M38.6,23.8c-0.2,1.8-0.5,3.6-0.8,5.4l-0.1,0.4h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H38.6"/><path class="masterCard-style-2-st3" d="M37.2,29.5c-0.5,0.2-1,0.2-1.5,0.2c-1.7,0-2.6-0.9-2.6-2.6c0-2,1.1-3.4,2.6-3.4c1.2,0,2,0.8,2,2.1c0,0.4-0.1,0.8-0.2,1.4h-3c-0.1,0.8,0.4,1.2,1.3,1.2c0.5,0,1-0.1,1.6-0.4L37.2,29.5L37.2,29.5z M36.3,26.1c0-0.1,0.2-1-0.7-1c-0.5,0-0.8,0.4-1,1H36.3L36.3,26.1z"/><path class="masterCard-style-2-st3" d="M32.5,29.6c-0.4,0.1-0.7,0.2-1.1,0.2c-0.8,0-1.2-0.4-1.2-1.3c0-0.3,0.1-0.9,0.2-1.5c0.1-0.5,0.7-3.9,0.7-3.9h1.5l-0.2,0.9h0.8L33,25.3h-0.8c-0.2,1.1-0.4,2.5-0.4,2.6c0,0.3,0.2,0.4,0.5,0.4c0.2,0,0.3,0,0.4-0.1L32.5,29.6"/><path class="masterCard-style-2-st3" d="M26.6,25.7c0,0.7,0.4,1.2,1.2,1.6c0.6,0.3,0.7,0.4,0.7,0.6c0,0.4-0.3,0.5-0.9,0.5c-0.5,0-0.9-0.1-1.4-0.2c0,0-0.2,1.3-0.2,1.3c0.3,0.1,0.7,0.1,1.6,0.2c1.6,0,2.3-0.6,2.3-1.9c0-0.8-0.3-1.3-1.1-1.6c-0.6-0.3-0.7-0.4-0.7-0.6c0-0.3,0.3-0.5,0.7-0.5c0.3,0,0.7,0,1.1,0.1l0.2-1.3c-0.4-0.1-1-0.1-1.3-0.1C27.2,23.7,26.6,24.6,26.6,25.7"/><path class="masterCard-style-2-st3" d="M24.7,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C24.2,28.5,24.7,27.9,24.7,27.1L24.7,27.1z M25.8,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C26.1,27.4,25.8,29.2,25.8,29.6L25.8,29.6z"/><polyline class="masterCard-style-2-st3" points="20.8,29.7 19.3,29.7 20.2,24.3 18.3,29.7 17.2,29.7 17.1,24.3 16.2,29.7 14.8,29.7 16,22.6 18.1,22.6 18.2,27 19.7,22.6 22,22.6 20.8,29.7"/></g>',americanExpress:'<g><path class="americanExpress-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><g><path class="americanExpress-style-2-st0" d="M44.1,35.5v-1.8c0-0.1-0.1-0.5-0.7-0.5h-1.2v2.3h-2.7v-3.3c-0.5,0.8-1.5,1.2-3.1,1.2h-1.2v2.2h-3.9l-1.6-1.8l-1.6,1.8H21v-7.7h7l1.8,1.9l1.8-1.9h1l0.5,0h4.2c0,0,0.1,0,0.2,0c0.3,0,0.9,0,1.5,0.4c0.2,0.1,0.4,0.3,0.6,0.6v-1h4.7c0,0,0.1,0,0.2,0c0.9,0,1.8,0.3,2.2,1.2v-1.2H53v1.1c0.5-0.8,1.4-1.1,2.2-1.1l3.9,0v1.1c0.5-0.8,1.4-1.1,2.2-1.1l3.9,0v2.6h-2c1.2,0.2,2.3,0.8,2.3,2.3c0,2.1-1.4,2.9-2.8,2.9c-0.2,0-0.3,0-0.3,0l-3.5,0v-1.1c-0.5,0.8-1.4,1.1-2.3,1.1c-0.2,0-0.3,0-0.3,0l-3.3,0v0h-6.2v0H44.1z M52.8,33v-0.1H56c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0c-0.2,0-0.4-0.1-0.8-0.1c0,0-0.1,0-0.2,0c-0.3,0-1,0-1.6-0.4c-0.3-0.2-0.6-0.4-0.9-0.8v1.3h-3.6V33H52.8z M26.7,33l0.1-0.1h-3V33H26.7z M62.1,32.9c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0c-0.2,0-0.4-0.1-0.8-0.1c0,0-0.1,0-0.2,0c-0.3,0-1,0-1.6-0.4c-0.2-0.1-0.4-0.2-0.6-0.4c0,0.2,0.1,0.4,0.1,0.6c0,0.1,0,0.2,0,0.3H62.1z M32.6,32.7v-2.1l-1,1L32.6,32.7z M46.3,31.8c0.1,0.2,0.3,0.4,0.4,0.6v-1.1C46.5,31.6,46.4,31.7,46.3,31.8z M27.3,32.4l0.6-0.7L27.3,31V32.4z M57.1,30.3c0.6,0.1,1.3,0.3,1.7,0.8c-0.1-0.2-0.1-0.5-0.1-0.8L57.1,30.3z M43.6,30.6c0.3,0,0.4-0.1,0.4-0.2c0,0-0.2-0.1-0.4-0.1h-1.3v0.3H43.6z M36.6,30.6c0.3,0,0.4-0.1,0.4-0.2c0,0-0.2-0.1-0.4-0.1h-1.3v0.3H36.6z M26.7,30.4L26.7,30.4l-2.9,0v0H26.7z M52.6,30.4C52.6,30.4,52.6,30.3,52.6,30.4l-3.2,0v0H52.6z M40,26.3L40,26.3l-2.5,0v-1.8c0-0.1-0.1-0.5-0.7-0.5h-1.2v2.3H23.9v-2.9l-1.3,2.9h-2.1l-1.4-2.9v2.9h-4.2l-0.6-1.4h-2.5l-0.6,1.4h-3l3.3-7.7h3.1l1.8,4.2v-4.2H20l1.6,3.5l1.6-3.5h14.5c0,0,0.1,0,0.2,0c0.9,0,1.8,0.3,2.2,1.2v-1.2h2.7v1.8c0.7-1.6,2.2-1.8,2.7-1.9l2.7,0.1v0.7l0.3-0.8h3.1l1.8,4.1v-4.1h3.2l1.9,3.1v-3.1h2.7v7.7h-3.2l-2-3.2v3.2h-4.2l-0.6-1.4h-2.5l-0.6,1.4h-3c-0.7-0.1-1.8-0.6-2.4-1.8v1.8H40z M32.9,23.8v-0.1h-3.5v0.1H32.9z M45.9,21.1c-0.1,0-0.7,0.1-0.8,1c0,0.1,0,0.3,0,0.4c0,1.2,0.6,1.2,0.8,1.2c0.1,0,0.3,0,0.4,0l1.1-2.6L45.9,21.1z M39.6,22.6c0.1,0.2,0.3,0.4,0.4,0.6v-1.1C39.9,22.3,39.8,22.5,39.6,22.6z M50.1,22.2L50,21.9l-0.1,0.2H50.1z M13.2,22.2l-0.1-0.2L13,22.2H13.2z M36.9,21.4c0.3,0,0.4-0.1,0.4-0.2c0,0-0.2-0.1-0.4-0.1h-1.3v0.3H36.9z M32.9,21.2L32.9,21.2l-3.5,0v0H32.9z"/><path class="americanExpress-style-2-st1" d="M45.5,19l2.1,0.1v1.5l-1.7,0c0,0-1.1,0-1.3,1.5c0,0.2,0,0.3,0,0.5c0,1.4,0.7,1.7,1.3,1.7c0.4,0,0.7-0.1,0.7-0.1l2.1-5h2.4l2.6,6.1v-6.1h2.4l2.7,4.4v-4.4h1.7v6.7h-2.4l-2.7-4.5v4.5h-1.5h-0.3h-1.6l-0.6-1.4h-3.2l-0.6,1.4h-1.6H46h-0.8c0,0-2.3-0.3-2.3-3.2C42.8,18.9,45.5,19,45.5,19 M49.2,22.7h1.7l-0.8-2L49.2,22.7 M37.8,19c0.5,0,2,0.2,2,2c0,1.2-1,1.6-1,1.6s0.8,0.4,0.8,1.5v1.7H38v-1.3c0,0-0.1-1-1.2-1h-1.7v2.3h-1.7v-6.7h4.2C37.6,19.1,37.7,19,37.8,19 M35.1,21.9h1.8c0.5,0,0.9-0.3,0.9-0.6c0-0.4-0.4-0.6-0.9-0.6h-1.8V21.9 M26.2,19.1v6.7h-1.7v-4.6l-2.2,4.6h-1.4l-2.2-4.6v4.6h-1.5h-0.2h-1.7l-0.6-1.4h-3.2l-0.6,1.4H9l2.9-6.7h2.4l2.6,6.2v-6.2h2.7l1.9,4.2l1.9-4.2H26.2 M12.2,22.7h1.7l-0.8-2L12.2,22.7 M32.5,19.1v1.6h-3.6v1h3.6v1.5h-3.6v1.1h3.6v1.5h-5.4v-6.7H32.5 M42.2,19.1v6.7h-1.7v-6.7H42.2 M37.5,28.2c0.5,0,2,0.2,2,2c0,2-0.7,2.6-3,2.6h-1.7V35h-1.7h-1.5l-1.8-2l-1.8,2h-1h-5.4v-6.7h5.4h0.9l2,2.1l2-2.1h1.3v0h4.2C37.3,28.3,37.4,28.2,37.5,28.2 M33.1,34v-4.7L31,31.7L33.1,34 M34.8,31.1h1.8c0.5,0,0.9-0.3,0.9-0.6c0-0.4-0.4-0.6-0.9-0.6h-1.8V31.1 M23.3,30.9h3.5v1.5h-3.5v1.1h3.6l1.7-1.9l-1.7-1.8h-3.6V30.9 M61.3,28.3C61.4,28.3,61.4,28.3,61.3,28.3l3.4,0v1.6H62c0,0-0.1,0-0.3,0c-0.3,0-0.7,0.1-0.7,0.5c0,0.4,0.8,0.5,1.1,0.5c0.1,0,0.2,0,0.2,0s0.1,0,0.2,0c0.6,0,2.5,0.1,2.5,1.8c0,2.2-1.7,2.4-2.3,2.4c-0.1,0-0.2,0-0.2,0h-3.1v-1.5h2.7c0,0,0.1,0,0.2,0c0.3,0,0.8-0.1,0.8-0.5c0-0.5-1.1-0.6-1.4-0.6c0,0-0.1,0-0.1,0s-0.1,0-0.2,0c-0.5,0-2.2-0.1-2.2-2C59.2,28.4,61,28.3,61.3,28.3 M55.2,28.3C55.3,28.3,55.3,28.3,55.2,28.3l3.4,0v1.6h-2.7c0,0-0.1,0-0.3,0c-0.3,0-0.7,0.1-0.7,0.5c0,0.4,0.8,0.5,1.1,0.5c0.1,0,0.2,0,0.2,0s0.1,0,0.2,0c0.6,0,2.5,0.1,2.5,1.8c0,2.2-1.7,2.4-2.3,2.4c-0.1,0-0.2,0-0.2,0h-3.1v-1.5H56c0,0,0.1,0,0.2,0c0.3,0,0.8-0.1,0.8-0.5c0-0.5-1.1-0.6-1.4-0.6c0,0-0.1,0-0.1,0s-0.1,0-0.2,0c-0.5,0-2.2-0.1-2.2-2C53.1,28.4,54.9,28.3,55.2,28.3 M44.5,28.3c0.5,0,2,0.2,2,2c0,1.2-1,1.6-1,1.6s0.8,0.4,0.8,1.5V35h-1.7v-1.3c0,0-0.1-1-1.2-1h-1.7V35h-1.7v-6.7h4.2C44.3,28.3,44.3,28.3,44.5,28.3 M41.8,31.1h1.8c0.5,0,0.9-0.3,0.9-0.6s-0.4-0.6-0.9-0.6h-1.8V31.1 M52.5,28.3v1.6h-3.6v1h3.6v1.5h-3.6v1.1h3.6V35h-5.4v-6.7H52.5 M45.4,18L45.4,18c-0.8,0.1-1.6,0.3-2.2,0.9v-0.8h-1h-1.7h-1v0.4C39,18.2,38.4,18,37.8,18h0c-0.1,0-0.2,0-0.3,0h-4.1h-1v0h-5.2v0h-1h-2.7h-0.6l-0.3,0.6l-1,2.2l-1-2.2l-0.3-0.6h-0.6h-2.7h-1v1v1.3l-0.7-1.7L15,18.1h-0.7h-2.4h-0.7l-0.3,0.6l-2.9,6.7l-0.6,1.4H9h1.9h0.7l0.3-0.6l0.3-0.8H14l0.3,0.8l0.3,0.6h0.7h1.7h0.2h1.5h1v-1v-0.1l0.3,0.6l0.3,0.6h0.6h1.4h0.6l0.3-0.6l0.3-0.6v0.1v1h1h1.7h1v0h5.2v0h1h1.7h1v-1v-1.3h0.7c0.1,0,0.1,0,0.1,0c0,0,0,0.1,0,0.1v1.2v1h1h1.5v0h1h1.7h1v-0.9c0.6,0.5,1.3,0.8,1.8,0.8l0.1,0h0.1H46h0.3h1.6h0.7l0.3-0.6l0.3-0.8h1.8l0.3,0.8l0.3,0.6h0.7h1.6h0.3h1.5h1v-1v-0.9l0.9,1.5l0.3,0.5h0.6h2.4h1v-1v-6.7v-1h-1H59h-1v1v0.9l-0.9-1.4l-0.3-0.5h-0.6h-2.4h-1v1v1.2l-0.7-1.6l-0.3-0.6h-0.7h-2.4h-0.7l0,0l-0.5,0L45.6,18L45.4,18L45.4,18z M46,23.2c-0.2,0-0.3,0-0.3-0.7c0-0.1,0-0.2,0-0.4c0.1-0.5,0.3-0.6,0.3-0.6l0.7,0L46,23.2C46,23.2,46,23.2,46,23.2L46,23.2z M37.5,27.2c-0.1,0-0.2,0-0.2,0h-4.1h-1v0h-0.3h-0.4L31,27.6l-1.3,1.3l-1.3-1.3l-0.3-0.3h-0.4h-0.9h-5.4h-1v1V35v1h1h5.4h1h0.4l0.3-0.3l1.1-1.2l1.1,1.2l0.3,0.3h0.4h1.5h1.7h1v-1v-1.2h0.7c1.1,0,1.9-0.2,2.6-0.5V35v1h1h1.7h1v-1v-1.3h0.7c0.1,0,0.1,0,0.1,0c0,0,0,0.1,0,0.1V35v1h1h1.7h1v0h5.2h1v0h2.8c0.1,0,0.1,0,0.3,0c0.6,0,1.2-0.1,1.8-0.5V36h1h3c0.1,0,0.1,0,0.3,0c1.5,0,3.3-0.9,3.3-3.4c0-0.7-0.2-1.3-0.6-1.8h0.3v-1v-1.6v-1h-1h-3.3c0,0,0,0-0.1,0c-0.6,0-1.2,0.1-1.7,0.4v-0.4h-1h-3.3c0,0,0,0-0.1,0c-0.6,0-1.2,0.1-1.7,0.4v-0.4h-1h-5.4h-1v0.4c-0.5-0.3-1.1-0.4-1.7-0.4c-0.1,0-0.2,0-0.3,0h-4.1h-1v0.4C38.6,27.4,38,27.2,37.5,27.2L37.5,27.2z"/></g></g>',payPal:'<g><path class="payPal-style-2-st0" d="M7.6,1h56.7C68,1,71,4,71,7.6v36.7c0,3.7-3,6.6-6.6,6.6H7.6C4,51,1,48,1,44.4V7.6C1,4,4,1,7.6,1z"/><path class="payPal-style-2-st1" d="M61.9,18.9l-1.8,11.2c0,0.2,0.1,0.4,0.4,0.4h1.8c0.3,0,0.5-0.2,0.6-0.5l1.7-11c0-0.2-0.1-0.4-0.4-0.4h-2C62.1,18.6,61.9,18.8,61.9,18.9"/><path class="payPal-style-2-st1" d="M56.6,26.6c-0.2,1.2-1.1,2-2.3,2c-0.6,0-1.1-0.2-1.4-0.6c-0.3-0.4-0.4-0.9-0.3-1.4c0.2-1.2,1.1-2,2.3-2c0.6,0,1.1,0.2,1.4,0.6C56.5,25.5,56.7,26.1,56.6,26.6 M59.4,22.6h-2.1c-0.2,0-0.3,0.1-0.4,0.3l-0.1,0.6l-0.1-0.2c-0.4-0.6-1.4-0.9-2.4-0.9c-2.3,0-4.2,1.7-4.6,4.1c-0.2,1.2,0.1,2.4,0.8,3.2c0.6,0.7,1.5,1,2.6,1c1.8,0,2.9-1.2,2.9-1.2l-0.1,0.6c0,0.2,0.1,0.4,0.4,0.4h1.9c0.3,0,0.5-0.2,0.6-0.5l1.1-7.1C59.8,22.8,59.7,22.6,59.4,22.6"/><path class="payPal-style-2-st1" d="M47,22.7c-0.2,1.5-1.4,1.5-2.6,1.5h-0.7l0.5-2.9c0-0.2,0.2-0.3,0.4-0.3h0.3c0.8,0,1.5,0,1.9,0.4C47.1,21.7,47.1,22.1,47,22.7 M46.5,18.6h-4.3c-0.3,0-0.5,0.2-0.6,0.5l-1.7,11c0,0.2,0.1,0.4,0.4,0.4h2.2c0.2,0,0.4-0.1,0.4-0.4l0.5-3.1c0-0.3,0.3-0.5,0.6-0.5h1.4c2.8,0,4.5-1.4,4.9-4.1c0.2-1.2,0-2.1-0.6-2.8C49.1,19,48,18.6,46.5,18.6"/><path class="payPal-style-2-st2" d="M39.7,22.6h-2.1c-0.2,0-0.4,0.1-0.5,0.3l-2.9,4.2L33,23c-0.1-0.3-0.3-0.4-0.6-0.4h-2c-0.2,0-0.4,0.2-0.3,0.5l2.3,6.7l-2.2,3c-0.2,0.2,0,0.6,0.3,0.6h2.1c0.2,0,0.4-0.1,0.5-0.3l6.9-9.9C40.1,22.9,39.9,22.6,39.7,22.6"/><path class="payPal-style-2-st2" d="M25.8,26.6c-0.2,1.2-1.1,2-2.3,2c-0.6,0-1.1-0.2-1.4-0.6c-0.3-0.4-0.4-0.9-0.3-1.4c0.2-1.2,1.1-2,2.3-2c0.6,0,1.1,0.2,1.4,0.6C25.7,25.5,25.8,26.1,25.8,26.6 M28.6,22.6h-2.1c-0.2,0-0.3,0.1-0.4,0.3l-0.1,0.6L26,23.3c-0.4-0.6-1.4-0.9-2.4-0.9c-2.3,0-4.2,1.7-4.6,4.1c-0.2,1.2,0.1,2.4,0.8,3.2c0.6,0.7,1.5,1,2.6,1c1.8,0,2.9-1.2,2.9-1.2l-0.1,0.6c0,0.2,0.1,0.4,0.4,0.4h1.9c0.3,0,0.5-0.2,0.6-0.5L29,23C29,22.8,28.9,22.6,28.6,22.6"/><path class="payPal-style-2-st2" d="M16.2,22.7c-0.2,1.5-1.4,1.5-2.6,1.5H13l0.5-2.9c0-0.2,0.2-0.3,0.4-0.3h0.3c0.8,0,1.5,0,1.9,0.4C16.2,21.7,16.3,22.1,16.2,22.7 M15.7,18.6h-4.3c-0.3,0-0.5,0.2-0.6,0.5l-1.7,11c0,0.2,0.1,0.4,0.4,0.4h2.1c0.3,0,0.5-0.2,0.6-0.5l0.5-3c0-0.3,0.3-0.5,0.6-0.5h1.4c2.8,0,4.5-1.4,4.9-4.1c0.2-1.2,0-2.1-0.6-2.8C18.3,19,17.2,18.6,15.7,18.6"/></g>',discover:'<g><path class="discover-style-2-st0" d="M7.7,1h56.6C68,1,71,4,71,7.7v36.6c0,3.7-3,6.7-6.7,6.7H7.7C4,51,1,48,1,44.3V7.7C1,4,4,1,7.7,1z"/><path class="discover-style-2-st1" d="M71,33.7v10.6c0,3.7-3,6.7-6.7,6.7H19.7C19.7,51,53,47.3,71,33.7z"/><path class="discover-style-2-st2" d="M66,23.9c0-1.9-1.2-3-3.3-3h-2.7v10h1.8v-4H62l2.5,4h2.3l-3-4.2C65.2,26.5,66,25.5,66,23.9L66,23.9zM62.3,25.6h-0.5v-3h0.6c1.1,0,1.8,0.5,1.8,1.5C64.1,25,63.4,25.6,62.3,25.6L62.3,25.6z"/><polyline class="discover-style-2-st2" points="53.4,31 58.7,31 58.7,29.3 55.3,29.3 55.3,26.6 58.5,26.6 58.5,24.9 55.3,24.9 55.3,22.7 58.7,22.7 58.7,21 53.4,21 53.4,31"/><polyline class="discover-style-2-st2" points="48.1,27.7 45.5,21 43.5,21 47.5,31.2 48.5,31.2 52.6,21 50.6,21 48.1,27.7"/><g><path class="discover-style-2-st3" d="M33.8,25.9c0,3,2.2,5.3,5,5.3c2.8,0,5-2.3,5-5.2c0-2.9-2.2-5.2-5-5.2C36.1,20.8,33.8,23.1,33.8,25.9z"/></g><g><path class="discover-style-2-st1" d="M33.8,25.9c0,3,2.2,5.3,5,5.3c2.8,0,5-2.3,5-5.2c0-2.9-2.2-5.2-5-5.2C36.1,20.8,33.8,23.1,33.8,25.9z"/></g><path class="discover-style-2-st2" d="M25.8,26c0,2.9,2.2,5.2,5,5.2c0.8,0,1.5-0.2,2.3-0.6v-2.3c-0.7,0.8-1.4,1.1-2.2,1.1c-1.9,0-3.2-1.4-3.2-3.5c0-1.9,1.4-3.4,3.1-3.4c0.9,0,1.5,0.3,2.3,1.1v-2.3c-0.8-0.4-1.5-0.6-2.3-0.6C28.1,20.8,25.8,23.1,25.8,26"/><path class="discover-style-2-st2" d="M22.5,24.8c-1.1-0.4-1.4-0.7-1.4-1.3c0-0.6,0.6-1.1,1.4-1.1c0.6,0,1,0.2,1.5,0.8l1-1.3c-0.8-0.7-1.7-1.1-2.8-1.1c-1.7,0-2.9,1.2-2.9,2.9c0,1.4,0.6,2.1,2.3,2.7c0.7,0.3,1.1,0.4,1.3,0.6c0.4,0.3,0.6,0.6,0.6,1c0,0.8-0.6,1.4-1.4,1.4c-0.9,0-1.6-0.5-2-1.3l-1.2,1.2c0.8,1.3,1.9,1.9,3.3,1.9c1.9,0,3.3-1.4,3.3-3.3C25.3,26.4,24.6,25.6,22.5,24.8"/><polygon class="discover-style-2-st2" points="16.2,21 18,21 18,31 16.2,31"/><path class="discover-style-2-st2" d="M10.3,21H7.6v10h2.7c1.4,0,2.5-0.4,3.4-1.2c1.1-0.9,1.7-2.4,1.7-3.8C15.4,23,13.3,21,10.3,21L10.3,21zM12.4,28.5c-0.6,0.6-1.3,0.8-2.5,0.8H9.4v-6.6h0.5c1.2,0,1.9,0.2,2.5,0.8c0.6,0.6,1,1.5,1,2.5C13.5,26.9,13.1,27.9,12.4,28.5L12.4,28.5z"/></g>'},style3:{visa:'<g><path class="visa-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><path class="visa-style-3-st1" d="M15,22h42c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4H15c-2.2,0-4-1.8-4-4v0C11,23.8,12.8,22,15,22z"/><path class="visa-style-3-st1" d="M5,1h62c2.2,0,4,1.8,4,4v5H1V5C1,2.8,2.8,1,5,1z"/><path class="visa-style-3-st2" d="M71,42v5c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4v-5H71z"/></g>',masterCard:'<g><path class="masterCard-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><g transform="translate(12.526316, 11.194030)"><path class="masterCard-style-3-st1" d="M23.8,4.6c-2.4-2.1-5.5-3.3-8.8-3.3C7.5,1.3,1.4,7.4,1.4,15.1S7.5,28.9,15,28.9c3.4,0,6.5-1.2,8.8-3.3c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8S40.2,1.3,32.7,1.3C29.3,1.3,26.2,2.5,23.8,4.6z"/><path class="masterCard-style-3-st2" d="M23.8,4.6c-2.4-2.1-5.5-3.3-8.8-3.3C7.5,1.3,1.4,7.4,1.4,15.1S7.5,28.9,15,28.9c3.4,0,6.5-1.2,8.8-3.3c-2.9-2.5-4.8-6.3-4.8-10.5S20.9,7.1,23.8,4.6z"/><path class="masterCard-style-3-st3" d="M23.8,25.6c2.4,2.1,5.5,3.3,8.8,3.3c7.5,0,13.6-6.2,13.6-13.8S40.2,1.3,32.7,1.3c-3.4,0-6.5,1.2-8.8,3.3c2.9,2.5,4.8,6.3,4.8,10.5S26.8,23,23.8,25.6z"/></g><path class="masterCard-style-3-st4" d="M24.2,22h25c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-25c-2.2,0-4-1.8-4-4v0C20.2,23.8,22,22,24.2,22z"/></g>',americanExpress:'<g><path class="americanExpress-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><path class="americanExpress-style-3-st1" d="M15.2,21h42c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-42c-2.2,0-4-1.8-4-4v0C11.2,22.8,13,21,15.2,21z"/></g>',payPal:'<g><path class="payPal-style-3-st0" d="M5,1h62c2.2,0,4,1.8,4,4v42c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z"/><path class="payPal-style-3-st1" d="M26.4,31.2l3-18.8c0.3-2.2,2.4-3.7,4.6-3.3l0,0c2.2,0.3,3.7,2.4,3.3,4.6l-3,18.8c-0.3,2.2-2.4,3.7-4.6,3.3h0C27.6,35.5,26.1,33.4,26.4,31.2z"/><path class="payPal-style-3-st2" d="M36.7,38.3l3-18.8c0.3-2.2,2.4-3.7,4.6-3.3h0c2.2,0.3,3.7,2.4,3.3,4.6l-3,18.8c-0.3,2.2-2.4,3.7-4.6,3.3h0C37.8,42.5,36.3,40.5,36.7,38.3z"/></g>',discover:'<g><path class="discover-style-3-st0" d="M7.7,1h56.6C68,1,71,4,71,7.7v36.6c0,3.7-3,6.7-6.7,6.7H7.7C4,51,1,48,1,44.3V7.7C1,4,4,1,7.7,1z"/><path class="discover-style-3-st1" d="M71,33.7v10.6c0,3.7-3,6.7-6.7,6.7H19.7C19.7,51,53,47.3,71,33.7z"/>\t<path class="discover-style-3-st1" d="M33.8,25.9c0,3,2.2,5.3,5,5.3c2.8,0,5-2.3,5-5.2c0-2.9-2.2-5.2-5-5.2C36.1,20.8,33.8,23.1,33.8,25.9z"/><path class="discover-style-3-st2" d="M11.7,21.9h15c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-15c-2.2,0-4-1.8-4-4v0C7.7,23.7,9.5,21.9,11.7,21.9z"/><path class="discover-style-3-st2" d="M51.7,21.9h9c2.2,0,4,1.8,4,4v0c0,2.2-1.8,4-4,4h-9c-2.2,0-4-1.8-4-4v0C47.7,23.7,49.5,21.9,51.7,21.9z"/></g>'},style4:{visa:'<g><polygon class="visa-style-4-st0" points="52.3,28.1 55.5,28.1 54.3,22.7"/><path class="visa-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M20.4,33.3L17,20.6c0,0-0.1,0-0.1,0c-0.2-0.1-0.5-0.3-0.7-0.4c0,0,0,0-0.1,0c-0.2-0.1-0.5-0.2-0.7-0.3c0,0-0.1,0-0.1,0c-0.4-0.2-0.8-0.4-1.2-0.5c0,0,0,0-0.1,0c-0.2-0.1-0.3-0.1-0.5-0.2c0,0,0,0,0,0c-0.1,0-0.3-0.1-0.3-0.1c0,0,0,0,0,0c-0.1,0-0.2,0-0.2-0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0l0.1-0.2h3h3c1.7,0,1.8,1.3,1.8,1.3l1.3,6.5v0l0.4,2.2l3.7-10h4.1l-6.1,14.5H20.4z M29.6,33.3L32,18.7h3.8l-2.4,14.5H29.6z M40.1,33.5c-2.6,0-4.3-0.8-4.3-0.8l0.6-3.3c1.6,1.2,6.3,1.6,6.3-0.4c0-2-5.3-2-5.3-5.8c0-4,4.5-4.8,6.4-4.8c1.8,0,3.5,0.6,3.5,0.6l-0.5,3.1c-1.6-0.9-5.4-1.1-5.4,0.5c0,1.6,5.4,2,5.4,5.8C46.7,32.2,42.7,33.5,40.1,33.5z M56.5,33.3l-0.4-2.2h-4.9l-0.8,2.2h-4l5.7-13.5c0,0,0.3-1.1,1.8-1.1H57l3.1,14.5H56.5z"/></g>',
masterCard:'<g><g><path class="masterCard-style-4-st0" d="M39.2,18.6C39.2,18.6,39.2,18.6,39.2,18.6C39.2,18.6,39.2,18.6,39.2,18.6L39.2,18.6z"/><path class="masterCard-style-4-st0" d="M40,31.9C40,31.9,40,31.9,40,31.9L40,31.9C40,31.9,40,31.9,40,31.9z"/><path class="masterCard-style-4-st0" d="M39.2,33.4C39.2,33.4,39.2,33.4,39.2,33.4C39.2,33.4,39.2,33.4,39.2,33.4L39.2,33.4z"/><path class="masterCard-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M46.1,39.9c-3.6,0-6.9-1.4-9.4-3.6c0,0,0,0,0.1-0.1c-2.5,2.3-5.8,3.7-9.4,3.7c-7.7,0-14-6.2-14-13.9c0-7.7,6.2-13.9,14-13.9c3.6,0,6.9,1.4,9.3,3.6c0,0,0,0,0,0c2.5-2.2,5.8-3.6,9.4-3.6c7.7,0,14,6.2,14,13.9C60.1,33.7,53.8,39.9,46.1,39.9z"/><path class="masterCard-style-4-st0" d="M40,20.1C40,20.1,40,20.1,40,20.1C40,20.1,40,20.1,40,20.1L40,20.1z"/></g><path class="masterCard-style-4-st0" d="M57.7,29.7h-1.4l0.1-0.5c-0.4,0.4-0.8,0.6-1.4,0.6c-1.1,0-1.8-0.9-1.8-2.4c0-1.9,1.1-3.5,2.5-3.5c0.6,0,1,0.2,1.4,0.8l0.3-2h1.5L57.7,29.7L57.7,29.7z M55.5,28.4c0.7,0,1.2-0.8,1.2-1.9c0-0.7-0.3-1.1-0.8-1.1c-0.7,0-1.2,0.8-1.2,1.9C54.7,28,55,28.4,55.5,28.4L55.5,28.4z"/><path class="masterCard-style-4-st0" d="M50.9,23.8c-0.2,1.8-0.5,3.6-0.8,5.4L50,29.5h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H50.9"/><path class="masterCard-style-4-st0" d="M48.5,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C48,28.5,48.5,27.9,48.5,27.1L48.5,27.1z M49.6,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C49.9,27.4,49.7,29.2,49.6,29.6L49.6,29.6z"/><path class="masterCard-style-4-st0" d="M46.1,22.8l-0.2,1.5c-0.5-0.3-0.9-0.4-1.4-0.4c-1.1,0-1.9,1.1-1.9,2.6c0,1.1,0.5,1.7,1.4,1.7c0.4,0,0.8-0.1,1.3-0.4L45,29.6c-0.6,0.2-0.9,0.2-1.3,0.2c-1.6,0-2.6-1.2-2.6-3.1c0-2.5,1.4-4.3,3.4-4.3C45.1,22.4,45.9,22.7,46.1,22.8"/><path class="masterCard-style-4-st0" d="M38.6,23.8c-0.2,1.8-0.5,3.6-0.8,5.4l-0.1,0.4h1.5c0.5-3.5,0.7-4.2,1.5-4.1c0.1-0.7,0.4-1.4,0.6-1.7c-0.6-0.1-1,0.2-1.5,0.9c0-0.3,0.1-0.6,0.1-0.9H38.6"/><path class="masterCard-style-4-st0" d="M37.2,29.5c-0.5,0.2-1,0.2-1.5,0.2c-1.7,0-2.6-0.9-2.6-2.6c0-2,1.1-3.4,2.6-3.4c1.2,0,2,0.8,2,2.1c0,0.4-0.1,0.8-0.2,1.4h-3c-0.1,0.8,0.4,1.2,1.3,1.2c0.5,0,1-0.1,1.6-0.4L37.2,29.5L37.2,29.5z M36.3,26.1c0-0.1,0.2-1-0.7-1c-0.5,0-0.8,0.4-1,1H36.3L36.3,26.1z"/><path class="masterCard-style-4-st0" d="M32.5,29.6c-0.4,0.1-0.7,0.2-1.1,0.2c-0.8,0-1.2-0.4-1.2-1.3c0-0.3,0.1-0.9,0.2-1.5c0.1-0.5,0.7-3.9,0.7-3.9h1.5l-0.2,0.9h0.8L33,25.3h-0.8c-0.2,1.1-0.4,2.5-0.4,2.6c0,0.3,0.2,0.4,0.5,0.4c0.2,0,0.3,0,0.4-0.1L32.5,29.6"/><path class="masterCard-style-4-st0" d="M26.6,25.7c0,0.7,0.4,1.2,1.2,1.6c0.6,0.3,0.7,0.4,0.7,0.6c0,0.4-0.3,0.5-0.9,0.5c-0.5,0-0.9-0.1-1.4-0.2c0,0-0.2,1.3-0.2,1.3c0.3,0.1,0.7,0.1,1.6,0.2c1.6,0,2.3-0.6,2.3-1.9c0-0.8-0.3-1.3-1.1-1.6c-0.6-0.3-0.7-0.4-0.7-0.6c0-0.3,0.3-0.5,0.7-0.5c0.3,0,0.7,0,1.1,0.1l0.2-1.3c-0.4-0.1-1-0.1-1.3-0.1C27.2,23.7,26.6,24.6,26.6,25.7"/><path class="masterCard-style-4-st0" d="M24.7,27.1c-0.2,0-0.2,0-0.3,0c-0.9,0-1.3,0.3-1.3,0.9c0,0.4,0.2,0.6,0.5,0.6C24.2,28.5,24.7,27.9,24.7,27.1L24.7,27.1z M25.8,29.6h-1.3l0-0.6c-0.4,0.5-0.9,0.7-1.6,0.7c-0.8,0-1.4-0.6-1.4-1.6c0-1.4,1-2.2,2.7-2.2c0.2,0,0.4,0,0.6,0c0-0.2,0.1-0.3,0.1-0.4c0-0.4-0.3-0.5-1-0.5c-0.7,0-1.4,0.2-1.6,0.3c0-0.1,0.2-1.3,0.2-1.3c0.8-0.2,1.3-0.3,1.8-0.3c1.3,0,2,0.6,2,1.7c0,0.3,0,0.7-0.1,1.1C26.1,27.4,25.8,29.2,25.8,29.6L25.8,29.6z"/><polyline class="masterCard-style-4-st0" points="20.8,29.7 19.3,29.7 20.2,24.3 18.3,29.7 17.2,29.7 17.1,24.3 16.2,29.7 14.8,29.7 16,22.6 18.1,22.6 18.2,27 19.7,22.6 22,22.6 20.8,29.7"/></g>',americanExpress:'<g><path class="americanExpress-style-4-st0" d="M37.5,28.2c-0.1,0-0.2,0-0.2,0h-4.2v0h-1.3l-2,2.1l-2-2.1h-0.9h-5.4V35h5.4h1l1.8-2l1.8,2h1.5h1.7v-2.2h1.7c2.2,0,3-0.6,3-2.6C39.5,28.4,38,28.2,37.5,28.2z M26.9,33.5h-3.6v-1.1h3.5v-1.5h-3.5v-1h3.6l1.7,1.8L26.9,33.5z M33.1,34L31,31.7l2.1-2.3V34z M36.6,31.1h-1.8v-1.3h1.8c0.5,0,0.9,0.3,0.9,0.6C37.5,30.8,37.1,31.1,36.6,31.1z"/><path class="americanExpress-style-4-st0" d="M45.6,22.1c0,0.1,0,0.3,0,0.4c0,0.7,0.2,0.7,0.3,0.7c0,0,0,0,0,0l0.7-1.6l-0.7,0C45.9,21.6,45.7,21.6,45.6,22.1z"/><rect x="40.5" y="19.1" class="americanExpress-style-4-st0" width="1.7" height="6.7"/><polygon class="americanExpress-style-4-st0" points="32.5,24.3 28.9,24.3 28.9,23.2 32.4,23.2 32.4,21.7 28.9,21.7 28.9,20.6 32.5,20.6 32.5,19.1 27.1,19.1 27.1,25.8 32.5,25.8 \t"/><path class="americanExpress-style-4-st0" d="M45.1,25.8H46h0.3h1.6l0.6-1.4h3.2l0.6,1.4h1.6h0.3h1.5v-4.5l2.7,4.5h2.4v-6.7H59v4.4l-2.7-4.4h-2.4v6.1l-2.6-6.1h-2.4l-2.1,5c0,0-0.3,0.1-0.7,0.1c-0.6,0-1.3-0.3-1.3-1.7c0-0.1,0-0.3,0-0.5c0.1-1.5,1.3-1.5,1.3-1.5l1.7,0v-1.5L45.5,19c-0.1,0-2.7-0.1-2.7,3.6C42.8,25.4,45.1,25.8,45.1,25.8z M50,20.6l0.8,2h-1.7L50,20.6z"/><path class="americanExpress-style-4-st0" d="M56.5,30.8c-0.1,0-0.2,0-0.2,0s-0.1,0-0.2,0c-0.3,0-1.1,0-1.1-0.5c0-0.4,0.4-0.5,0.7-0.5c0.2,0,0.3,0,0.3,0h2.7v-1.6h-3.3c0,0,0,0-0.1,0c-0.4,0-2.1,0.1-2.1,2.1c0,1.9,1.7,2,2.2,2c0.1,0,0.2,0,0.2,0s0,0,0.1,0c0.3,0,1.4,0,1.4,0.6c0,0.5-0.5,0.5-0.8,0.5c-0.1,0-0.2,0-0.2,0h-2.7V35h3.1c0,0,0.1,0,0.2,0c0.6,0,2.3-0.2,2.3-2.4C58.9,30.9,57,30.8,56.5,30.8z"/><path class="americanExpress-style-4-st0" d="M62.5,30.8c-0.1,0-0.2,0-0.2,0s-0.1,0-0.2,0c-0.3,0-1.1,0-1.1-0.5c0-0.4,0.4-0.5,0.7-0.5c0.2,0,0.3,0,0.3,0h2.7v-1.6h-3.3c0,0,0,0-0.1,0c-0.4,0-2.1,0.1-2.1,2.1c0,1.9,1.7,2,2.2,2c0.1,0,0.2,0,0.2,0s0,0,0.1,0c0.3,0,1.4,0,1.4,0.6c0,0.5-0.5,0.5-0.8,0.5c-0.1,0-0.2,0-0.2,0h-2.7V35h3.1c0,0,0.1,0,0.2,0c0.6,0,2.3-0.2,2.3-2.4C65,30.9,63.1,30.8,62.5,30.8z"/><path class="americanExpress-style-4-st0" d="M46.4,30.2c0-1.8-1.4-2-2-2c-0.1,0-0.2,0-0.2,0h-4.2V35h1.7v-2.3h1.7c1.1,0,1.2,1,1.2,1V35h1.7v-1.7c0-1.1-0.8-1.5-0.8-1.5S46.4,31.4,46.4,30.2z M43.6,31.1h-1.8v-1.3h1.8c0.5,0,0.9,0.3,0.9,0.6S44.1,31.1,43.6,31.1z"/><path class="americanExpress-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1z M19.9,26.2l-0.3-0.6v0.1v1h-1h-1.5h-0.2h-1.7h-0.7l-0.3-0.6L14,25.4h-1.8l-0.3,0.8l-0.3,0.6h-0.7H9H7.5l0.6-1.4l2.9-6.7l0.3-0.6h0.7h2.4H15l0.3,0.6l0.7,1.7v-1.3v-1h1h2.7h0.6l0.3,0.6l1,2.2l1-2.2l0.3-0.6h0.6h2.7h1v0h5.2v0h1h4.1c0.1,0,0.1,0,0.3,0c0.6,0,1.2,0.1,1.7,0.4v-0.4h1h1.7h1v0.8c0.6-0.5,1.4-0.8,2.2-0.9l0,0l0.1,0l2.1,0.1l0.5,0l0,0h0.7h2.4h0.7l0.3,0.6l0.7,1.6v-1.2v-1h1h2.4h0.6l0.3,0.5l0.9,1.4v-0.9v-1h1h1.7h1v1v6.7v1h-1h-2.4h-0.6l-0.3-0.5l-0.9-1.5v0.9v1h-1h-1.5h-0.3h-1.6h-0.7l-0.3-0.6l-0.3-0.8h-1.8l-0.3,0.8l-0.3,0.6h-0.7h-1.6H46h-0.8h-0.1l-0.1,0c-0.5-0.1-1.2-0.3-1.8-0.8v0.9h-1h-1.7h-1v0H38h-1v-1v-1.2c0,0,0-0.1,0-0.1c0,0,0,0-0.1,0h-0.7v1.3v1h-1h-1.7h-1v0h-5.2v0h-1h-1.7h-1v-1v-0.1l-0.3,0.6l-0.3,0.6h-0.6h-1.4h-0.6L19.9,26.2z M62.7,36c-0.1,0-0.2,0-0.3,0h-3h-1v-0.5c-0.6,0.3-1.2,0.5-1.8,0.5c-0.1,0-0.2,0-0.3,0h-2.8v0h-1h-5.2v0h-1h-1.7h-1v-1v-1.2c0,0,0-0.1,0-0.1c0,0,0,0-0.1,0h-0.7V35v1h-1h-1.7h-1v-1v-1.7c-0.6,0.3-1.5,0.5-2.6,0.5h-0.7V35v1h-1h-1.7h-1.5h-0.4l-0.3-0.3l-1.1-1.2l-1.1,1.2L28.4,36h-0.4h-1h-5.4h-1v-1v-6.7v-1h1h5.4h0.9h0.4l0.3,0.3l1.3,1.4l1.3-1.3l0.3-0.3h0.4h0.3v0h1h4.1c0.1,0,0.1,0,0.2,0c0.5,0,1.1,0.1,1.6,0.4v-0.4h1h4.1c0.1,0,0.1,0,0.3,0c0.6,0,1.2,0.1,1.7,0.4v-0.4h1h5.4h1v0.4c0.5-0.3,1.1-0.4,1.7-0.4c0,0,0.1,0,0.1,0h3.3h1v0.4c0.5-0.3,1.1-0.4,1.7-0.4c0,0,0.1,0,0.1,0h3.3h1v1v1.6v1h-0.3c0.4,0.5,0.6,1.1,0.6,1.8C66,35.1,64.2,36,62.7,36z"/><path class="americanExpress-style-4-st0" d="M35.1,23.4h1.7c1.1,0,1.2,1,1.2,1v1.3h1.7v-1.7c0-1.1-0.8-1.5-0.8-1.5s1-0.4,1-1.6c0-1.8-1.4-2-2-2c-0.1,0-0.2,0-0.2,0h-4.2v6.7h1.7V23.4z M35.1,20.6h1.8c0.5,0,0.9,0.3,0.9,0.6c0,0.4-0.4,0.6-0.9,0.6h-1.8V20.6z"/><path class="americanExpress-style-4-st0" d="M22.2,25.8l2.2-4.6v4.6h1.7v-6.7h-2.7l-1.9,4.2l-1.9-4.2h-2.7v6.2l-2.6-6.2h-2.4L9,25.8h1.9l0.6-1.4h3.2l0.6,1.4h1.7h0.2h1.5v-4.6l2.2,4.6H22.2z M12.2,22.7l0.8-2l0.8,2H12.2z"/><polygon class="americanExpress-style-4-st0" points="47.2,35 52.5,35 52.5,33.5 48.9,33.5 48.9,32.4 52.5,32.4 52.5,30.9 48.9,30.9 48.9,29.8 52.5,29.8 52.5,28.3 47.2,28.3 \t"/></g>',payPal:'<g><path class="payPal-style-4-st0" d="M54.8,24.6c-1.2,0-2.1,0.8-2.3,2c-0.1,0.6,0,1.1,0.3,1.4c0.3,0.4,0.8,0.6,1.4,0.6c1.2,0,2.1-0.8,2.3-2c0.1-0.6,0-1.1-0.4-1.5C55.9,24.8,55.4,24.6,54.8,24.6z"/><g><path class="payPal-style-4-st0" d="M44.9,21h-0.3c-0.2,0-0.3,0.1-0.4,0.3l-0.5,2.9h0.7c1.1,0,2.3,0,2.6-1.5c0.1-0.5,0-0.9-0.2-1.2C46.4,21,45.7,21,44.9,21z"/><g><g><path class="payPal-style-4-st0" d="M14.1,21h-0.3c-0.2,0-0.3,0.1-0.4,0.3L13,24.2h0.7c1.1,0,2.3,0,2.6-1.5c0.1-0.5,0-0.9-0.2-1.2C15.6,21,14.9,21,14.1,21z"/><path class="payPal-style-4-st0" d="M64.4,1H7.6C4,1,1,4,1,7.6v36.7C1,48,4,51,7.6,51h56.7c3.7,0,6.6-3,6.6-6.6V7.6C71,4,68,1,64.4,1zM14.5,26.6h-1.4c-0.3,0-0.5,0.2-0.6,0.5l-0.5,3c0,0.3-0.3,0.5-0.6,0.5H9.4c-0.2,0-0.4-0.2-0.4-0.4l1.7-11c0-0.3,0.3-0.5,0.6-0.5h4.3c1.4,0,2.5,0.4,3.1,1.1c0.6,0.7,0.7,1.6,0.6,2.8C19,25.2,17.4,26.6,14.5,26.6z M27.9,30.1c0,0.3-0.3,0.5-0.6,0.5h-1.9c-0.2,0-0.4-0.2-0.4-0.4l0.1-0.6c0,0-1,1.2-2.9,1.2c-1.1,0-2-0.3-2.6-1c-0.7-0.8-1-2-0.8-3.2c0.4-2.4,2.3-4.1,4.6-4.1c1,0,2,0.2,2.4,0.9l0.1,0.2l0.1-0.6c0-0.2,0.2-0.3,0.4-0.3h2.1c0.2,0,0.4,0.2,0.4,0.4L27.9,30.1zM32.5,33.4h-2.1c-0.3,0-0.5-0.3-0.3-0.6l2.2-3L30,23.1c-0.1-0.2,0.1-0.5,0.3-0.5h2c0.3,0,0.5,0.2,0.6,0.4l1.2,4l2.9-4.2c0.1-0.2,0.3-0.3,0.5-0.3h2.1c0.3,0,0.5,0.3,0.3,0.6L33,33.1C32.9,33.3,32.7,33.4,32.5,33.4z M45.3,26.6H44c-0.3,0-0.5,0.2-0.6,0.5l-0.5,3.1c0,0.2-0.2,0.4-0.4,0.4h-2.2c-0.2,0-0.4-0.2-0.4-0.4l1.7-11c0-0.3,0.3-0.5,0.6-0.5h4.3c1.4,0,2.5,0.4,3.1,1.1c0.6,0.7,0.7,1.6,0.6,2.8C49.8,25.2,48.2,26.6,45.3,26.6z M58.7,30.1c0,0.3-0.3,0.5-0.6,0.5h-1.9c-0.2,0-0.4-0.2-0.4-0.4l0.1-0.6c0,0-1,1.2-2.9,1.2c-1.1,0-2-0.3-2.6-1c-0.7-0.8-1-2-0.8-3.2c0.4-2.4,2.3-4.1,4.6-4.1c1,0,2,0.2,2.4,0.9l0.1,0.2l0.1-0.6c0-0.2,0.2-0.3,0.4-0.3h2.1c0.2,0,0.4,0.2,0.4,0.4L58.7,30.1z M62.8,30.1c0,0.3-0.3,0.5-0.6,0.5h-1.8c-0.2,0-0.4-0.2-0.4-0.4l1.8-11.2c0-0.2,0.2-0.3,0.4-0.3h2c0.2,0,0.4,0.2,0.4,0.4L62.8,30.1z"/></g><path class="payPal-style-4-st0" d="M24,24.6c-1.2,0-2.1,0.8-2.3,2c-0.1,0.6,0,1.1,0.3,1.4c0.3,0.4,0.8,0.6,1.4,0.6c1.2,0,2.1-0.8,2.3-2c0.1-0.6,0-1.1-0.4-1.5C25.1,24.8,24.6,24.6,24,24.6z"/></g></g></g>',discover:'<g><path class="discover-style-4-st0" d="M9.9,22.7H9.4v6.6h0.5c1.2,0,1.9-0.2,2.5-0.8c0.6-0.6,1-1.6,1-2.5c0-1-0.4-1.9-1-2.5C11.8,22.9,11.1,22.7,9.9,22.7z"/><path class="discover-style-4-st0" d="M64.3,1H7.7C4,1,1,4,1,7.7v36.6C1,48,4,51,7.7,51h56.6c3.7,0,6.7-3,6.7-6.7V7.7C71,4,68,1,64.3,1z M13.6,29.8c-0.9,0.8-1.9,1.2-3.4,1.2H7.6V21h2.7c3,0,5.1,2.1,5.1,5C15.4,27.5,14.7,28.9,13.6,29.8z M18,31h-1.8V21H18V31z M22,31.2c-1.4,0-2.4-0.6-3.3-1.9l1.2-1.2c0.4,0.9,1.1,1.3,2,1.3c0.8,0,1.4-0.6,1.4-1.4c0-0.4-0.2-0.8-0.6-1c-0.2-0.1-0.6-0.3-1.3-0.6c-1.7-0.7-2.3-1.4-2.3-2.7c0-1.6,1.3-2.9,2.9-2.9c1,0,2,0.4,2.8,1.1l-1,1.3c-0.5-0.6-0.9-0.8-1.5-0.8c-0.8,0-1.4,0.5-1.4,1.1c0,0.5,0.3,0.8,1.4,1.3c2.1,0.8,2.7,1.5,2.7,3.1C25.3,29.9,23.9,31.2,22,31.2z M33.1,23.7c-0.8-0.8-1.4-1.1-2.3-1.1c-1.7,0-3.1,1.5-3.1,3.4c0,2,1.3,3.5,3.2,3.5c0.8,0,1.5-0.3,2.2-1.1v2.3c-0.8,0.4-1.5,0.6-2.3,0.6c-2.8,0-5-2.3-5-5.2c0-2.9,2.2-5.2,5-5.2c0.8,0,1.5,0.2,2.3,0.6V23.7z M38.9,31.2c-2.9,0-5-2.3-5-5.3c0-2.8,2.3-5.1,5-5.1c2.8,0,5,2.3,5,5.2C43.9,28.9,41.7,31.2,38.9,31.2z M48.5,31.2h-1l-4-10.3h2l2.5,6.7l2.5-6.7h2L48.5,31.2z M58.7,22.7h-3.4v2.2h3.3v1.7h-3.3v2.7h3.4V31h-5.2V21h5.2V22.7z M64.5,31L62,27h-0.2v4h-1.8V21h2.7c2.1,0,3.3,1.1,3.3,3c0,1.5-0.8,2.5-2.2,2.8l3,4.2H64.5z"/><path class="discover-style-4-st0" d="M62.3,22.6h-0.6v3h0.5c1.2,0,1.8-0.5,1.8-1.5C64.1,23.1,63.4,22.6,62.3,22.6z"/></g>'}}})},"numbered-list.js":function(a,b,c){b.exports=c("./_base").extend({setup_defaults:function(){this.data={items:3,text:"List Element",start_number:1,number_increment:1}},_render_to:function(a,b){return a.html(this.get_html()).attr("data-start-number",this.data.start_number).attr("data-number-increment",this.data.number_increment),this},get_html:function(){for(var a='<ul class="tcb-numbered-list">',b=0;b<this.data.items;b++){var c=b+1;a+=this.create_default_list_item(c)}return a+="</ul>"},create_default_list_item:function(a,b){b=void 0===b?this.data.text:b;var c="";return c+='<li class="thrv-styled-list-item">',c+='<div class="tcb-numbered-list-number thrv-disabled-label thrv_wrapper tcb-no-delete tcb-no-clone tve_no_drag">',c+='<span class="tcb-numbered-list-index">'+a+"</span>",c+="</div>",c+='<span class="thrv-advanced-inline-text tve_editable tcb-numbered-list-text tcb-no-delete">'+b+"</span>",c+="</li>"},reset_list_numbers:function(a){var b=parseInt(a.attr("data-start-number")),c=parseInt(a.attr("data-number-increment"));a.find(".thrv-styled-list-item").each(function(a,d){jQuery(d).find(".tcb-numbered-list-index").text(b+a*c)})},get_next_list_number:function(a,b,c){return a=parseInt(a),b=parseInt(b),c=parseInt(c),a+c*b},get_text:function(a){return a.find(".tcb-numbered-list-text").text().substring(0,20)}})},"rating.js":function(a,b,c){b.exports=c("./_base").extend({setup_defaults:function(){this.data={value:2.5,max:5,style:"style1"}},get_html:function(a,b,c){a=void 0===a?this.data.value:a,b=void 0===b?this.data.max:b,c=void 0===c?this.data.style:c;for(var d="",e=this.templates[c].viewbox||"-6 -6 70 70",f=Math.floor(a),g=Math.round(a-f),h=1;h<=b;h++){var i="full";h>f&&h<=f+g?i="half":h>f+g&&(i="empty"),d+='<svg viewBox="'+e+'" class="">'+this.templates[c][i]+"</svg>"}return d},_render_to:function(a,b){return a.attr({"data-style":this.data.style,"data-max":this.data.max,"data-value":this.data.value}).html(this.get_html()),this},get_styles:function(){var a={};return _.each(this.templates,function(b,c){a[c]={label:TVE.firstLetterUppercase(c),html:this.get_html(2.5,5,c)}},this),a},templates:{style1:{empty:'<path class="sr-background" fill="transparent" d="M46.976,57.227c-0.422,0-0.834-0.104-1.228-0.312l-13.167-6.921c-0.663-0.349-1.409-0.533-2.158-0.533s-1.495,0.185-2.158,0.533L15.1,56.915c-0.393,0.208-0.807,0.312-1.229,0.312c-0.765,0-1.524-0.358-2.03-0.958c-0.501-0.595-0.703-1.353-0.569-2.134l2.515-14.661c0.258-1.505-0.241-3.039-1.334-4.105L1.8,24.985c-0.736-0.717-0.985-1.728-0.668-2.704c0.318-0.977,1.114-1.649,2.13-1.796l14.72-2.139c1.512-0.22,2.817-1.168,3.493-2.537L28.059,2.47C28.513,1.55,29.396,1,30.423,1c1.027,0,1.911,0.55,2.365,1.471l6.584,13.339c0.676,1.369,1.98,2.317,3.492,2.537l14.721,2.139c1.016,0.147,1.813,0.819,2.129,1.795c0.317,0.977,0.068,1.988-0.668,2.705L48.394,35.369c-1.092,1.065-1.59,2.6-1.334,4.105l2.516,14.661c0.134,0.781-0.068,1.539-0.569,2.134C48.5,56.869,47.743,57.227,46.976,57.227"/><path class="sr-outline" fill="#fbb040" d="M30.424,2c0.307,0,1.063,0.089,1.471,0.913l6.582,13.339c0.82,1.664,2.408,2.817,4.246,3.084l14.719,2.139c0.91,0.132,1.229,0.824,1.324,1.115c0.094,0.291,0.242,1.038-0.416,1.679L47.697,34.652c-1.328,1.295-1.934,3.16-1.621,4.99l2.516,14.662c0.105,0.622-0.131,1.061-0.35,1.318c-0.318,0.378-0.791,0.604-1.264,0.604c-0.26,0-0.518-0.066-0.764-0.197l-13.166-6.922c-0.807-0.422-1.715-0.646-2.625-0.646s-1.816,0.225-2.623,0.646l-13.166,6.922c-0.248,0.131-0.504,0.197-0.764,0.197c-0.473,0-0.947-0.226-1.266-0.604c-0.217-0.258-0.455-0.696-0.348-1.318l2.516-14.662c0.313-1.83-0.293-3.695-1.623-4.99L2.498,24.269c-0.656-0.641-0.508-1.388-0.414-1.679c0.096-0.291,0.414-0.983,1.322-1.115l14.721-2.139c1.838-0.267,3.424-1.42,4.246-3.084l6.582-13.339C29.363,2.089,30.117,2,30.424,2 M30.424,0c-1.297,0-2.594,0.676-3.262,2.027l-6.584,13.339c-0.529,1.074-1.553,1.819-2.738,1.99l-14.721,2.14c-2.984,0.434-4.176,4.101-2.016,6.205l10.65,10.383c0.859,0.836,1.25,2.04,1.047,3.221l-2.514,14.66c-0.404,2.352,1.465,4.262,3.584,4.262c0.561,0,1.137-0.134,1.695-0.426l13.166-6.923c0.529-0.278,1.111-0.417,1.691-0.417c0.582,0,1.164,0.139,1.693,0.417l13.166,6.923c0.559,0.293,1.135,0.426,1.695,0.426c2.119,0,3.986-1.91,3.584-4.262l-2.516-14.66c-0.201-1.181,0.189-2.385,1.047-3.221l10.652-10.383c2.158-2.104,0.967-5.771-2.016-6.205l-14.723-2.14c-1.184-0.171-2.209-0.916-2.738-1.99L33.688,2.027C33.02,0.676,31.723,0,30.424,0"/>',half:'<path class="sr-background" fill="transparent" d="M46.976,57.227c-0.422,0-0.834-0.104-1.228-0.312l-13.167-6.921c-0.663-0.349-1.409-0.533-2.158-0.533s-1.495,0.185-2.158,0.533L15.1,56.915c-0.393,0.208-0.807,0.312-1.229,0.312c-0.765,0-1.524-0.358-2.03-0.958c-0.501-0.595-0.703-1.353-0.569-2.134l2.515-14.661c0.258-1.505-0.241-3.039-1.334-4.105L1.8,24.985c-0.736-0.717-0.985-1.728-0.668-2.704c0.318-0.977,1.114-1.649,2.13-1.796l14.72-2.139c1.512-0.22,2.817-1.168,3.493-2.537L28.059,2.47C28.513,1.55,29.396,1,30.423,1c1.027,0,1.911,0.55,2.365,1.471l6.584,13.339c0.676,1.369,1.98,2.317,3.492,2.537l14.721,2.139c1.016,0.147,1.813,0.819,2.129,1.795c0.317,0.977,0.068,1.988-0.668,2.705L48.394,35.369c-1.092,1.065-1.59,2.6-1.334,4.105l2.516,14.661c0.134,0.781-0.068,1.539-0.569,2.134C48.5,56.869,47.743,57.227,46.976,57.227"/><path class="sr-fill" fill="#F0C419" d="M28.731,50.878l-13.166,6.923c-2.67,1.402-5.789-0.863-5.279-3.836l2.517-14.66c0.201-1.181-0.188-2.385-1.047-3.221L1.104,25.701c-2.16-2.104-0.968-5.771,2.016-6.205l14.721-2.139c1.186-0.172,2.209-0.917,2.74-1.991l6.582-13.339C27.829,0.676,29.126,0,30.423,0l0.002,50.461C29.843,50.46,29.261,50.6,28.731,50.878"/><path class="sr-outline" fill="#FBB040" d="M30.423,2c0.307,0,1.063,0.089,1.471,0.913l6.582,13.339c0.822,1.664,2.408,2.817,4.246,3.084l14.721,2.139c0.908,0.132,1.228,0.824,1.322,1.115c0.094,0.291,0.242,1.038-0.414,1.679L47.698,34.652c-1.33,1.295-1.936,3.16-1.623,4.99l2.517,14.662c0.106,0.622-0.131,1.061-0.349,1.318c-0.319,0.378-0.793,0.604-1.266,0.604c-0.26,0-0.516-0.066-0.764-0.197l-13.166-6.922c-0.807-0.422-1.713-0.646-2.625-0.646c-0.908,0-1.816,0.225-2.623,0.646l-13.166,6.922c-0.248,0.131-0.504,0.197-0.764,0.197c-0.473,0-0.947-0.226-1.264-0.604c-0.22-0.258-0.455-0.696-0.351-1.318l2.517-14.662c0.313-1.83-0.293-3.695-1.621-4.99L2.499,24.269c-0.658-0.641-0.51-1.388-0.416-1.679c0.096-0.291,0.414-0.983,1.322-1.115l14.721-2.139c1.838-0.267,3.424-1.42,4.246-3.084l6.582-13.339C29.362,2.089,30.118,2,30.423,2 M30.423,0c-1.297,0-2.594,0.676-3.262,2.027l-6.582,13.339c-0.531,1.074-1.555,1.819-2.74,1.99l-14.721,2.14c-2.984,0.434-4.174,4.101-2.016,6.205l10.651,10.383c0.856,0.836,1.248,2.04,1.045,3.221l-2.515,14.66c-0.403,2.352,1.466,4.262,3.584,4.262c0.562,0,1.138-0.134,1.695-0.426l13.166-6.923c0.529-0.278,1.109-0.417,1.691-0.417s1.164,0.139,1.693,0.417l13.166,6.923c0.559,0.293,1.135,0.426,1.694,0.426c2.119,0,3.988-1.91,3.584-4.262l-2.514-14.66c-0.203-1.181,0.188-2.385,1.045-3.221l10.651-10.383c2.16-2.104,0.97-5.771-2.016-6.205l-14.721-2.14c-1.186-0.171-2.211-0.916-2.738-1.99L33.683,2.027C33.019,0.676,31.722,0,30.423,0"/>',full:'<path class="sr-fill" fill="#F0C419" d="M46.976,57.227c-0.422,0-0.834-0.104-1.228-0.312l-13.167-6.921c-0.663-0.349-1.409-0.533-2.158-0.533s-1.495,0.185-2.158,0.533L15.1,56.915c-0.393,0.208-0.807,0.312-1.229,0.312c-0.765,0-1.524-0.358-2.03-0.958c-0.501-0.595-0.703-1.353-0.569-2.134l2.515-14.661c0.258-1.505-0.241-3.039-1.334-4.105L1.8,24.985c-0.736-0.717-0.985-1.728-0.668-2.704c0.318-0.977,1.114-1.649,2.13-1.796l14.72-2.139c1.512-0.22,2.817-1.168,3.493-2.537L28.059,2.47C28.513,1.55,29.396,1,30.423,1c1.027,0,1.911,0.55,2.365,1.471l6.584,13.339c0.676,1.369,1.98,2.317,3.492,2.537l14.721,2.139c1.016,0.147,1.813,0.819,2.129,1.795c0.317,0.977,0.068,1.988-0.668,2.705L48.394,35.369c-1.092,1.065-1.59,2.6-1.334,4.105l2.516,14.661c0.134,0.781-0.068,1.539-0.569,2.134C48.5,56.869,47.743,57.227,46.976,57.227"/><path class="sr-outline" fill="#FBB040" d="M30.423,2c0.306,0,1.063,0.089,1.469,0.913l6.584,13.339c0.821,1.664,2.407,2.817,4.244,3.084l14.721,2.139c0.91,0.132,1.228,0.824,1.322,1.115c0.096,0.291,0.243,1.038-0.414,1.679L47.697,34.652c-1.329,1.295-1.936,3.161-1.621,4.991l2.515,14.661c0.106,0.623-0.131,1.061-0.349,1.319c-0.318,0.378-0.791,0.604-1.266,0.604c-0.259,0-0.515-0.067-0.763-0.197l-13.166-6.922c-0.806-0.423-1.713-0.647-2.624-0.647c-0.911,0-1.818,0.224-2.624,0.647L14.633,56.03c-0.248,0.13-0.504,0.197-0.763,0.197c-0.474,0-0.948-0.226-1.266-0.604c-0.218-0.258-0.454-0.696-0.348-1.319l2.515-14.661c0.314-1.83-0.292-3.696-1.621-4.991L2.5,24.269c-0.659-0.641-0.51-1.388-0.415-1.679c0.095-0.291,0.413-0.983,1.322-1.115l14.721-2.139c1.837-0.267,3.423-1.42,4.245-3.084l6.583-13.339C29.361,2.089,30.118,2,30.423,2 M30.423,0c-1.297,0-2.595,0.676-3.262,2.027l-6.584,13.339c-0.53,1.074-1.554,1.819-2.739,1.99l-14.72,2.14c-2.984,0.434-4.175,4.101-2.016,6.205l10.652,10.383c0.857,0.836,1.248,2.04,1.045,3.221l-2.514,14.66c-0.403,2.351,1.465,4.262,3.585,4.262c0.559,0,1.136-0.134,1.694-0.426l13.166-6.923c0.53-0.278,1.111-0.417,1.693-0.417s1.163,0.139,1.693,0.417l13.166,6.923c0.558,0.293,1.135,0.426,1.693,0.426c2.121,0,3.988-1.911,3.586-4.262l-2.515-14.66c-0.202-1.181,0.188-2.385,1.045-3.221l10.652-10.383c2.159-2.104,0.968-5.771-2.017-6.205l-14.72-2.14c-1.185-0.171-2.21-0.916-2.739-1.99L33.687,2.027C33.019,0.676,31.72,0,30.423,0"/>'},style2:{viewbox:"-4 -4 60 60",empty:'<path class="sr-outline" fill="#D3DADF" d="M27.999,2.318l5.307,15.909c0.52,1.562,1.977,2.621,3.623,2.633l16.77,0.13l-13.49,9.962c-1.324,0.979-1.881,2.691-1.385,4.261l5.059,15.988L30.239,41.45c-0.658-0.471-1.432-0.719-2.24-0.719s-1.584,0.248-2.24,0.719l-13.643,9.751l5.059-15.988c0.496-1.569-0.061-3.282-1.385-4.261L2.3,20.99l16.77-0.13c1.646-0.012,3.104-1.071,3.623-2.633L27.999,2.318 M27.999,0c-0.738,0-1.477,0.422-1.758,1.266l-5.445,16.328c-0.25,0.751-0.951,1.26-1.742,1.266L1.843,18.993c-1.781,0.015-2.52,2.285-1.086,3.343l13.846,10.226c0.637,0.469,0.904,1.293,0.666,2.047l-5.193,16.412c-0.41,1.295,0.619,2.418,1.773,2.418c0.357,0,0.727-0.107,1.07-0.353l14.004-10.009c0.32-0.23,0.699-0.346,1.076-0.346s0.756,0.115,1.076,0.346l14.004,10.009c0.344,0.245,0.713,0.353,1.07,0.353c1.154,0,2.182-1.125,1.773-2.418l-5.193-16.412c-0.238-0.754,0.029-1.578,0.666-2.047l13.846-10.226c1.434-1.058,0.695-3.328-1.086-3.343L36.944,18.86c-0.791-0.006-1.492-0.515-1.742-1.266L29.757,1.266C29.476,0.422,28.737,0,27.999,0"/><path class="sr-background" fill="transparent" d="M17.178,35.213L12.12,51.202l13.644-9.752c0.656-0.47,1.432-0.719,2.239-0.719\tc0.809,0,1.583,0.249,2.24,0.719l13.644,9.752l-5.059-15.988c-0.497-1.57,0.06-3.282,1.384-4.262l13.49-9.961L36.933,20.86\tc-1.647-0.012-3.104-1.07-3.624-2.633L28.002,2.318l-5.306,15.909c-0.521,1.563-1.977,2.621-3.624,2.633L2.304,20.991l13.489,9.961\tC17.119,31.931,17.675,33.643,17.178,35.213z"/>',half:'<path class="sr-outline" fill="#D3DADF" d="M27.999,2.318l5.307,15.909c0.52,1.562,1.977,2.621,3.623,2.633l16.77,0.13l-13.49,9.962c-1.324,0.979-1.881,2.691-1.385,4.261l5.059,15.988L30.239,41.45c-0.658-0.471-1.432-0.719-2.24-0.719s-1.584,0.248-2.24,0.719l-13.643,9.751l5.059-15.988c0.496-1.569-0.061-3.282-1.385-4.261L2.3,20.99l16.77-0.13c1.646-0.012,3.104-1.071,3.623-2.633L27.999,2.318 M27.999,0c-0.738,0-1.477,0.422-1.758,1.266l-5.445,16.328c-0.25,0.751-0.951,1.26-1.742,1.266L1.843,18.993c-1.781,0.015-2.52,2.285-1.086,3.343l13.846,10.226c0.637,0.469,0.904,1.293,0.666,2.047l-5.193,16.412c-0.41,1.295,0.619,2.418,1.773,2.418c0.357,0,0.727-0.107,1.07-0.353l14.004-10.009c0.32-0.23,0.699-0.346,1.076-0.346s0.756,0.115,1.076,0.346l14.004,10.009c0.344,0.245,0.713,0.353,1.07,0.353c1.154,0,2.182-1.125,1.773-2.418l-5.193-16.412c-0.238-0.754,0.029-1.578,0.666-2.047l13.846-10.226c1.434-1.058,0.695-3.328-1.086-3.343L36.944,18.86c-0.791-0.006-1.492-0.515-1.742-1.266L29.757,1.266C29.476,0.422,28.737,0,27.999,0"/><path class="sr-background" fill="transparent" d="M17.178,35.213L12.12,51.202l13.644-9.752c0.656-0.47,1.432-0.719,2.239-0.719\tc0.809,0,1.583,0.249,2.24,0.719l13.644,9.752l-5.059-15.988c-0.497-1.57,0.06-3.282,1.384-4.262l13.49-9.961L36.933,20.86\tc-1.647-0.012-3.104-1.07-3.624-2.633L28.002,2.318l-5.306,15.909c-0.521,1.563-1.977,2.621-3.624,2.633L2.304,20.991l13.489,9.961\tC17.119,31.931,17.675,33.643,17.178,35.213z"/><path class="sr-fill" fill="#EFC319" d="M26.242,1.265l-5.445,16.329c-0.251,0.751-0.951,1.26-1.743,1.266L1.841,18.993c-1.78,0.015-2.518,2.285-1.086,3.343l13.846,10.225c0.638,0.471,0.905,1.293,0.666,2.049l-5.191,16.41c-0.537,1.697,1.395,3.102,2.844,2.066l14.002-10.009c0.32-0.229,0.694-0.343,1.069-0.345V0C27.255,0.003,26.522,0.424,26.242,1.265z"/>',full:'<path class="sr-fill" fill="#EFC319" d="M26.921,43.078L12.919,53.086c-1.449,1.035-3.381-0.369-2.844-2.066l5.191-16.41c0.239-0.756-0.028-1.578-0.666-2.049L0.755,22.336c-1.432-1.058-0.694-3.328,1.086-3.343l17.212-0.133c0.792-0.006,1.492-0.515,1.743-1.266l5.445-16.329c0.563-1.688,2.95-1.688,3.514,0l5.446,16.329c0.251,0.751,0.95,1.26,1.742,1.266l17.212,0.133c1.78,0.015,2.518,2.285,1.087,3.343L41.396,32.561c-0.638,0.471-0.904,1.293-0.666,2.049l5.191,16.41c0.538,1.697-1.396,3.102-2.843,2.066L29.076,43.078C28.431,42.617,27.566,42.617,26.921,43.078"/>'},style3:{viewbox:"-6 -6 80 80",empty:'<path class="def-shadow" fill="#B9C1C5" d="M14.874,40.174c0.101-0.583-0.094-1.178-0.518-1.591L0.544,25.12\tc-0.121-0.118-0.214-0.248-0.293-0.382c-0.308,0.541-0.339,1.225,0,1.798c-0.308,0.54-0.339,1.224,0,1.797\tc-0.38,0.667-0.344,1.559,0.293,2.18l13.696,13.35L14.874,40.174z"/><path class="def-shadow" fill="#B9C1C5" d="M50.038,61.079l-17.071-8.976c-0.524-0.275-1.149-0.275-1.674,0l-17.071,8.976\tc-0.98,0.514-2.079,0.027-2.478-0.858l-0.13,0.76c-0.065,0.378-0.008,0.73,0.13,1.038l-0.13,0.76\tc-0.065,0.377-0.008,0.73,0.13,1.037l-0.13,0.76c-0.252,1.469,1.289,2.589,2.608,1.896l17.071-8.976\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.976c1.318,0.693,2.86-0.427,2.608-1.896l-0.13-0.76c0.138-0.307,0.195-0.659,0.13-1.037\tl-0.13-0.761c0.138-0.307,0.195-0.659,0.13-1.037l-0.13-0.761C52.116,61.106,51.017,61.593,50.038,61.079z"/><path class="def-shadow" fill="#B9C1C5" d="M64.008,24.738c-0.079,0.134-0.172,0.264-0.293,0.382L49.903,38.583\tc-0.424,0.413-0.617,1.008-0.517,1.591l0.632,3.688l13.696-13.349c0.637-0.621,0.673-1.513,0.293-2.18\tc0.339-0.573,0.308-1.257,0-1.797C64.347,25.962,64.316,25.278,64.008,24.738z"/><path class="sr-background" fill="#D3DADF" d="M49.386,40.174c-0.101-0.583,0.093-1.178,0.517-1.591L63.714,25.12\tc0.121-0.118,0.214-0.248,0.293-0.382c0.622-1.05,0.017-2.495-1.29-2.684L43.63,19.28c-0.586-0.085-1.092-0.453-1.354-0.983\tL33.742,1.001c-0.66-1.335-2.564-1.335-3.224,0l-8.537,17.296c-0.261,0.53-0.767,0.898-1.354,0.983L1.542,22.054\tc-1.308,0.189-1.912,1.634-1.291,2.684c0.079,0.134,0.173,0.265,0.293,0.382l13.812,13.463c0.424,0.413,0.618,1.008,0.518,1.591\tl-0.633,3.688l-2.628,15.321c-0.065,0.378-0.008,0.73,0.13,1.038c0.399,0.885,1.498,1.372,2.478,0.858l17.071-8.976\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.976c0.979,0.514,2.079,0.027,2.478-0.858c0.138-0.307,0.195-0.659,0.13-1.037\tl-2.627-15.322L49.386,40.174z"/>',half:'<path class="sr-outline" fill="#F2A261" d="M31.163,55.698C31.425,55.561,32,55.492,32,55.492v-1.797c0,0-0.575,0.069-0.837,0.207\tC31.425,53.764,32,53.694,32,53.694v-1.797c0,0-0.51,0.069-0.772,0.207l-17.04,8.975c-0.979,0.515-2.062,0.028-2.461-0.857\tl-0.123,0.76c-0.065,0.378-0.003,0.73,0.135,1.038l-0.128,0.76c-0.065,0.377-0.007,0.73,0.131,1.037l-0.13,0.76\tc-0.252,1.469,1.289,2.589,2.607,1.896l17.073-8.976c0.262-0.138,0.485-0.206,0.772-0.206l-0.065,0v-1.797\tC32,55.492,31.425,55.561,31.163,55.698z"/><path class="sr-outline" fill="#F2A261" d="M14.874,40.174c0.1-0.583-0.094-1.178-0.519-1.591L0.545,25.12\tc-0.121-0.118-0.214-0.248-0.294-0.382c-0.308,0.541-0.339,1.225,0,1.798c-0.308,0.54-0.339,1.224,0,1.797\tc-0.38,0.667-0.344,1.559,0.294,2.18l13.696,13.351L14.874,40.174z"/><path class="def-shadow" fill="#B9C1C5" d="M64.008,24.737c-0.08,0.135-0.173,0.265-0.294,0.383L49.903,38.583\tc-0.425,0.413-0.617,1.008-0.518,1.591l0.632,3.688l13.696-13.35c0.638-0.621,0.674-1.513,0.294-2.18\tc0.34-0.573,0.308-1.257,0-1.797C64.348,25.962,64.316,25.278,64.008,24.737z"/><path class="def-shadow" fill="#B9C1C5" d="M50.038,61.079l-17.137-8.976C32.639,51.966,32,51.897,32,51.897v1.797c0,0-0.575,0.069-0.837,0.207\tC31.425,53.764,32,53.695,32,53.695v1.797c0,0-0.575,0.068-0.837,0.206C31.425,55.561,32,55.492,32,55.492v1.797\tc0,0,0.639,0.069,0.901,0.207l17.105,8.976c1.317,0.693,2.875-0.427,2.624-1.896l-0.123-0.76c0.138-0.307,0.2-0.659,0.135-1.037\tl-0.128-0.761c0.138-0.307,0.196-0.659,0.131-1.037l-0.13-0.761C52.115,61.106,51.017,61.593,50.038,61.079z"/><path class="sr-background" fill="#D3DADF" d="M49.386,40.174c-0.1-0.583,0.093-1.178,0.518-1.591L63.714,25.12\tc0.121-0.118,0.215-0.248,0.294-0.383c0.622-1.05,0.017-2.494-1.291-2.684L43.631,19.28c-0.586-0.085-1.092-0.453-1.354-0.983\tL33.742,1.001c-0.413-0.834-1.376-1.147-2.153-0.938C31.744,0.021,32,0,32,0v51.896c0,0-0.51,0.069-0.772,0.207\tc0.262-0.138,0.583-0.207,0.87-0.207s0.59,0.069,0.852,0.207l17.08,8.976c0.979,0.514,2.082,0.027,2.481-0.858\tc0.138-0.307,0.197-0.659,0.132-1.037l-2.626-15.321L49.386,40.174z"/><path class="sr-fill" fill="#EFC319" d="M14.221,61.078l17.007-8.975C31.49,51.966,32,51.896,32,51.896V0c0,0-0.256,0.021-0.411,0.063\tc-0.466,0.125-0.856,0.438-1.104,0.938l-8.521,17.296c-0.261,0.53-0.758,0.898-1.344,0.983L1.538,22.054\tc-1.308,0.189-1.911,1.634-1.289,2.684c0.08,0.134,0.174,0.265,0.295,0.382l13.811,13.463c0.425,0.413,0.618,1.008,0.519,1.591\tl-0.632,3.689l-2.628,15.32c-0.065,0.378-0.008,0.73,0.13,1.038C12.143,61.106,13.242,61.593,14.221,61.078z"/>',full:'<path class="sr-outline" fill="#F2A261" d="M14.874,40.174c0.1-0.583-0.094-1.178-0.518-1.591L0.544,25.12\tc-0.121-0.118-0.214-0.248-0.294-0.382c-0.308,0.541-0.339,1.225,0,1.798c-0.308,0.54-0.339,1.224,0,1.797\tc-0.38,0.667-0.344,1.559,0.293,2.18l13.696,13.35L14.874,40.174z"/><path class="sr-outline" fill="#F2A261" d="M50.037,61.078l-17.071-8.975c-0.524-0.275-1.149-0.275-1.674,0L14.22,61.078\tc-0.979,0.515-2.079,0.028-2.478-0.857l-0.13,0.76c-0.065,0.378-0.008,0.73,0.13,1.037l-0.13,0.761\tc-0.065,0.377-0.008,0.73,0.13,1.037l-0.13,0.76c-0.252,1.469,1.289,2.589,2.608,1.896l17.072-8.976\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.976c1.318,0.693,2.86-0.427,2.608-1.896l-0.13-0.76c0.138-0.307,0.195-0.659,0.13-1.037\tl-0.13-0.761c0.138-0.307,0.195-0.659,0.13-1.037l-0.13-0.761C52.116,61.106,51.016,61.593,50.037,61.078z"/><path class="sr-outline" fill="#F2A261" d="M64.008,24.738c-0.08,0.134-0.173,0.264-0.294,0.382L49.902,38.583\tc-0.424,0.413-0.617,1.008-0.517,1.591l0.632,3.688l13.696-13.349c0.637-0.621,0.674-1.513,0.293-2.18\tc0.339-0.573,0.308-1.257,0-1.797C64.347,25.962,64.315,25.278,64.008,24.738z"/><path class="sr-fill" fill="#EFC319" d="M49.386,40.174c-0.101-0.583,0.093-1.178,0.517-1.591L63.714,25.12\tc0.121-0.118,0.214-0.248,0.294-0.382c0.621-1.05,0.017-2.495-1.29-2.684L43.631,19.28c-0.586-0.085-1.093-0.453-1.354-0.983\tL33.741,1.001c-0.66-1.335-2.564-1.335-3.224,0L21.98,18.297c-0.261,0.53-0.767,0.898-1.353,0.983L1.542,22.054\tc-1.308,0.189-1.913,1.634-1.291,2.684c0.08,0.134,0.173,0.264,0.294,0.382l13.811,13.463c0.424,0.413,0.618,1.008,0.518,1.591\tl-0.633,3.689l-2.628,15.321c-0.065,0.378-0.008,0.73,0.13,1.038c0.399,0.885,1.498,1.372,2.478,0.857l17.072-8.975\tc0.524-0.275,1.149-0.275,1.674,0l17.071,8.975c0.979,0.515,2.079,0.028,2.478-0.857c0.138-0.307,0.195-0.659,0.13-1.037\tl-2.627-15.322L49.386,40.174z"/>'},style4:{viewbox:"-6 -6 68 68",empty:'<path class="sr-background" fill="#D3DADF" d="M29.322,0C13.127,0,0,13.129,0,29.323c0,16.195,13.127,29.323,29.322,29.323s29.324-13.128,29.324-29.323C58.646,13.129,45.518,0,29.322,0 M46.717,26.696l-7.082,6.902c-0.346,0.337-0.504,0.822-0.422,1.298l1.672,9.747c0.205,1.199-1.051,2.111-2.127,1.546l-8.754-4.602c-0.426-0.225-0.936-0.225-1.363,0l-8.754,4.602c-1.074,0.565-2.334-0.347-2.127-1.546l1.672-9.747c0.08-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.869-0.849-0.391-2.326,0.813-2.501l9.787-1.422c0.477-0.069,0.891-0.369,1.104-0.802l4.377-8.868c0.537-1.09,2.092-1.09,2.629,0l4.377,8.868c0.215,0.433,0.627,0.732,1.104,0.802l9.787,1.422C47.107,24.37,47.586,25.848,46.717,26.696"/>',
half:'<path class="sr-background" fill="#D3DADF" d="M29.322,0C13.127,0,0,13.129,0,29.323c0,16.195,13.127,29.323,29.322,29.323s29.324-13.128,29.324-29.323C58.646,13.129,45.518,0,29.322,0 M46.717,26.696l-7.082,6.902c-0.346,0.337-0.504,0.822-0.422,1.298l1.672,9.747c0.205,1.199-1.051,2.111-2.127,1.546l-8.754-4.602c-0.426-0.225-0.936-0.225-1.363,0l-8.754,4.602c-1.074,0.565-2.334-0.347-2.127-1.546l1.672-9.747c0.08-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.869-0.849-0.391-2.326,0.813-2.501l9.787-1.422c0.477-0.069,0.891-0.369,1.104-0.802l4.377-8.868c0.537-1.09,2.092-1.09,2.629,0l4.377,8.868c0.215,0.433,0.627,0.732,1.104,0.802l9.787,1.422C47.107,24.37,47.586,25.848,46.717,26.696"/><path class="sr-fill" fill="#EFC319" d="M29.324,41.419c-0.236,0-0.469,0.056-0.684,0.169l-8.754,4.602c-1.074,0.565-2.332-0.348-2.127-1.546l1.672-9.747c0.082-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.869-0.849-0.389-2.326,0.814-2.501l9.785-1.423c0.479-0.068,0.891-0.368,1.104-0.801l4.377-8.868c0.27-0.545,0.791-0.817,1.314-0.817L29.324,0C13.129,0,0,13.129,0,29.323c0,16.195,13.129,29.323,29.324,29.323V41.419z"/>',full:'<path class="sr-fill" fill="#EFC319" d="M29.322,0C13.128,0,0,13.129,0,29.323c0,16.195,13.128,29.323,29.322,29.323c16.195,0,29.324-13.128,29.324-29.323C58.646,13.129,45.517,0,29.322,0 M46.717,26.696l-7.082,6.902c-0.345,0.337-0.503,0.822-0.421,1.298l1.671,9.747c0.206,1.199-1.051,2.111-2.127,1.546l-8.753-4.602c-0.427-0.225-0.938-0.225-1.365,0l-8.753,4.602c-1.075,0.565-2.333-0.347-2.127-1.546l1.672-9.747c0.081-0.476-0.076-0.961-0.422-1.298l-7.082-6.902c-0.87-0.849-0.39-2.326,0.813-2.501l9.787-1.422c0.477-0.069,0.89-0.369,1.104-0.802l4.376-8.868c0.538-1.09,2.092-1.09,2.629,0l4.377,8.868c0.214,0.433,0.626,0.732,1.104,0.802l9.786,1.422C47.107,24.37,47.587,25.848,46.717,26.696"/>'}}})},"social.js":function(a,b,c){!function(a){b.exports=c("./_base").extend({get_styles:function(){return{}},setup_defaults:function(){this.config={show_count:!1,style:"tve_style_1",button_type:"tve_social_itb",selected:["fb_share","g_share","t_share"],share_url:"{tcb_post_url}",min_shares:0,t_share:{label:"Tweet"},g_share:{label:"Share +1"},pin_share:{label:"Pin"}}},label:function(a){return this.config[a]&&this.config[a].label?this.config[a].label:TVE.t.share},render_default:function(){this.setup_defaults();var a=jQuery('<div class="thrv_wrapper thrv_social_custom thrv_'+this.key+'"></div>');return this.render_to(a),a},_render_to:function(b,c){var d={};b.find(".tve_s_count").each(function(){var b=a(this);d[b.closest(".tve_s_item").attr("data-s")]=b.text()}),d.total={value:0,formatted:0},TVE.inner.window.TCB_Front.total_share_counts&&TVE.inner.window.TCB_Front.total_share_counts[this.config.share_url]&&(d.total=TVE.inner.window.TCB_Front.total_share_counts[this.config.share_url]),b.html(TVE.tpl("elements/social")({r:this,config:this.config,counts:d}));var e=this.config;b.find(".tve_s_item").each(function(){var a=this.getAttribute("data-s"),b=this;_.each(e[a],function(a,c){a&&"href"!==c&&b.setAttribute("data-"+c,a)})}),b.attr("data-counts",this.config.show_count?"1":""),b.attr("data-min_shares",this.config.min_shares),TVE.Editor_Page.reposition_icons(b)}})}(jQuery)},"styled-list.js":function(a,b,c){b.exports=c("./_base").extend({setup_defaults:function(){this.data={items:3,text:"List Element",icon_code:"icon-check"}},_render_to:function(a,b){return a.html(this.get_html()).attr("data-icon-code",this.data.icon_code),this},get_html:function(){for(var a='<ul class="tcb-styled-list">',b=0;b<this.data.items;b++)a+=this.create_default_list_item();return a+="</ul>"},create_default_list_item:function(a,b){a=void 0===a?this.data.icon_code:a,b=void 0===b?this.data.text:b;var c="";c+='<li class="thrv-styled-list-item">',c+='<div class="tcb-styled-list-icon"><div class="thrv_wrapper thrv_icon tve_no_drag tcb-no-delete tcb-no-clone tcb-icon-inherit-style">';var d=jQuery("symbol#"+a);return d.length?c+=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").text()}):c+='<span data-name="'+a.replace("icon-","")+'" class="tve_sc_icon '+a+'"></span>',c+="</div></div>",c+='<span class="thrv-advanced-inline-text tve_editable tcb-styled-list-icon-text tcb-no-delete">'+b+"</span>",c+="</li>"},get_icon:function(a){return a.find(".thrv_icon").html()},get_text:function(a){return a.find(".tcb-styled-list-icon-text").text().substring(0,20)}})}},libs:{"element-snapshot.js":function(a,b,c){function d(a){var b={html:a.html(),cls:a.attr("class"),style:a.attr("style"),data:{}};return a.length&&a[0].dataset&&jQuery.each(a[0].dataset,function(a,c){b.data[a]=c}),b}function e(a,b){return a.length&&b?(a.html(b.html).attr("class",b.cls).attr("style",b.style),jQuery.each(a.data(),function(b,c){a.removeAttr("data-"+b)}),jQuery.each(b.data,function(b,c){a[0].dataset[b]=c}),this):this}b.exports=function(a,b,c){var f=d(b);a.call(void 0===c?null:c);var g=d(b);TVE.UndoManager.add({undo:function(){e(b,f)},redo:function(){e(b,g)}})}},"event-manager.js":function(a,b,c){!function(a){b.exports={D_s:"__TCB_EVENT_",D_e:"_TNEVE_BCT__",read:function(a){if(!a)return[];var b=a.jquery?a.attr("data-tcb-events"):a.getAttribute("data-tcb-events");return b=b?JSON.parse(b.replace(this.D_s,"").replace(this.D_e,"")):[]},get:function(b,c){var d=this.read(b),e=!1;return a.each(d,function(a,b){if(b.t===c)return e=b,!1}),e},remove:function(b,c){var d=this.read(b);return d.length?(a.each(d,function(a,b){if(b.t===c)return d.splice(a,1),!1}),this.write(d,b),this):this},replace:function(b,c,d){var e=this.read(b),f=!1;d.t||(d.t=c),a.each(e,function(a,b){if(b.t===c)return e[a]=d,f=!0,!1}),f||e.push(d),this.write(e,b)},write:function(a,b){if(b){a=_.filter(a,function(a){return"link"!==a.a}),b=b.jquery?b[0]:b,a.length?(b.setAttribute("data-tcb-events",this.D_s+JSON.stringify(a)+this.D_e),b.classList.add("tve_evt_manager_listen")):(b.classList.remove("tve_evt_manager_listen"),b.removeAttribute("data-tcb-events"));var c=b.jquery?b:jQuery(b),d=c.closest(".thrv_wrapper");c.removeClass(this.remove_classes),d.removeClass(this.remove_classes);for(var e,f=0;e=a[f++];)c.addClass("tve_et_"+e.t),d.addClass("tve_ea_"+e.a),"thrive_animation"===e.a&&d.addClass("tve_anim_"+e.config.anim)}},remove_classes:function(a,b){var c=b.split(" "),d=[];return _.each(c,function(a){0!==a.indexOf("tve_et_")&&0!==a.indexOf("tve_ea_")&&0!==a.indexOf("tve_anim")||d.push(a)}),d.join(" ")}}}(jQuery)},"favorite-colors.js":function(a,b,c){var d=c("../views/base"),e=c("./tinycolor"),f=c("./storage");b.exports=d.base_view.extend({template:TVE.tpl("util/favorite-colors"),className:"tcb-fav-colors",attr:{expanded:f.get("tcb_fav_expanded")||!1,colors:TVE.CONST.colors.favorites||[],color_sets:TVE.CONST.colors.color_sets||[]},render_colors:function(a,b){a=a||this.attr.colors,b=void 0!==b&&b;var c=b?'<span class="p-thumb click save-fav" data-left="20" data-tooltip="'+TVE.t.fav_color_add+'" data-fn="save_favorite"><span class="p-thumb-inner">'+TVE.icon("add_color")+"</span></span>":"";return _.each(a,function(a){c+='<span class="p-thumb click" data-fn="color_click" data-color="'+e(a).toRgbString()+'"><span class="p-thumb-inner" style="background-color:'+a+'"></span></span>'}),c},save_favorite:function(){return this.add_color(this.color_picker.getValue()),!1},get_recent:function(a){return a=a||7,this.attr.colors.length<a?this.attr.colors:this.attr.colors.slice(0,a)},toggle:function(){return this.$(".tcb-favorites").toggleClass("expanded"),this.attr.expanded=!this.attr.expanded,this.attr.expanded?(f.set("tcb_fav_expanded","1"),this.toggle_remove_btn()):f.unset("tcb_fav_expanded"),this.$(".recent").html(this.render_colors(this.get_recent(),!0)),!1},toggle_remove_btn:function(){this.$(".remove-color")[this.attr.colors.length?"show":"hide"]()},color_click:function(a,b){var c=b.getAttribute("data-color");return this.color_picker.setValue(c,!0),this.select(c),!1},add_color:function(a){return a?(a="function"==typeof a.toString?a.toString():a,-1!==this.attr.colors.indexOf(a)?this:(this.$(".remove-color").removeClass("tcb-hide"),this.attr.colors.unshift(a),this.$(".recent").html(this.render_colors(this.get_recent(),!0)),this.$(".all-colors").html(this.render_colors(void 0,!0)),this.select(a),this)):this},select:function(a){var b=this.$(".p-thumb").not(".save-fav").removeClass("active");if(a)return"string"==typeof a&&(a=e(a)),this.$selected=b.filter('[data-color="'+a.toRgbString()+'"]').addClass("active").filter(".p-thumb"),this.$selected.closest(".colors").length?this.$(".remove-color").show():this.$(".remove-color").hide(),this},deselect:function(){return this.$selected&&this.$selected.length?(this.$(".p-thumb.active").removeClass("active"),delete this.$selected,this.$(".remove-color").hide(),this):this},on_color_change:function(a){this.select(a)},remove_color:function(a,b){return!(!this.$selected||!this.$selected.length)&&(this.$selected=this.$selected.filter(".colors .p-thumb"),this.attr.colors.splice(this.$selected.index()-1,1),this.$selected.remove(),this.attr.colors.length||b.classList.add("tcb-hide"),this.$(".remove-color").hide(),delete this.$selected,!1)}})},"file-picker.js":function(a,b,c){function d(a){var b={title:TVE.t.ChooseImage,multiple:!1,library:{type:"image"},preselect_full_size:!0},c=this;a=_.defaults(a||{},b),this.frame=new e(a),a.preselect_full_size&&(this.frame.on_attachment_select=function(){this.$el.find(".attachment-display-settings .size").val("full").trigger("change")}),this.frame.on("insert",function(a){c.image_selected=!0;var b=c.frame.state();if(a=a||b.get("selection")){var d=b.get("selection").first(),e=b.display(d).toJSON();c.update_link_url(e,d),c.send_image(e,d.toJSON())}}),this.frame.on("select",function(){var a=c.frame.state(),b=a.props.toJSON();c.send_image(null,b)}),this.frame.on("close",function(){"function"==typeof c.cancel_callback&&setTimeout(function(){c.image_selected||c.cancel_callback.call(c.cancel_scope)},10)})}var e=wp.media.view.MediaFrame.Post.extend({createStates:function(){wp.media.view.MediaFrame.Post.prototype.createStates.apply(this,arguments),this.states.remove("gallery"),this.states.remove("gallery-edit"),this.states.remove("gallery-add"),this.states.remove("playlist"),this.states.remove("video-playlist"),this.states.remove("audio-playlist"),this.states.get("insert").set("title",this.options.title)},activate:function(){var a=this;this.menuItemVisibility("gallery","hide"),this.menuItemVisibility("playlist","hide"),this.menuItemVisibility("video-playlist","hide"),this.menuItemVisibility("audio-playlist","hide"),this.state().get("selection")&&this.state().get("selection").on("selection:single",function(){a.on_attachment_select.apply(a,arguments)})},on_attachment_select:function(){}});d.prototype.update_link_url=function(a,b){if(a&&b)switch(a.link){case"file":a.link_url=b.get("url");break;case"post":a.link_url=b.get("link");break;case"custom":a.link_url=a.linkUrl;break;case"none":a.link_url=""}},d.prototype.send_image=function(a,b){if("function"!=typeof this.select_callback)return this;var c=_.extend({},b);if(a&&a.size&&b.sizes&&b.sizes[a.size]){b.size=c.size=a.size;var d=b.sizes[a.size];c.url=d.url,c.width=d.width,c.height=d.height,c.align=a.align}return a&&a.link_url&&(c.link_url=a.link_url),c.title||(c.title=c.url.replace(/\/$/,"").split("/").pop()),this.select_callback.call(this.cb_scope,c,b)},d.prototype.open=function(){return delete self.image_selected,this.frame.open(),this},d.prototype.on_select=function(a,b){return this.select_callback=a,this.cb_scope=b||this,this},d.prototype.on_cancel=function(a,b){return this.cancel_callback=a,this.cancel_scope=b||this,this},d.prototype.clean_url=function(a){if(!a)return"";var b="";return _.isObject(a)&&a.url?b=a.url:a.length&&(b=a),b.replace?b.replace(/^http(s)?:\/\//g,"//"):""},b.exports=d},"gradient-builder.js":function(a,b,c){var d={"visit_linear-gradient":function(a){return d.visit_gradient(a)},"visit_repeating-linear-gradient":function(a){return d.visit_gradient(a)},"visit_radial-gradient":function(a){return d.visit_gradient(a)},"visit_repeating-radial-gradient":function(a){return d.visit_gradient(a)},visit_gradient:function(a){var b=d.visit(a.orientation);return b&&(b+=", "),(a.real_type?a.real_type:a.type)+"("+b+d.visit(a.colorStops)+")"},visit_shape:function(a){var b=a.value,c=d.visit(a.at),e=d.visit(a.style);return e&&(b+=" "+e),c&&(b+=" at "+c),b},"visit_default-radial":function(a){var b="",c=d.visit(a.at);return c&&(b+=c),b},"visit_extent-keyword":function(a){var b=a.value,c=d.visit(a.at);return c&&(b+=" at "+c),b},"visit_position-keyword":function(a){return a.value},visit_position:function(a){return d.visit(a.value.x)+" "+d.visit(a.value.y)},"visit_%":function(a){return a.value+"%"},visit_em:function(a){return a.value+"em"},visit_px:function(a){return a.value+"px"},visit_literal:function(a){return d.visit_color(a.value,a)},visit_hex:function(a){return d.visit_color("#"+a.value,a)},visit_rgb:function(a){return d.visit_color("rgb("+a.value.join(", ")+")",a)},visit_rgba:function(a){return d.visit_color("rgba("+a.value.join(", ")+")",a)},visit_color:function(a,b){var c=a,e=d.visit(b.length);return e&&(c+=" "+e),c},visit_angular:function(a){return a.value+"deg"},visit_directional:function(a){return"to "+a.value},visit_array:function(a){var b="",c=a.length;return a.forEach(function(a,e){b+=d.visit(a),e<c-1&&(b+=", ")}),b},visit:function(a){if(!a)return"";if(a instanceof Array)return d.visit_array(a);if(a.type){var b=d["visit_"+a.type]||d["visit_"+a.real_type];if(b)return b(a);throw Error("Missing visitor visit_"+a.type)}if("string"==typeof a)return a;throw Error("Invalid node.")}};d.visit_solid=function(a){return a.real_type="linear-gradient",d.visit_gradient(a)},d.visit_url=function(a){return'url("'+a.value+'")'},b.exports=function(a){return a?a instanceof Array&&!a.length?"none":d.visit(a):"none"}},"gradient-parser.js":function(a,b,c){var d=c("./tinycolor");b.exports=function(){function a(a){var b=new Error(I+": "+a);throw b.source=I,b}function b(){var b=c();return I.length>0&&a("Invalid input not EOF"),b}function c(){return u(e)}function e(){return f()||h("linear-gradient",H.linearGradient,j)||h("repeating-linear-gradient",H.repeatingLinearGradient,j)||h("radial-gradient",H.radialGradient,m)||h("repeating-radial-gradient",H.repeatingRadialGradient,m)}function f(){var a=F(H.url);return!!a&&{type:"url",value:a[3]}}function g(a){return"linear-gradient"==a.type&&(2===a.colorStops.length&&d.equals(a.colorStops[0].value,a.colorStops[1].value))}function h(b,c,d){return i(c,function(c){var e=d();e&&(F(H.comma)||a("Missing comma before color stops"));var f={type:b,orientation:e,colorStops:u(v)};return g(f)&&(f.type="solid"),f})}function i(b,c){var d=F(b);if(d){F(H.startCall)||a("Missing (");var e=c(d);return F(H.endCall)||a("Missing )"),e}}function j(){return k()||l()}function k(){return E("directional",H.sideOrCorner,1)}function l(){var a=F(H.angleValue);if(a)return a[1]+"deg"}function m(){var a,b,c=n();return c&&(a=[],a.push(c),b=I,F(H.comma)&&(c=n(),c?a.push(c):I=b)),a}function n(){var a=o()||p();if(a)a.at=r();else{var b=q();if(b){a=b;var c=r();c&&(a.at=c)}else{var d=s();d&&(a={type:"default-radial",at:d})}}return a}function o(){var a=E("shape",/^(circle)/i,0);return a&&(a.style=D()||q()),a}function p(){var a=E("shape",/^(ellipse)/i,0);return a&&(a.style=B()||q()),a}function q(){return E("extent-keyword",H.extentKeywords,1)}function r(){if(E("position",/^at/,0)){var b=s();return b||a("Missing positioning value"),b}}function s(){var a=t();if(a.x||a.y)return{type:"position",value:a}}function t(){return{x:B(),y:B()}}function u(b){var c=b(),d=[];if(c)for(d.push(c);F(H.comma);)c=b(),c?d.push(c):a("One extra comma");return d}function v(){var b=w();return b||a("Expected color definition"),b.length=B(),b}function w(){return y()||z()||x()}function x(){var a=F(H.literalColor);if(a)return{type:"literal",transparent:"transparent"===a[0]&&"transparent",value:new d(a[0])}}function y(){var a=F(H.hexColor);if(a)return{type:"literal",value:new d(a[1])}}function z(){return i(H.rgbaColor,function(){var a=u(A);return{type:"literal",value:new d((4===a.length?"rgba(":"rgb(")+a.join(",")+")")}})}function A(){return F(H.number)[1]}function B(){return E("%",H.percentageValue,1)||C()||D()}function C(){return E("position-keyword",H.positionKeywords,1)}function D(){return E("px",H.pixelValue,1)||E("em",H.emValue,1)}function E(a,b,c){var d=F(b);if(d)return{type:a,value:d[c]}}function F(a){var b,c;return c=/^[\n\r\t\s]+/.exec(I),c&&G(c[0].length),b=a.exec(I),b&&G(b[0].length),b}function G(a){I=I.substr(a)}var H={url:/^url(\s*)\(('|"|)(.+?)(\2)\)/i,linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbaColor:/^rgba?/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},I="";return function(a){return void 0===a?[]:(I=a.toString(),I&&"none"!==I?b():[])}}()},"gradient-picker.js":function(a,b,c){!function(a){function d(a,b){return a.position-b.position}function e(b,c){this.$el=b,this.$el.css("position","relative"),this.color_picker=c.color_picker,delete c.color_picker,this.color_picker.on_change=l(this.colorPickerChange,this),this.opts=a.extend(!0,{},c),this.original_opts=a.extend(!0,this.opts,{}),this.colorStops=[],this.$pointsContainer=this.$el.find(".gradient-picker-points"),this.updatePreview=l(this.updatePreview,this),this.previewClicked=l(this.previewClicked,this);var d=this.$el.find(".gradient-picker-preview");this.g2d=d[0].getContext("2d"),d.click(this.previewClicked),this.addPoints(c.colorStops),this.updatePreview(!1)}function f(b,c,d,e){this.$el=a("<div>",{class:"gradient-picker-point"}),this.$el.append('<div class="pt-color"></div>'),this.$el.append('<span class="pt-text"></span>'),this.$info=this.$el.find(".pt-text"),b.append(this.$el),this.$parentEl=b,this.color=c.value,this.position=void 0===c.position?parseFloat(c.length.value||0)/100:c.position,this.gradient=d,this.width=this.$el.outerWidth()||12,this.parentWidth=b.outerWidth()||236,this.$el.find(".pt-color").css("background-color",this.color),this.$el.css("left",(this.parentWidth-this.width)*this.position),this.colorChanged=l(this.colorChanged,this),this.start=l(this.start,this),this.move=l(this.move,this),this.stop=l(this.stop,this);var f=this;this.$el.tve_draggable({start:l(f.start,f),move:l(f.move,f),stop:l(f.stop,f),dir:"right"}),this.max=this.parentWidth-this.width,this.min=0,this.info(),e&&this.select()}var g=c("./gradient-parser"),h=c("./gradient-builder"),i=c("../views/controls/color-picker"),j=c("../views/base"),k=c("../views/controls/knob"),l=_.bind;e.prototype={createPoint:function(a,b){return new f(this.$pointsContainer,a,this,b)},addPoints:function(a){a=void 0!==a?a:this.opts.colorStops;var b=100/(a.length-1);return a.forEach(function(a,c){a.length||(a.length={type:"%",value:c*b}),this.colorStops.push(this.createPoint(a))},this),this.colorStops[0].select(),this},colorPickerChange:function(a){this.cp&&this.cp.colorChanged(a)},updateOptions:function(b,c){this.opts=a.extend(!0,{},this.opts,b),this.updatePreview(c)},resetOptions:function(b){this.original_opts=a.extend(!0,{},b),this.reset()},updatePreview:function(a){a=void 0===a||a,this.g2d.clearRect(0,0,this.g2d.canvas.width,this.g2d.canvas.height);var b=this.g2d.createLinearGradient(0,0,this.g2d.canvas.width,0);this.colorStops.sort(d),this.colorStops.forEach(function(a){b.addColorStop(a.position,a.color)}),this.g2d.fillStyle=b,this.g2d.fillRect(0,0,this.g2d.canvas.width,this.g2d.canvas.height),a&&this.opts.change(this.getValue())},getValue:function(){var a={type:this.opts.type,orientation:"linear-gradient"===this.opts.type?this.opts.orientation:"",colorStops:[]};return this.colorStops.forEach(function(b){a.colorStops.push({type:"literal",value:b.color,length:{type:"%",value:100*b.position|0}})}),a},removeColorStop:function(a){var b=this.colorStops.indexOf(a);-1!=b&&(this.colorStops.splice(b,1),a.$el.remove())},removeAllColorStops:function(){return this.$pointsContainer.empty(),delete this.colorStops,this.colorStops=[],this},previewClicked:function(b){this.$pointsContainer.find(".gradient-picker-point").removeClass("active");var c=a(b.target).offset(),e=b.pageX-c.left,f=b.pageY-c.top,g=this.g2d.getImageData(e,f,1,1),h=this.createPoint({position:e/this.g2d.canvas.offsetWidth,value:"rgb("+g.data[0]+","+g.data[1]+","+g.data[2]+")"},!0);this.cp=h,this.colorStops.push(h),this.colorStops.sort(d),this.updatePreview(!0)},reset:function(){this.removeAllColorStops(),this.addPoints(this.original_opts.colorStops),this.updateOptions(this.original_opts,!1)}},f.prototype={info:function(){this.$info.text(Math.round(100*(this.position||0))+"%")},colorChanged:function(a){this.color=a,this.$el.find(".pt-color").css("background-color",this.color),this.gradient.updatePreview()},select:function(){this.gradient.cp=this,this.gradient.color_picker.setValue(this.color),this.$parentEl.find(".gradient-picker-point").removeClass("active"),this.$el.addClass("active")},start:function(){this.startPosition=parseInt(this.$el.css("left")),this.select()},move:function(a){var b=this.startPosition+a;b=b>this.max?this.max:b,b=b<this.min?this.min:b,this.$el.css("left",b),this.position=b/(this.parentWidth-this.width),this.info(),this.gradient.updatePreview()},stop:function(){this.gradient.updatePreview()}},a.fn.gradientPicker=function(b){var c;return b=a.extend({change:a.noop},b),this.data("gradient-picker")||this.data("gradient-picker",c=new e(this,b)),c},b.exports=j.base_view.extend({template:TVE.tpl("controls/gradient-picker"),initialize:function(b){var c=this;this.render(),this.angle=new k({el:this.$(".tve-gradient-angle"),template:TVE.tpl("controls/gradient/knob"),model:{config:{um:["DEG"],min:0,max:360,type:"number",default:90}}}),this.color_picker=new i({el:this.$(".gradient-color-picker")[0],model:{config:{options:{move:l(function(a){return this.color_picker.on_change(a)},this),change:l(function(a){return this.color_picker.on_change(a)},this),output:"object",flat:!0,showButtons:!1,allowEmpty:!1,showInput:!0,showAlpha:!0}}}}),this.angle.input=this.angle.change=function(a,b){c.picker.updateOptions({orientation:b.value+"deg"})},this.picker=this.$el.gradientPicker(a.extend(!0,{},this.defaults(),{change:l(this.trigger_change,this),color_picker:this.color_picker}))},defaults:function(){return{type:"linear-gradient",orientation:"90deg",colorStops:[{type:"literal",value:"#ffffff"},{type:"literal",value:"#000000"}]}},reflow:function(){this.color_picker.reflow()},trigger_change:function(a){this.trigger("change",a)},gradient_type:function(a,b){this.picker.updateOptions({type:b.value}),this.$(".gradient-orientation")["linear-gradient"===b.value?"show":"hide"]()},reset:function(){return this.setValue(this._orig),this.trigger_change(this.picker.getValue()),!1},setValue:function(b){var c=b;"string"==typeof b&&((c=g(b))&&c.length||(c=[this.defaults()])),this._orig=a.extend(!0,{},b),this.picker.resetOptions(c),this.angle.setValue(c.orientation?parseInt(c.orientation):90),this.$(".gradient-style").val(c.type),this.$(".gradient-orientation")["linear-gradient"===c.type?"show":"hide"]()},getValue:function(){return this.picker.getValue()},getCss:function(){return h(this.picker.getValue())},render_favorites:function(){this.color_picker.render_favorites()}})}(jQuery)},"remove-border-classes.js":function(a,b,c){b.exports=function(a){a.removeClass(function(a,b){return b.match(/tve_brdr_([^\s'"]+)/)?"tve_brdr_"+RegExp.$1:""})}},"shortcode-manager.js":function(a,b,c){b.exports=function(a,b){var c="__CONFIG_"+b+"__";return{update:function(a,b){var c=this.get();c[b]=a,this.save(c)},save:function(b){a.html(c+JSON.stringify(b).replace(/\\"/g,"_tve_quote_")+c)},get:function(){var b=new RegExp(c,"g");return JSON.parse(a.html().replace(/_tveutf8_/g,"\\u").replace(b,"").replace(/\\\'/g,"'").replace(/_tve_quote_/g,'\\"'))}}}},"spectrum.js":function(a,b,c){!function(a,b){function d(b,c,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g];if(h){var i=p(h),j=i.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";j+=p.equals(c,h)?" sp-thumb-active":"";var k=i.toString(e.preferredFormat||"rgb"),l=s?"background-color:"+i.toRgbString():"filter:"+i.toFilter();f.push('<span title="'+k+'" data-color="'+i.toRgbString()+'" class="'+j+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}else{f.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",e.noColorSelectedText)).html())}}return"<div class='sp-cf "+d+"'>"+f.join("")+"</div>"}function e(){for(var a=0;a<q.length;a++)q[a]&&q[a].hide()}function f(b,c){var d=a.extend({},o,b);return d.callbacks={move:k(d.move,c),change:k(d.change,c),show:k(d.show,c),hide:k(d.hide,c),cancel:k(d.cancel,c),beforeShow:k(d.beforeShow,c),saveFavorite:k(d.saveFavorite,c)},d}function g(c,g){function i(){if(U.showPaletteOnly&&(U.showPalette=!0),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){na=U.palette.slice(0),oa=a.isArray(na[0])?na:[na],pa={};for(var b=0;b<oa.length;b++)for(var c=0;c<oa[b].length;c++){var d=p(oa[b][c]).toRgbString();pa[d]=!0}}xa.toggleClass("sp-flat",V),xa.toggleClass("sp-input-disabled",!U.showInput),xa.toggleClass("sp-alpha-enabled",U.showAlpha),xa.toggleClass("sp-clear-enabled",Za),xa.toggleClass("sp-buttons-disabled",!U.showButtons),xa.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),xa.toggleClass("sp-palette-disabled",!U.showPalette),xa.toggleClass("sp-palette-only",U.showPaletteOnly),xa.toggleClass("sp-initial-disabled",!U.showInitial),xa.toggleClass("sp-save-disabled",!U.showSaveButton),xa.addClass(U.className).addClass(U.containerClassName),U.flat||xa.addClass("drop-panel panel-dark").append('<div class="tcb-panel-arrow"></div>'),U.showAlpha&&U.alpha_input&&(xa.find(".sp-ctrl-opacity").append(U.alpha_input.$el),U.alpha_input.input=function(){ma=parseFloat(this.$input.val())/100,K()}),O()}function k(){if(X&&window.localStorage){try{var b=window.localStorage[X].split(",#");b.length>1&&(delete window.localStorage[X],a.each(b,function(a,b){o(b)}))}catch(a){}try{qa=window.localStorage[X].split(";")}catch(a){}}}function o(b){if(W){var c=p(b).toRgbString();if(!pa[c]&&-1===a.inArray(c,qa))for(qa.push(c);qa.length>ra;)qa.shift();if(X&&window.localStorage)try{window.localStorage[X]=qa.join(";")}catch(a){}}}function v(){var a=[];if(U.showPalette)for(var b=0;b<qa.length;b++){var c=p(qa[b]).toRgbString();pa[c]||a.push(qa[b])}return a.reverse().slice(0,U.maxSelectionSize)}function w(){var b=I(),c=a.map(oa,function(a,c){return d(a,b,"sp-palette-row sp-palette-row-"+c,U)});k(),qa&&c.push(d(v(),b,"sp-palette-row sp-palette-row-selection",U)),Ha.html(c.join(""))}function x(){if(U.showInitial){var a=Wa,b=I();Ia.html(d([a,b],b,"sp-palette-row-initial",U))}}function y(){(ca<=0||ba<=0||ea<=0)&&O(),aa=!0,xa.addClass(sa),ta=null,va.trigger("dragstart.spectrum",[I()])}function z(){aa=!1,xa.removeClass(sa),va.trigger("dragstop.spectrum",[I()])}function A(){var a=Ga.val();if(null!==a&&""!==a||!Za){var b=p(a);b.isValid()?(H(b),N(!0)):Ga.addClass("has-error")}else H(null),N(!0)}function B(){_?F():C()}function C(){var b=a.Event("beforeShow.spectrum");if(_)return void O();va.trigger(b,[I()]),!1===Z.beforeShow(I())||b.isDefaultPrevented()||(e(),_=!0,a(ua).bind("keydown.spectrum",D),a(ua).bind("click.spectrum",E),a(window).bind("resize.spectrum",$),Sa.addClass("sp-active"),xa.removeClass("sp-hidden"),O(),L(),Wa=I(),x(),Z.show(Wa),va.trigger("show.spectrum",[Wa]))}function D(a){27===a.keyCode&&F()}function E(a){}function F(){_&&!V&&(_=!1,a(ua).unbind("keydown.spectrum",D),a(ua).unbind("click.spectrum",E),a(window).unbind("resize.spectrum",$),Sa.removeClass("sp-active"),xa.addClass("sp-hidden"),Z.hide(I()),va.trigger("hide.spectrum",[I()]))}function G(){H(Wa,!0)}function H(a,b){if(p.equals(a,I()))return void L();var c,d;!a&&Za?Ya=!0:(Ya=!1,c=p(a),d=c.toHsv(),ja=d.h%360/360,ka=d.s,la=d.v,ma=d.a),L(),c&&c.isValid()&&!b&&(Xa=U.preferredFormat||c.getFormat())}function I(a){return a=a||{},Za&&Ya?null:p.fromRatio({h:ja,s:ka,v:la,a:Math.round(100*ma)/100},{format:a.format||Xa})}function J(){return!Ga.hasClass("has-error")}function K(){L(),Z.move(I()),va.trigger("move.spectrum",[I()])}function L(){Ga.removeClass("has-error"),M();var a=p.fromRatio({h:ja,s:1,v:1});za.css("background-color",a.toHexString());var b=Xa;ma<1&&(0!==ma||"name"!==b)&&("hex"!==b&&"hex3"!==b&&"hex6"!==b&&"name"!==b||(b="rgb"));var c=I({format:b});if(Ua.removeClass("sp-clear-display"),Ua.css("background","transparent"),Na.removeClass("sp-transparent"),!c&&Za)Ua.addClass("sp-clear-display"),Na.addClass("sp-transparent");else{var d=c.toHexString(),e=c.toRgbString();s||1===c.alpha?Ua.css("background",e):(Ua.css("background","transparent"),Ua.css("filter",c.toFilter()));var f=p.mostReadable(d,["#fff","#000"]);if(Na.css("background-color",d),Na.css("color",f._originalInput),U.showAlpha){var g=c.toRgb();g.a=0;var h=p(g).toRgbString();if(Da.css("background-image","linear-gradient(to top, "+h+", "+d+")"),U.alpha_input){var i=Math.round(100*ma);i=i!=parseInt(i)?i.toFixed(1):i,"string"==typeof i&&i.indexOf("NaN")>=0&&(i=""),U.alpha_input.setValueDirectly(i)}}c.toString(b)}U.showInput&&Ga.val(d),U.showPalette&&w(),x()}function M(){var a=ka,b=la;if(Za&&Ya)Fa.hide(),Ca.hide(),Aa.hide();else{Fa.show(),Ca.show(),Aa.show();var c=a*ba,d=ca-b*ca;c=Math.max(-da/2,Math.min(ba-da/2,c-da/2)),d=Math.max(-da/2,Math.min(ca-da/2,d-da/2)),Aa.css({top:d+"px",left:c+"px"});var e=(1-ma)*ga;Fa.css({top:e-ha/2+"px"});var f=ja*ea;Ca.css({top:f-ia/2+"px"})}}function N(a){var b=I();if(!b&&!Wa)return!1;var c="",d=!p.equals(b,Wa);return b&&(c=b.toString(Xa),o(b)),Pa&&va.val(c),!(!a||!d)&&(Z.change(b),va.trigger("change",[b]),!0)}function O(){if(_){if(ba=za.width(),ca=za.height(),da=Aa.outerHeight(),fa=Ba.width(),ea=Ba.height(),ia=Ca.outerHeight(),ga=Ea.height(),ha=Fa.outerHeight(),!V)if(xa.css("position","absolute"),U.offset)xa.offset(U.offset);else{var a=h(xa,Ta);a.above?a.top-=20:a.top+=10,xa.find(".tcb-panel-arrow").css("left",Ta.outerWidth()/2+a.left-TVE.panel_offset.left+"px"),xa.offset(a)}M(),U.showPalette&&w(),va.trigger("reflow.spectrum")}}function P(){va.show(),Ta.unbind("click.spectrum touchstart.spectrum"),xa.remove(),Sa.remove(),q[$a.id]=null}function Q(c,d){return c===b?a.extend({},U):d===b?U[c]:(U[c]=d,"preferredFormat"===c&&(Xa=U.preferredFormat),void i())}function R(){wa=!1,va.attr("disabled",!1),Ta.removeClass("sp-disabled")}function S(){F(),wa=!0,va.attr("disabled",!0),Ta.addClass("sp-disabled")}function T(a){U.offset=a,O()}var U=f(g,c),V=U.flat,W=U.showSelectionPalette,X=U.localStorageKey,Y=U.theme,Z=U.callbacks,$=m(O,10),_=!1,aa=!1,ba=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,ia=0,ja=0,ka=0,la=0,ma=1,na=[],oa=[],pa={},qa=U.selectionPalette.slice(0),ra=U.maxSelectionSize,sa="sp-dragging",ta=null,ua=c.ownerDocument,va=(ua.body,
a(c)),wa=!1,xa=a(u,ua).addClass(Y),ya=xa.find(".sp-picker-container"),za=xa.find(".sp-color"),Aa=xa.find(".sp-dragger"),Ba=xa.find(".sp-hue"),Ca=xa.find(".sp-slider"),Da=xa.find(".sp-alpha-inner"),Ea=xa.find(".sp-alpha"),Fa=xa.find(".sp-alpha-handle"),Ga=xa.find(".sp-input"),Ha=xa.find(".sp-palette"),Ia=xa.find(".sp-initial"),Ja=xa.find(".sp-cancel"),Ka=xa.find(".sp-clear"),La=xa.find(".sp-choose"),Ma=xa.find(".sp-palette-toggle"),Na=xa.find(".sp-preview-color"),Oa=xa.find(".sp-save-fav"),Pa=va.is("input"),Qa=Pa&&"color"===va.attr("type")&&n(),Ra=Pa&&!V,Sa=Ra?a(t).addClass(Y).addClass(U.className).addClass(U.replacerClassName):a([]),Ta=Ra?Sa:va,Ua=Sa.find(".sp-preview-inner"),Va=U.color||Pa&&va.val(),Wa=!1,Xa=U.preferredFormat,Ya=!Va,Za=U.allowEmpty&&!Qa;!function(){function b(b){return b.data&&b.data.ignore?(H(a(b.target).closest(".sp-thumb-el").data("color")),K()):(H(a(b.target).closest(".sp-thumb-el").data("color")),K(),N(!0),U.hideAfterPaletteSelect&&F()),!1}if(r&&xa.find("*:not(input)").attr("unselectable","on"),i(),Ra&&va.after(Sa).hide(),Za||Ka.hide(),V)va.after(xa).hide();else{var c="parent"===U.appendTo?va.parent():a(U.appendTo);1!==c.length&&(c=a("body")),c.append(xa)}k(),Ta.bind("click.spectrum touchstart.spectrum",function(b){wa||B(),b.stopPropagation(),a(b.target).is("input")||b.preventDefault()}),(va.is(":disabled")||!0===U.disabled)&&S(),xa.click(j),Ga.change(A),Ga.bind("paste",function(){setTimeout(A,1)}),Ga.keydown(function(a){13==a.keyCode&&A()}),Ja.text(U.cancelText),Ja.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),G(),F(),Z.move(I()),Z.cancel&&Z.cancel()}),Ka.attr("title",U.clearText),Ka.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),Ya=!0,K(),V&&N(!0)}),La.text(U.chooseText),La.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),r&&Ga.is(":focus")&&Ga.trigger("change"),J()&&(N(!0)||Z.change(I()),F())}),Oa.on("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),Z.saveFavorite(I())}),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),Ma.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||V||xa.css("left","-="+(ya.outerWidth(!0)+5)),i()}),l(Ea,function(a,b,c){ma=1-b/ga,Ya=!1,c.shiftKey&&(ma=Math.round(10*ma)/10),K()},y,z),l(Ba,function(a,b){ja=parseFloat(b/ea),Ya=!1,U.showAlpha||(ma=1),K()},y,z),l(za,function(a,b,c){if(c.shiftKey){if(!ta){var d=ka*ba,e=ca-la*ca,f=Math.abs(a-d)>Math.abs(b-e);ta=f?"x":"y"}}else ta=null;var g=!ta||"x"===ta,h=!ta||"y"===ta;g&&(ka=parseFloat(a/ba)),h&&(la=parseFloat((ca-b)/ca)),Ya=!1,U.showAlpha||(ma=1),K()},y,z),Va?(H(Va),L(),Xa=U.preferredFormat||p(Va).format,o(Va)):L(),V&&C();var d=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ha.delegate(".sp-thumb-el",d,b),Ia.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},b)}();var $a={show:C,hide:F,toggle:B,reflow:O,option:Q,enable:R,disable:S,offset:T,set:function(a,b){H(a),N(b)},get:I,destroy:P,container:xa};return $a.id=q.push($a)-1,$a}function h(b,c){var d=(b.outerWidth(),b.outerHeight(),c.outerHeight()),e=b[0].ownerDocument,f=e.documentElement,g=(f.clientWidth,a(e).scrollLeft(),f.clientHeight,a(e).scrollTop(),c.offset());return g.top+=d,g}function i(){}function j(a){a.stopPropagation()}function k(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function l(b,c,d,e){function f(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function g(a){if(k){if(r&&j.documentMode<9&&!a.button)return i();var d=a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches[0],e=d&&d.pageX||a.pageX,g=d&&d.pageY||a.pageY,h=Math.max(0,Math.min(e-l.left,n)),p=Math.max(0,Math.min(g-l.top,m));o&&f(a),c.apply(b,[h,p,a])}}function h(c){(c.which?3==c.which:2==c.button)||k||!1!==d.apply(b,arguments)&&(k=!0,m=a(b).height(),n=a(b).width(),l=a(b).offset(),a(j).bind(p),a(j.body).addClass("sp-dragging"),g(c),f(c))}function i(){k&&(a(j).unbind(p),a(j.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(b,arguments)},0)),k=!1}c=c||function(){},d=d||function(){},e=e||function(){};var j=document,k=!1,l={},m=0,n=0,o="ontouchstart"in window,p={};p.selectstart=f,p.dragstart=f,p["touchmove mousemove"]=g,p["touchend mouseup"]=i,a(b).bind("touchstart mousedown",h)}function m(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d),!c&&d||(d=setTimeout(g,b))}}function n(){return a.fn.spectrum.inputTypeColorSupport()}var o={beforeShow:i,move:i,change:i,show:i,hide:i,saveFavorite:i,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"apply",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#4b0082","#9400d3","#0000ff","#4b0082","#9400d3","rgba(0,0,0,.5)"]],selectionPalette:[],disabled:!1,offset:null,showSaveButton:!1},p=c("./tinycolor"),q=[],r=!!/msie/i.exec(window.navigator.userAgent),s=function(){function a(a,b){return!!~(""+a).indexOf(b)}var b=document.createElement("div"),c=b.style;return c.cssText="background-color:rgba(0,0,0,.5)",a(c.backgroundColor,"rgba")||a(c.backgroundColor,"hsla")}(),t=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),u=function(){return["<div class='sp-container sp-hidden'>","<div class='sp-top sp-cf'>","<div class='sp-col col-hue'><div class='sp-hue'><div class='sp-slider'></div></div></div>","<div class='sp-picker-container'>","<div class='sp-col col-color'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","</div>","</div>","<div class='sp-col col-alpha sp-alpha'><div class='sp-transparent'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div>","</div>","<div class='row middle-xs between-xs sp-extra-controls'>","<div class='col-xs-5 sp-ctrl-color sp-padded-top sp-input-container'><div class='sp-preview-color'><span class='click sp-clear sp-clear-display'>"+'<svg class="tcb-icon" viewBox="0 0 32 32" width="100%" height="100%"><path d="M26.667 22.4c0 0.533-0.133 0.933-0.533 1.2l-2.4 2.4c-0.267 0.267-0.8 0.533-1.2 0.533-0.533 0-0.933-0.133-1.2-0.533l-5.333-5.2-5.2 5.2c-0.4 0.4-0.8 0.667-1.2 0.667s-0.933-0.133-1.2-0.533l-2.4-2.4c-0.4-0.4-0.667-0.8-0.667-1.333s0.133-0.933 0.533-1.2l5.333-5.2-5.333-5.2c-0.267-0.4-0.533-0.8-0.533-1.2 0-0.533 0.133-0.933 0.533-1.2l2.4-2.4c0.4-0.4 0.8-0.667 1.333-0.667s0.933 0.133 1.2 0.533l5.2 5.333 5.2-5.2c0.4-0.4 0.8-0.667 1.2-0.667 0.533 0 0.933 0.133 1.2 0.533l2.4 2.4c0.4 0.4 0.667 0.8 0.667 1.333s-0.133 0.933-0.533 1.2l-5.333 5.2 5.2 5.2c0.4 0.4 0.667 0.8 0.667 1.2z"></path></svg></span></div><input class=\'sp-input\' type=\'text\' spellcheck=\'false\' /></div>',"<div class='col-xs-7 sp-ctrl-opacity sp-padded-top'></div>","</div>","<div class='sp-palette-container margin-top-10 padding-top-10'>","<div class='sp-palette sp-thumb dark-box sp-cf clearfix'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container action-buttons row between-xs'>","<div class='click sp-cancel tve-button drop-panel-action'></div>","<div class='click sp-choose tve-button drop-panel-action'></div>","</div>","</div>","</div>"].join("")}();a.fn.spectrum=function(b,c){if("string"==typeof b){var d=this,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=q[a(this).data("spectrum.id")];if(c){var f=c[b];if(!f)throw new Error("Spectrum: no such method: '"+b+"'");switch(b){case"get":d=c.get();break;case"container":d=c.container;break;case"option":d=c.option.apply(c,e);break;case"destroy":c.destroy(),a(this).removeData("spectrum.id");break;default:f.apply(c,e)}}}),d}return this.spectrum("destroy").each(function(){var c=a.extend({},b,a(this).data()),d=g(this,c);a(this).data("spectrum.id",d.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=l,a.fn.spectrum.defaults=o,a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={}}(jQuery)},"state-manager.js":function(a,b,c){var d,e=["tve-content-box-background","tve-page-section-out","tve-cb"];!function(a){d=function(b){b.on("state_change",function(a){c.change(a)}),b.on("done",function(){c.reset()});var c={default:"default",_parent:null,_element:null,_state:"default",set_state:function(a){a||(a=this.default),this._state=a},get_state:function(){return this._state},get_pseudo:function(){var a="";return this.is_default()||(a=":"+this.get_state()),a},is_default:function(){return this.get_state()===this.default},css_class:function(){var a="";return this.is_default()||(a="tve-state-"+this.get_state()),a},set_parent:function(a){this._parent=a},get_parent:function(){return this._parent},set_element:function(b){this._element=b;var c=this.get_state();a.each(TVE.Elements[TVE._type(b)].components,function(a,b){var d=TVE.Components[a];d.$el.toggleClass("tcb-hidden","default"!==c&&!d.extra_states)}),TVE.main.$cpanel.toggleClass("hide-extra-states","default"!==c)},get_element:function(){return this._element},is_child:function(a){return a||(a=this.get_element()),null!==this.get_parent()&&null!==this.get_element()&&(this.get_parent().has(a)&&!this.get_parent().is(a))},change:function(b){var c=TVE.ActiveElement;this.get_parent()&&!c.is(this.get_parent())&&(c=this.get_parent()),c.removeClass(this.css_class()),this.set_state(b),this.set_element(c),this.is_default()?(TVE.main.remove_navigation_root(this.get_parent()),TVE.prevent_blur=!1,TVE.Editor_Page.editor.find(".tve-state-default,.tve-state-hover,.tve-state-active").removeClass("tve-state-default tve-state-hover tve-state-active"),this.set_state(),this.set_parent(null),this.set_parent(null),TVE.remove_overlay(),TVE.inner.$body.removeClass("tcb-states"),TVE.main.$cpanel.find(".tcb-hidden").removeClass("tcb-hidden"),1===c.closest(".thrv_lead_generation").length&&c.closest(".thrv_lead_generation").removeClass("thrv_lead_gen_hover")):(TVE.prevent_blur=!0,c.addClass(this.css_class()),"tve-state-hover"===this.css_class()&&1===c.closest(".thrv_lead_generation").length&&c.closest(".thrv_lead_generation").addClass("thrv_lead_gen_hover"),c.parentsUntil("#tve_editor").each(function(){var b=a(this);"static"!==b.css("position")&&b.addClass("tve-element-overlay")}),this.set_parent(c),c.tve_overlay(),TVE.inner.$body.addClass("tcb-states"),TVE.main.set_navigation_root(this.get_parent())),delete TVE.SkipUpdate,TVE.main.update_components(),TVE.main.active_element_navigation()},reset:function(){this.change("default")},needs_hover_state_parent:function(a){if(!a)return!1;if(a.jquery&&(a=a[0]),void 0===a.dataset.tcb_hover_state_parent){a.dataset.tcb_hover_state_parent="";for(var b,c=0;b=e[c++];)if(a.classList.contains(b)){a.dataset.tcb_hover_state_parent="1";break}}return"false"!==a.dataset.tcb_hover_state_parent&&a.dataset.tcb_hover_state_parent}};return c}}(jQuery),b.exports=d},"storage.js":function(a,b,c){function d(){this.api=window.localStorage||e,this.listening=!1,this.listeners={}}var e={setItem:function(a,b){},getItem:function(a){},removeItem:function(a){}};d.prototype.set=function(a,b){if(!a||void 0===b||null===b)return this;"object"==typeof b&&(b=JSON.stringify(b));try{this.api.setItem(a,b)}catch(a){}return this},d.prototype.get=function(a){if(a){var b=this.api.getItem(a);if(!b)return b;try{return JSON.parse(b)}catch(a){return b}}},d.prototype.unset=function(a){if(!a)return this;try{this.api.removeItem(a)}catch(a){}return this},d.prototype._listen=function(){var a=this,b=function(b){b||(b=window.event);var c=a.listeners[b.key];c&&c.length&&c.forEach(function(a){a(JSON.parse(b.newValue),JSON.parse(b.oldValue))})};window.addEventListener?window.addEventListener("storage",b,!1):window.attachEvent?window.attachEvent("onstorage",b):window.onstorage=b},d.prototype.on=function(a,b){this.listeners[a]?this.listeners[a].push(b):this.listeners[a]=[b],!1===this.listening&&(this._listen(),this.listening=!0)},d.prototype.off=function(a,b){var c=listeners[a];c.length>1?c.splice(c.indexOf(b),1):listeners[a]=[]},d.prototype.setComponentMeta=function(a,b,c){var d=this.get("tcb-components-display")||{};d[a]=d[a]||{},d[a][b]=c,this.set("tcb-components-display",d)},d.instance=function(){return this._instance||(this._instance=new d),this._instance},b.exports=d.instance()},"tinycolor.js":function(a,b,c){!function(){function a(a){var b={r:0,g:0,b:0},d=1,f=!1,h=!1;return"string"==typeof a&&(a=G(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(b=c(a.r,a.g,a.b),f=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=D(a.s),a.v=D(a.v),b=g(a.h,a.s,a.v),f=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=D(a.s),a.l=D(a.l),b=e(a.h,a.s,a.l),f=!0,h="hsl"),a.hasOwnProperty("a")&&(d=a.a)),d=w(d),{ok:f,format:a.format||h,r:M(255,N(b.r,0)),g:M(255,N(b.g,0)),b:M(255,N(b.b,0)),a:d}}function c(a,b,c){return{r:255*x(a,255),g:255*x(b,255),b:255*x(c,255)}}function d(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function e(a,b,c){function d(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=x(a,360),b=x(b,100),c=x(c,100),0===b)e=f=g=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function f(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function g(a,b,c){a=6*x(a,360),b=x(b,100),c=x(c,100);var d=K.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6;return{r:255*[c,g,f,f,h,c][i],g:255*[h,c,c,g,f,f][i],b:255*[f,f,h,c,c,g][i]}}function h(a,b,c,d){var e=[C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function i(a,b,c,d){return[C(E(d)),C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))].join("")}function j(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s-=b/100,c.s=y(c.s),P(c)}function k(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s+=b/100,c.s=y(c.s),P(c)}function l(a){return P(a).desaturate(100)}function m(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l+=b/100,c.l=y(c.l),P(c)}function n(a,b){b=0===b?0:b||10;var c=P(a).toRgb();return c.r=N(0,M(255,c.r-L(-b/100*255))),c.g=N(0,M(255,c.g-L(-b/100*255))),c.b=N(0,M(255,c.b-L(-b/100*255))),P(c)}function o(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l-=b/100,c.l=y(c.l),P(c)}function p(a,b){var c=P(a).toHsl(),d=(L(c.h)+b)%360;return c.h=d<0?360+d:d,P(c)}function q(a){var b=P(a).toHsl();return b.h=(b.h+180)%360,P(b)}function r(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+120)%360,s:b.s,l:b.l}),P({h:(c+240)%360,s:b.s,l:b.l})]}function s(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+90)%360,s:b.s,l:b.l}),P({h:(c+180)%360,s:b.s,l:b.l}),P({h:(c+270)%360,s:b.s,l:b.l})]}function t(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+72)%360,s:b.s,l:b.l}),P({h:(c+216)%360,s:b.s,l:b.l})]}function u(a,b,c){b=b||6,c=c||30;var d=P(a).toHsl(),e=360/c,f=[P(a)];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(P(d));return f}function v(a,b){b=b||6;for(var c=P(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(P({h:d,s:e,v:f})),f=(f+h)%1;return g}function w(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function x(a,b){A(a)&&(a="100%");var c=B(a);return a=M(b,N(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),K.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function y(a){return M(1,N(0,a))}function z(a){return parseInt(a,16)}function A(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function B(a){return"string"==typeof a&&-1!=a.indexOf("%")}function C(a){return 1==a.length?"0"+a:""+a}function D(a){return a<=1&&(a=100*a+"%"),a}function E(a){return Math.round(255*parseFloat(a)).toString(16)}function F(a){return z(a)/255}function G(a){a=a.replace(H,"").replace(I,"").toLowerCase();var b=!1;if(Q[a])a=Q[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=S.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=S.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=S.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=S.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=S.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=S.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=S.hex8.exec(a))?{a:F(c[1]),r:z(c[2]),g:z(c[3]),b:z(c[4]),format:b?"name":"hex8"}:(c=S.hex6.exec(a))?{r:z(c[1]),g:z(c[2]),b:z(c[3]),format:b?"name":"hex"}:!!(c=S.hex3.exec(a))&&{r:z(c[1]+""+c[1]),g:z(c[2]+""+c[2]),b:z(c[3]+""+c[3]),format:b?"name":"hex"}}var H=/^[\s,#]+/,I=/\s+$/,J=0,K=Math,L=K.round,M=K.min,N=K.max,O=K.random,P=function(b,c){if(b=b||"",c=c||{},b instanceof P)return b;if(!(this instanceof P))return new P(b,c);var d=a(b);this._originalInput=b,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=L(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=d.ok,this._tc_id=J++};P.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},setAlpha:function(a){return this._a=w(a),this._roundA=L(100*this._a)/100,this},toHsv:function(){var a=f(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=f(this._r,this._g,this._b),b=L(360*a.h),c=L(100*a.s),d=L(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=d(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=d(this._r,this._g,this._b),b=L(360*a.h),c=L(100*a.s),e=L(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+e+"%)":"hsla("+b+", "+c+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return h(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return i(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*x(this._r,255))+"%",g:L(100*x(this._g,255))+"%",b:L(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%)":"rgba("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(a){var b="#"+i(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";if(a){c=P(a).toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0;return b||!d||"hex"!==a&&"hex6"!==a&&"hex3"!==a&&"name"!==a?("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString()):"name"===a&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(n,arguments)},darken:function(){return this._applyModification(o,arguments)},desaturate:function(){return this._applyModification(j,arguments)},saturate:function(){return this._applyModification(k,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(u,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(t,arguments)},triad:function(){return this._applyCombination(r,arguments)},tetrad:function(){return this._applyCombination(s,arguments)}},P.fromRatio=function(a,b){if("object"==typeof a){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]="a"===d?a[d]:D(a[d]));a=c}return P(a,b)},P.equals=function(a,b){return!(!a||!b)&&P(a).toRgbString()==P(b).toRgbString()},P.random=function(){return P.fromRatio({r:O(),g:O(),b:O()})},P.mix=function(a,b,c){c=0===c?0:c||50;var d,e=P(a).toRgb(),f=P(b).toRgb(),g=c/100,h=2*g-1,i=f.a-e.a;d=h*i==-1?h:(h+i)/(1+h*i),d=(d+1)/2;var j=1-d,k={r:f.r*d+e.r*j,g:f.g*d+e.g*j,b:f.b*d+e.b*j,a:f.a*g+e.a*(1-g)};return P(k)},P.readability=function(a,b){var c=P(a),d=P(b),e=c.toRgb(),f=d.toRgb(),g=c.getBrightness(),h=d.getBrightness(),i=Math.max(e.r,f.r)-Math.min(e.r,f.r)+Math.max(e.g,f.g)-Math.min(e.g,f.g)+Math.max(e.b,f.b)-Math.min(e.b,f.b);return{brightness:Math.abs(g-h),color:i}},P.isReadable=function(a,b){var c=P.readability(a,b);return c.brightness>125&&c.color>500},P.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=P.readability(a,b[f]),h=g.brightness>125&&g.color>500,i=g.brightness/125*3+g.color/500;(h&&!e||h&&e&&i>d||!h&&!e&&i>d)&&(e=h,d=i,c=P(b[f]))}return c};var Q=P.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=P.hexNames=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(Q),S=function(){var a="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",b="[\\s|\\(]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")\\s*\\)?",c="[\\s|\\(]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")\\s*\\)?";return{rgb:new RegExp("rgb"+b),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+b),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+b),hsva:new RegExp("hsva"+c),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();b.exports=P}()},"undo-manager.js":function(a,b,c){b.exports=function(a,b,c){"use strict";function d(a,b){return a?(h=!0,TVE.main.trigger("before_undo_redo",{action:b}),a[b](),TVE.main.trigger("after_undo_redo",{action:b}),h=!1,this):this}var e,f=[],g=-1,h=!1,i=void 0!==a?parseInt(a):10;return{register:function(a,b,c,d,e,f,g,h){this.add({undo:function(){b.apply(a,c)},redo:function(){f.apply(e,g)}})},add:function(a){return h?this:(f.splice(g+1,f.length-g),f.length>i-1&&f.splice(0,1),f.push(a),g=f.length-1,e&&e(f),b.removeClass("tve-disabled"),c.addClass("tve-disabled"),this)},setCallback:function(a){e=a},undo:function(){var a=f[g],h={redo:"removeClass"};return a?(g-=1,c.removeClass("tve-disabled"),-1===g&&(b.addClass("tve-disabled"),h.undo="addClass"),d(a,"undo"),e&&e(f),this):this},redo:function(){var a=f[g+1],h={undo:"removeClass"};return a?(g+=1,b.removeClass("tve-disabled"),g>=f.length-1&&(c.addClass("tve-disabled"),h.redo="addClass"),d(a,"redo"),e&&e(f),this):this},clear:function(){var a=f.length;f=[],g=-1,b.addClass("tve-disabled"),c.addClass("tve-disabled"),TCB_Main.trigger("undoredochange",{undo:"addClass",redo:"addClass"}),e&&a>0&&e(f)},hasUndo:function(){return-1!==g},hasRedo:function(){return g<f.length-1},getCommands:function(){return f},temp:{set:function(a,b){a&&b&&(this._temp_state=b)},get:function(){return!!this._temp_state&&this._temp_state},delete:function(){this._temp_state&&delete this._temp_state}}}}},"watcher.js":function(a,b,c){var d=function(a,b,c,d){if(!Object.defineProperty)return a;b instanceof Array||(b=[b]);var e=this;_.each(b,function(b){var f;a.hasOwnProperty(b)||Object.defineProperty(a,b,{enumerable:!0,get:function(){return f},set:function(a){if(!e.skip_once&&a!==f){var g=f;f=a,c.apply(d||null,[b,a,g])}delete e.skip_once}})})};d.skip_one=function(){return this.skip_once=!0,this},b.exports=d}},models:{"api.js":function(a,b,c){!function(a){b.exports=function(b){var c={key:"",name:"",config:{},lists:{},custom_fields:[],state:0};return c.get=function(a){return c[a]},c.set=function(a,b){c[a]=b},c.unset=function(a){delete c[a]},c.getConfig=function(a){return c.config[a]},c.setConfig=function(b){a.extend(!0,c.config,b)},c.ready=function(){return"undefined"!==c.state&&1===parseInt(c.state)},c.logo=function(){return TVE.CONST.dash_url+"/inc/auto-responder/views/images/"+c.key+".png"},c.getApi=function(b,d){a(TVE.main).trigger("tve-api-before-ajax-"+c.key,{api:c}),TVE.ajax("get_api","GET",{extra:c.ajax_extra||{},api:c.key,force:b?1:0}).done(function(b){c.lists=c._normalize(b.lists,["id","name"]),c.custom_fields=c._normalize(b.custom_fields,["id","placeholder"]),c.extra_settings=void 0===b.extra_settings?[]:b.extra_settings,a(TVE.main).trigger("tve-api-after-get-"+c.key,{api:c,response:b}),"function"==typeof d&&d.call(c)})},c.setFieldProp=function(a,b,d){if(void 0===c.form_fields[a])return c;c.form_fields[a][b]=d},c._normalize=function(a,b){var c=[];return void 0!==a&&_.each(a,function(a){var d={};_.each(b,function(b){void 0!==a[b]&&(d[b]=a[b])}),c.push(d)}),c},c.validate=function(){var b="",c=1;this.getConfig("list")||(b="No list selected",c=0),this.set("state",c),this.set("error",b),a(TVE.main).trigger("tve-api-validate-"+this.get("key"),{api:this})},_.each(b,function(a,b){c[b]=a}),c}}(jQuery)},"base.js":function(a,b,c){!function(a){b.exports=Backbone.Model.extend({saveState:function(){return this.__saved_state={},a.extend(!0,this.__saved_state,this.attributes),this},restoreState:function(a){if(!this.__saved_state)return this;this.set(this.__saved_state,{silent:void 0!==a&&a})}})}(jQuery)},"cloud-templates.js":function(a,b,c){!function(a){b.exports=Backbone.Model.extend({fetch:function(b,c){if(c=_.extend(c||{},{force_fetch:!1}),!c.force_fetch&&this.has(b)){var d=a.Deferred();return d.resolve({success:!0,templates:this.get(b)}),d}var e=this,f=TVE.ajax_data("cloud_content_templates","get",{type:b});return delete f.error,a.ajax(f).done(function(a){a.success&&e.set(b,a.templates)})},download:function(b){if(this.get("template_"+b)){var c=a.Deferred();return c.resolve({success:!0,data:this.get("template_"+b)}),c}var d=this,e=TVE.ajax_data("cloud_content_template_download","get",{id:b,type:this.get("type")});return delete e.error,a.ajax(e).done(function(a){a.success&&d.set("template_"+b,a.data)})}})}(jQuery)},"extended_apis.js":function(a,b,c){!function(a){b.exports={drip:function(b){void 0===b&&(b=a(".connection-setup:last")),a(TVE.main).on("tve-api-options-drip.tcb",function(a,b){var c=TVE.get_inputs_value(b.$container,".tve-api-extra",":not(.tve_disabled, .drip-custom-field)");b.api.set("config",{}),"automation"===c.type&&(c.list=1),b.api.setConfig(c)}),a(TVE.main).on("tve-api-after-get-drip.tcb",function(a,b){var c={};_.each(b.api.get("config"),function(a,b){var d=/field\[(\w*)\]/.exec(b);d&&d.length>1&&(c[d[1]]=a)}),b.api.set("custom_properties",c)}),a(TVE.main).on("tve-api-after-render-drip.tcb",function(a,b){b.$container.find(".drip-connection-type").trigger("change")}),a(TVE.main).on("tve-api-validate-drip.tcb",function(a,b){var c=1,d="";if("automation"===b.api.getConfig("type")){var e=b.api.get("config");_.each(e,function(a,b){0===b.indexOf("field")?0===a.trim().length&&(c=0,d="Please fill all custom fields values!"):"field[thrive_custom_field]"===a&&(c=0,d="Empty custom field name!")})}else{var f=[];b.api.getConfig("first_name_field").match(/^([a-zA-Z0-9_]+)$/g)||(d="First Name field can only contain letters, numbers and underscores",c=0,
f.push('input[name="first_name_field"]')),b.api.getConfig("last_name_field").match(/^([a-zA-Z0-9_]+)$/g)||(d=(d?"First Name field and ":"")+"Last Name field can only contain letters, numbers and underscores",c=0,f.push('input[name="last_name_field"]')),c||b.api.set("error-field",f.join(","))}b.api.set("state",c),b.api.set("error",d)}),a(document).on("change",".drip-connection-type",function(){b.find(".tve-api-option-group").hide().find(".tve-api-extra").removeClass("tve-api-extra"),b.find(".tve-api-option-group-"+this.value).show().find("input, select").addClass("tve-api-extra")}),a(document).on("change",".index-custom-field",function(b){var c=/^[A-Za-z0-9-_]+$/,d=a(b.currentTarget),e=b.currentTarget.value,f=d.closest(".tve-field-pair");if(!c.test(e))return d.val(f.find(".drip-custom-field-value").attr("name").replace("field[","").replace("]","")),void alert("No spaces, commas, dots, or special characters are allowed");f.find(".drip-custom-field-value").attr("name","field["+e+"]")}),a(document).on("click",".tve-add-new-field",function(){var a=b.find(".tve-field-pair").last(),c=a.clone();c.find("input").val(""),c.find(".tve-remove-action").show(),c.appendTo(b.find(".tve-custom-fields-container"))}),a(document).on("click",".tve-remove-added-field",function(b){a(b.currentTarget).closest(".tve-field-pair").remove()})},activecampaign:function(b,c){a(TVE.main).on("tve-api-options-activecampaign.tcb",function(a,b){b.api.setConfig(TVE.get_inputs_value(b.$container,".tve-api-extra"))}),a(TVE.main).on("tve-api-after-render-activecampaign.tcb",function(a,b){b.$container.find(".tve-active-campaign-list").trigger("change")}),a(document).on("change",".tve-active-campaign-list",function(){var d=b.find(".activecampaign-list-form").empty(),e=this.value,f=c.get("extra_settings").forms,g=b.find(".ac-error"),h=c.getConfig("form")||"";f&&f[e]?(_.each(f[e],function(b){d.append(a("<option>",{value:b.id,text:b.name}))}),d.val(h),g.hide()):(d.hide(),g.show())})},aweber:function(){a(TVE.main).on("tve-api-options-aweber.tcb",function(a,b){b.api.setConfig(TVE.get_inputs_value(b.$container,".tve-api-extra"))})},"get-response":function(){a(TVE.main).on("tve-api-options-get-response.tcb",function(a,b){b.api.setConfig(TVE.get_inputs_value(b.$container,".tve-api-extra"))}),a(document).on("change","#get-response-cycleday",function(a){var b=a.currentTarget,c=parseInt(b.getAttribute("max"));(isNaN(b.value)||b.value<0||b.value>c)&&(alert("Invalid cycle day"),b.value=0)})},klicktipp:function(){a(TVE.main).on("tve-api-options-klicktipp.tcb",function(a,b){b.api.setConfig(TVE.get_inputs_value(b.$container,".tve-api-extra"))})},mailchimp:function(b,c){a(TVE.main).on("tve-api-options-mailchimp.tcb",function(a,b){b.api.setConfig(TVE.get_inputs_value(b.$container,".tve-api-extra"))}),a(TVE.main).on("tve-api-before-ajax-mailchimp.tcb",function(a,b){b.api.set("ajax_extra",{list_id:b.api.getConfig("list")||0})}),a(TVE.main).on("tve-api-after-render-mailchimp.tcb",function(a,b){var d=b.$container.find("#thrive-api-groupin-select").empty(),e=b.$container.find(".tve-groups-wrapper").empty(),f=c.get("groupin");d.append(TVE.tpl("util/option",{value:0,selected:"0"===f,text:"No Group"})),_.each(c.get("groups"),function(a){d.append(TVE.tpl("util/option",{value:a.id,selected:f===a.id,text:a.title})),a.id===f&&e.html(TVE.tpl("lead-generation/apis/extra/mailchimp-group",{item:a,selected_groups:c.get("selected_groups")}))})}),a(TVE.main).on("tve-api-after-get-mailchimp.tcb",function(a,b){var c=b.api.getConfig("groupin"),d=b.api.getConfig("group"),e=b.api.get("extra_settings").groups;e=void 0===e?[]:e,c=void 0===c?0:c,d=void 0===d?[]:d.split(","),b.api.set("selected_groups",d),b.api.set("groupin",c),b.api.set("groups",e)}),a(document).on("change","#thrive-api-groupin-select",function(){var b=a(".tve-groups-wrapper").empty(),d=this.value;_.each(c.get("groups"),function(a){a.id===d&&b.html(TVE.tpl("lead-generation/apis/extra/mailchimp-group",{item:a,selected_groups:[]}))})}),a(document).on("change",".mailchimp-api-list",function(){var b=this.value,d=a("#thrive-api-groups");a(".tve-groups-wrapper").empty(),d.addClass("loading"),TVE.ajax("get_api_extra","GET",{api:c.get("key"),extra:"_getGroups",params:{list_id:b}}).done(function(a){var b=d.find("#thrive-api-groupin-select").empty();a.extra=a.extra||[],c.set("groups",a.extra),a.extra&&a.extra.length&&(b.append(TVE.tpl("util/option",{value:0,selected:!0,text:"No Group"})),_.each(a.extra,function(a){b.append(TVE.tpl("util/option",{value:a.id,selected:!1,text:a.title}))})),d.removeClass("loading")})})},custom_html:function(a){return-1===a.code.indexOf("mailchimp")&&-1===a.code.indexOf("mc_embed_signup")&&-1===a.code.indexOf("mc-embedded-subscribe")||_.each(a.text,function(b,c){b.name.length>30&&(b.type="hidden",a.hidden.push(b),a.text.splice(c,1))}),a}}}(jQuery)},"html-parser.js":function(a,b,c){!function(a){function c(a){this.setCode(a),this._orignial_code=a,this._inputs={},this.valid=!0}c.prototype.validate=function(){this.valid=this._inputs.text&&this._inputs.text.length||this._inputs.select&&this._inputs.select.length||this._inputs.textarea&&this._inputs.textarea.length||this._inputs.radio_checkbox&&Object.keys(this._inputs.radio_checkbox).length},c.prototype.isValid=function(){return this.valid},c.prototype.setCode=function(b){b instanceof a||(b=a(b)),this.$code=b},c.prototype.parse=function(a){return void 0===a&&(a=this._orignial_code),this.setCode(a),this.removeExtra(),this._inputs={hidden:this.getInputs("hidden"),radio_checkbox:this.getCheckboxRadio(),text:this.getInputs(),select:this.getSelect(),textarea:this.getTextarea(),submit:this.getSubmit(),form:this.getForm()},this.validate(),this._inputs},c.prototype.removeExtra=function(a){return(void 0===a||!a instanceof Array)&&(a=["style","script","link"]),a.push("input:image"),this.$code.find(a.join(",")).remove(),this.$code},c.prototype.getSubmit=function(){var a=TVE.t.SignUp,b=this.$code.find("input:submit"),c=this.$code.find("button");return b.length?(a=b.val(),b.remove()):c.length&&(a=c.text(),c.remove()),a},c.prototype.getInputs=function(a){void 0===a&&(a=[]),"string"==typeof a&&(a=[a]);var b=[];return _.each(this.$code.find("input:not(:submit)"),function(c){if(!(a.length>0&&-1===a.indexOf(c.type))){var d={name:c.name,id:c.id,type:c.type,placeholder:c.placeholder,value:c.value},e=this.$code.find('label[for="'+c.id+'"]');if(c.required&&(d.required=c.required),e.length&&(d.label=e.text()),!d.placeholder){var f=/\[(.*?)\]/g.exec(d.name||"");f&&f[1]?d.placeholder=f[1]:d.placeholder=d.name}b.push(d),c.parentNode.removeChild(c)}},this),b},c.prototype.getCheckboxRadio=function(){var a={};return _.each(this.$code.find("input:checkbox, input:radio"),function(b){var c={name:b.name,id:b.id,type:b.type,placeholder:b.placeholder,value:b.value},d=this.$code.find('label[for="'+b.id+'"]');d.length&&(c.label=d.text()),void 0!==c.label&&"radio"!==b.type||(c.label=c.value),void 0===a[b.name]&&(a[b.name]=[]),a[b.name].push(c),b.parentNode.removeChild(b)},this),a},c.prototype.getSelect=function(){var b=[];return _.each(this.$code.find("select"),function(c){var d={name:c.name,id:c.id,options:[]},e=this.$code.find('label[for="'+c.id+'"]');e.length&&(d.label=e.text()),a(c).find("option").each(function(){d.options.push({value:this.value,text:this.text})}),b.push(d),c.parentNode.removeChild(c)},this),b},c.prototype.getTextarea=function(){var a=[];return _.each(this.$code.find("textarea"),function(b){var c={name:b.name,id:b.id,placeholder:b.placeholder,text:b.value};a.push(c),b.parentNode.removeChild(b)},this),a},c.prototype.getForm=function(){var a={},b=this.$code.find("form");return b.length?(a.action=b.attr("action"),a.method=b.attr("method")):this.$code.each(function(b,c){"FORM"===c.tagName&&(a.action=c.action,a.method=c.method)}),a},b.exports=c}(jQuery)},"lead-generation.js":function(a,b,c){!function(a){var d,e;d=c("../models/base").extend({initialize:function(b){a.extend(!0,this,b||{}),this._callbacks={read:{},write:{}}},doCallbacks:function(a,b){void 0!==this._callbacks[a][b]&&_.each(this._callbacks[a][b],function(a){"function"==typeof a.f&&a.f.call(a.c,this)},this)},registerCallback:function(a,b,c,d){void 0===this._callbacks[a][b]&&(this._callbacks[a][b]=[]),this._callbacks[a][b].push({f:c,c:d||this})},removeCallbacks:function(a,b,c){void 0!==this._callbacks[a][b]&&(void 0===c&&delete this._callbacks[a][b],_.each(this._callbacks[a][b],function(d,e){this._callbacks[a][b][e].f===c&&delete this._callbacks[a][b][e]},this))}}),e=Backbone.View.extend({code_separator:"__CONFIG_lead_generation_code__",cache_wrappers:{},initialize:function(b){a.extend(!0,this,b||{}),this.undelegateEvents(),this.read(),this.listenTo(this.model,"change",this.change),this.$("form").attr("novalidate","novalidate")},_is_placeholder:function(){return this.$el.is(".tcb-elem-placeholder")},change:function(a){void 0!==a.changed.write&&(this.model.doCallbacks("write",a.changed.write),this.write(a.changed.write),this.model.unset("write",{silent:!0})),void 0!==a.changed.read&&(this.model.doCallbacks("read",a.changed.read),this.read(a.changed.read),this.model.unset("read"))},read:function(a){if(void 0!==a&&void 0!==this._read[a])return this._read[a].call(this);_.each(this._read,function(a){a.call(this)},this)},_read:{form_type:function(){this.model.set("form_type",this.$('input[name="_form_type"]').val())},submit_option:function(){this.model.set("submit_option",this.$("#_submit_option").val()||"reload",{silent:!0}),this.model.set("back_url",this.$("#_back_url").val()||""),this.model.set("autofill",this.$("#_autofill").val()||"")},display_custom_error_message:function(){this.model.set("display_custom_error_message","1"===this.$("#_error_message_option").val())},custom_messages:function(){var a=this.$el.find("#__tcb_lg_msg").val();if(void 0===a||"undefined"===a)a={error:TVE.t.error+"!",success:TVE.t.success+"!"};else try{a=TVE.Base64.decode(a),a=TVE.unserialize(a)}catch(b){a="",console.info(b)}return this.model.set("custom_messages",a),this},type:function(){return this.model.set("type",this.$el.attr("data-connection")),this},error_messages:function(){var a=this.$el.find(".tve-lg-err-msg");if(a.length)try{this.model.set("error_messages",JSON.parse(a.val()))}catch(a){console.log(a),this.model.set("error_messages",{})}return this},captcha:function(){var b={};return this.$el.find("input[name*='captcha']").each(function(){b[this.getAttribute("name")]=this.value}),this.model.set("captcha",a.extend({_use_captcha:"0",_captcha_theme:"light",_captcha_type:"image",_captcha_size:"normal"},b)),b},apis:function(){var a=this.$("#__tcb_lg_fc"),b={};if(a.length)try{var c=TVE.unserialize(TVE.Base64.decode(a.val()));_.each(c,function(a,c){b[c]={list:a}})}catch(a){console.log(a)}return this.$(".tve-api-extra").filter(":not(.tve_disabled)").each(function(){var a=jQuery(this),c=a.attr("name").split("_"),d=c.shift(),e=c.join("_");void 0!==b[d]&&(a.is("input:radio, input:checkbox")?a.is(":radio")&&a.is(":checked")?b[d][e]=this.value:a.is(":checkbox")&&a.is(":checked")&&(b[d][e]=b[d][e]?b[d][e]+","+this.value:this.value):b[d][e]=this.value)}),this.model.set("apis",b),b},form_fields:function(){var a={};return"api"===this.model.get("type")&&this.$(".tve_lg_input_container>input").each(function(){a[this.name]={id:this.name,placeholder:this.getAttribute("placeholder"),required:1===parseInt(this.dataset.required)}}),this.model.set("form_fields",a),a},custom_html_code:function(){var a=this.$(".thrv_lead_generation_code"),b="";return a.length&&(b=a.text().replace(new RegExp(this.code_separator,"g"),"")),this.model.set("custom_html_code",b),b}},write:function(a,b){if(void 0!==a&&void 0!==this._write[a])return this._write[a].call(this,b);_.each(this._write,function(a){a.call(this,b)},this)},get_wrapper:function(b,c){if(this._is_placeholder()){var d=TVE.tpl("lead-generation/wrappers");this.$el.html(d()).removeClass("tcb-elem-placeholder")}var e=this.$(b).first();return 0===e.length&&void 0!==c&&c instanceof a&&(e=a("<div>").attr("#"===b[0]?"id":"class",b.substring(1)).appendTo(c)),e},renderCaptcha:function(b){var c=Math.floor(1e3*Math.random()+1),d=this.model.get("captcha");return d=a.extend({_captcha_theme:"light",_captcha_type:"image",_captcha_size:"normal"},d),'<div class="tve-captcha-container tve-captcha-'+d._captcha_theme+" tve-captcha-"+d._captcha_size+'" id="tve_captcha-'+c+'" data-site-key="'+b+'" data-theme="'+d._captcha_theme+'" data-type="'+d._captcha_type+'" data-size="'+d._captcha_size+'"></div>'},_write:{reset:function(){var a=TVE.tpl("lead-generation/wrappers");this.$el.html(a())},submit_option:function(){var a=this.$("#_submit_option");if(a.length>0?a.val(this.model.get("submit_option")):this.get_wrapper("form").append(this._write.renderHiddenInput({name:"_submit_option",value:this.model.get("submit_option")})),"message"===this.model.get("submit_option"))return this.write("custom_messages"),this.$("#_back_url").remove(),this;var b=this.$("#_back_url");b.length>0?b.val(this.model.get("back_url")):this.get_wrapper("form").append(this._write.renderHiddenInput({name:"_back_url",value:this.model.get("back_url")}));var c=this.$("#_autofill");return c.length>0?c.val(this.model.get("autofill")):this.get_wrapper("form").append(this._write.renderHiddenInput({name:"_autofill",value:this.model.get("autofill")})),this},type:function(){this.$el.attr("data-connection",this.model.get("type"))},renderHiddenInput:function(a){return a=_.extend({name:"",value:"",className:""},a),'<input id="'+a.name+'" type="hidden" name="'+a.name+'"'+(a.className?' class="'+a.className+'"':"")+' value="'+a.value+'">'},display_custom_error_message:function(){var a=this.model.get("display_custom_error_message")?1:0;if(this.$("#_error_message_option").length>0)return this.$("#_error_message_option").val(a),this;var b=this._write.renderHiddenInput({name:"_error_message_option",value:a});return this.get_wrapper("form").append(b),this},custom_messages:function(){try{var a=this.model.get("custom_messages");if(a=TVE.serialize(a),a=TVE.Base64.encode(a),this.$("#__tcb_lg_msg").length>0)return this.$("#__tcb_lg_msg").val(a),this;var b=this._write.renderHiddenInput({name:"__tcb_lg_msg",value:a});return this.get_wrapper("form").append(b),this}catch(a){console.log(a)}},error_messages:function(){var a=JSON.stringify(this.model.get("error_messages"));return a&&this.$el.find(".tve-lg-err-msg").val(a),this},captcha:function(){var b=this,c=this.model.get("captcha");return this.$(".tve-captcha-container").remove(),1===parseInt(c._use_captcha)?(this.get_wrapper(".tve_lead_generated_inputs_container").append(this.renderCaptcha(this.model.get("captcha").site_key)),a.each(c,function(a,c){if("site_key"!==a){var d=b.$("#"+a);if(d.length>0)d.val(c);else{var e=b._write.renderHiddenInput({name:a,value:c});b.get_wrapper("form").append(e)}}}),this):(this.$("input[name*='captcha']").remove(),this)},apis:function(){var b=this.$("#__tcb_lg_fc"),c=this.get_wrapper("form"),d=this.model.get("apis"),e={};_.each(d,function(a,b){e[b]=a.list,delete d[b].list}),0===b.length&&(b=a("<input>",{type:"hidden",name:"__tcb_lg_fc",id:"__tcb_lg_fc"}),c.append(b));try{var f=TVE.Base64.encode(TVE.serialize(e));b.val(f)}catch(a){console.log(a)}this.$(".tve-api-extra").remove(),_.each(d,function(b,d){_.each(b,function(b,e){c.append(a("<input>",{type:"hidden",id:d+"_"+e,class:"tve-api-extra",name:d+"_"+e,value:b}))})})},custom_fields:function(){"api"!==this.model.get("type")&&this.write("reset");var a=this.model.get("custom_fields"),b=this.get_wrapper(".tve_lead_generated_inputs_container"),c=b.find(".tve_submit_container"),d=function(a){return-1===a.indexOf("password")?"email"===a?"email":"text":"password"};void 0!==a&&0!==a.length&&(b.find(".tve_lg_input input").each(function(){var b=a[this.name];void 0!==b&&(b.placeholder=0===b.placeholder.trim().length?b.id:b.placeholder,this.setAttribute("type",d(b.id)),this.setAttribute("name",b.id),this.setAttribute("placeholder",b.placeholder),this.setAttribute("data-field",b.id),this.setAttribute("data-required",b.required?1:0),this.setAttribute("data-validation","email"===b.id||"phone"===b.id?b.id:""),this.setAttribute("data-placeholder",b.placeholder),this.classList.add("input-rendered"),b.rendered=!0)}),_.each(a,function(a){if(!a.rendered){var e=d(a.id),f=b.find('.tve_lg_input input[type="'+e+'"]:not(.input-rendered)').first(),g={type:e,name:a.id,placeholder:a.placeholder,"data-field":a.id,"data-required":a.required?1:0,"data-validation":"email"===a.id?"email":"","data-placeholder":a.placeholder};0===f.length&&(f=b.find(".tve_lg_input").first().clone().insertBefore(c).find("input")),f.addClass("input-rendered"),"password"===e&&f.parent().append(TVE.tpl("lead-generation/apis/extra/password-strength")()),f.attr(g)}}),b.find(".tve_lg_input input:not(.input-rendered)").parent().remove(),b.find(".input-rendered").removeClass("input-rendered"))},customHtml:function(){var b=this.model.get("customHtml"),c=this.get_wrapper(".thrv_lead_generation_container",this.$el),d=a("<form>",{method:b.form.method,action:"#"}),e=a("<div>",{class:"tve_lead_generated_inputs_container"}).appendTo(d),f=c.find(".tve_lg_input"),g=c.find(".tve_submit_container");f=f.length>0?f.first().data("css"):"",g=g.length>0?g.first().data("css"):"",this._write._custom_html_code.call(this),d.append(a("<input>",{type:"hidden",class:"tve-f-a-hidden",value:b.form.action})),_.each(b.hidden,function(a){d.append(this._write.renderHiddenInput(a))},this),_.each(b,function(a,b){"function"==typeof this._write.formInputs[b]&&("object"==typeof a?_.each(a,function(a){f&&(a["data-css"]=f),e.append(this._write.formInputs[b](a))},this):e.append(this._write.formInputs[b](a,g)))},this),e.appendTo(d),TVE.apply_filters("tve_custom_html_code",d),c.html(d)},formInputs:{text:function(b){var c=a("<div>",{class:"tve_lg_input_container tve_lg_input"});return a("<input>",b).appendTo(c),c},radio_checkbox:function(b){var c=a("<div>",{class:"tve_lg_input_container tve_clearfix tve_lg_"+b[0].type});return _.each(b,function(d){var e=a("<div>",{class:"tve_lg_"+b[0].type+"_wrapper"});a("<input>",d).appendTo(e),"string"==typeof d.label&&a("<label>",{for:d.id,text:d.label,class:"thrv-inline-text"}).appendTo(e),c.append(e)}),c},select:function(b){var c=a("<div>",{class:"tve_lg_input_container tve_lg_dropdown tve_lg_select_container"}),d=a("<select>",{name:b.name,id:b.id});return _.each(b.options,function(b){d.append(a("<option>",b))}),c.append(d),c},textarea:function(b){var c=a("<div>",{class:"tve_lg_input_container tve_lg_textarea"});return a("<textarea>",b).appendTo(c),c},submit:function(b,c){return a("<div>",{class:"tve_lg_input_container tve_submit_container tve_lg_submit","data-css":c}).append(a("<button>",{type:"submit",text:b}))}},_custom_html_code:function(){var a=this.get_wrapper(".thrv_lead_generation_code",this.$el);a.hide(),a.text(this.code_separator+this.model.get("customHtml").code+this.code_separator)},reset_fields:function(){var b=["email","name","phone"];this.$(".tve_lg_input_container>input").each(function(){-1===b.indexOf(this.name)&&a(this).parent().remove()})}}}),b.exports={model:d,view:e}}(jQuery)},"typefocus.js":function(a,b,c){b.exports=c("./base").extend({defaults:function(){return{text:"",variations:[],speed:1e3,blink:!1,highlight:1,colors:""}},validate:function(){var a=this.get("variations");return a.length&&a[0].length?!!this.get("text")||(this.error=TVE.t.default_text_required,!1):(this.error=TVE.t.variation_required,!1)},get_dom_attr:function(){return{class:"tve_typefocus"+(this.get("blink")?" tve_typefocus_cursor":""),"data-typist":this.get("variations").join("|"),"data-speed":this.get("speed"),"data-highlight":this.get("highlight")?1:0,"data-colors":this.get("colors")||""}},read:function(a){this.set({text:a.innerText||a.textContent,blink:a.className&&-1!==a.className.indexOf("tve_typefocus_cursor"),variations:(a.getAttribute("data-typist")||"").split("|"),speed:parseInt(a.getAttribute("data-speed")||1e3),highlight:parseInt(a.getAttribute("data-highlight")||1),colors:a.getAttribute("data-colors")||""}),this.__dom=a,this.update_label()},get_preview_text:function(){var a=this.get("text");return this.get("variations").length&&(a+=" | "+this.get("variations").join(" | ")),a},update_label:function(){this.set("label",this.get_preview_text())},reset:function(a){a=void 0!==a,delete this.__dom,this.set(this.defaults(),{silent:a})}})}},views:{"_includes.js":function(a,b,c){var d=c("./components/animation");!function(a){b.exports={Views:{Components:{ct:c("./components/content-templates"),Button:c("./components/button"),Columns:c("./components/columns"),Image:c("./components/image"),Tweet:c("./components/click-tweet"),Rating:c("./components/rating"),Wordpress:c("./components/wordpress"),CommentsDisqus:c("./components/comments-disqus"),CommentsFacebook:c("./components/comments-facebook"),Countdown:c("./components/countdown"),CountdownEvergreen:c("./components/countdown-evergreen"),StyledList:c("./components/styled-list"),NumberedList:c("./components/numbered-list"),ResponsiveVideo:c("./components/responsive-video"),Html:c("./components/html"),Icon:c("./components/icon"),ImageEffects:c("./components/image-effects"),Layout:c("./components/layout"),Typography:c("./components/typography"),Text:c("./components/text"),Borders:c("./components/borders-corners"),TableBorders:c("./components/table-borders"),Shadow:c("./components/shadow"),Responsive:c("./components/responsive"),StylesTemplates:c("./components/styles-templates"),Animation:d.component,Background:c("./components/background"),Social:c("./components/social"),Credit:c("./components/credit"),Reveal:c("./components/reveal"),Section:c("./components/section"),Decoration:c("./components/decoration"),Divider:c("./components/divider"),Gmap:c("./components/gmap"),PostGrid:c("./components/post-grid"),PostGridLayout:c("./components/post-grid-layout"),PostGridQuery:c("./components/post-grid-query"),PostGridFilter:c("./components/post-grid-filter"),AnimationViews:d.views,LpAdvanced:c("./components/landing-page/lp-advanced"),LpScripts:c("./components/landing-page/lp-scripts"),LpFonts:c("./components/landing-page/lp-fonts"),LpTextTypography:c("./components/landing-page/lp-text-typography"),LpTextLayout:c("./components/landing-page/lp-text-layout"),LpTextBackground:c("./components/landing-page/lp-text-background"),LpTextShadow:c("./components/landing-page/lp-text-shadow"),LpBase:c("./components/landing-page/lp-base"),ContentBox:c("./components/contentbox"),TOC:c("./components/toc"),ProgressBar:c("./components/progress-bar"),Table:c("./components/table"),Cell:c("./components/cell"),LeadGeneration:c("./components/lead-generation"),LeadGenerationInput:c("./components/lead-generation/input"),LeadGenerationSubmit:c("./components/lead-generation/submit"),LeadGenerationSelect:c("./components/lead-generation/select"),LeadGenerationRadio:c("./components/lead-generation/radio"),LeadGenerationCheckbox:c("./components/lead-generation/checkbox"),LeadGenerationTextarea:c("./components/lead-generation/textarea"),FillCounter:c("./components/fillcounter"),CustomMenu:c("./components/menu"),TabContent:c("./components/tabs"),ContentToggle:c("./components/toggle"),Lightbox:c("./components/lightbox"),CloudTemplates:c("./components/cloud-templates")},Controls:{ApiConnections:c("./controls/api-connections"),ButtonGroup:c("./controls/button-group"),Checkbox:c("./controls/checkbox"),Headings:c("./controls/toc/headings"),Switch:c("./controls/switch"),ColorPicker:c("./controls/color-picker"),DatePicker:c("./controls/date-picker"),ModalPicker:c("./controls/modal-picker"),ImagePicker:c("./controls/image-picker"),ImageSize:c("./controls/image-size"),Input:c("./controls/input"),LabelInput:c("./controls/label-input"),InputMultiple:c("./controls/input-multiple"),TextInput:c("./controls/text-input"),Borders:c("./controls/borders"),Corners:c("./controls/corners"),LpTextBorders:c("./controls/landing-page/lp-text-borders"),LpTextCorners:c("./controls/landing-page/lp-text-corners"),InputSearch:c("./controls/input-search"),Select:c("./controls/select"),SelectMultiple:c("./controls/select-multiple"),MarginAndPadding:c("./controls/margin-padding"),MaxWidth:c("./controls/max-width"),PositionFrom:c("./controls/position-from"),Slider:c("./controls/slider"),TimeSlider:c("./controls/time-slider"),StylePicker:c("./controls/style-picker"),List:c("./controls/list"),PreviewList:c("./controls/preview-list"),LinkSearch:c("./controls/link"),DropPanel:c("./controls/drop-panel"),FontManager:c("./controls/font-manager"),Shadow:c("./controls/shadow"),Knob:c("./controls/knob")},Base:c("./base"),InlinePanel:c("./inline/inline-drop-panel")},FontManager:c("./../../editor/src/util/font-manager"),StorageManager:c("./../libs/storage"),renderers:c("../elements/_renderers.js"),modal:c("./modals/base"),modal_open:c("./modals/_open"),EventManager:c("../libs/event-manager"),shortcode_manager:c("../libs/shortcode-manager")}}(jQuery)},"base.js":function(a,b,c){var d,e,f,g,h=c("../libs/watcher"),i=c("../libs/storage");!function(a){d=Backbone.View.extend({events:{"click .click":"_call","input .input":"_call","change .change":"_call","mousedown .mousedown":"_call","mouseenter .mouseenter":"_call","mouseup .mouseup":"_call","keyup .keyup":"_call","keyup .keyup-enter":"_keyup_enter","click .dropdown-header":"toggleControls"},initialize:function(a){"function"==typeof this.before_initialize&&this.before_initialize(a),this.render(),"function"==typeof this.after_initialize&&this.after_initialize(a)},_call:function(a){if(a.currentTarget.disabled||a.currentTarget.classList.contains("tve-disabled"))return!1;var b=a.currentTarget.getAttribute("data-fn-"+a.type)||a.currentTarget.getAttribute("data-fn");if(b&&"__return_false"===b)return a.stopPropagation(),a.preventDefault(),!1;if("function"==typeof this[b])return this[b].call(this,a,a.currentTarget);if(b&&0===b.indexOf("f:")){for(var c=TVE,d=b.split(":")[1].split("."),e=window;c&&d.length;)e=c,c=c[d.shift()];if("function"==typeof c)return c.call(e,a)}},_keyup_enter:function(a){if(13===a.which)return this._call(a)},show:function(a){return this.visible()||(a||this.trigger("show"),this.$el.data("hide")||this.$el.show()),this},hide:function(a){return this.visible()&&(a||this.trigger("hide"),this.$el.hide()),this},visible:function(){return this.$el.is(":visible")},toggleControls:function(){},checkbox_values:function(a){var b=[];return this.$(a+":checked").each(function(){b.push(this.value)}),b},destroy:function(){this.unbind(),this.remove(),this.onDestroy&&this.onDestroy()},render:function(){return this.template&&_.isString(this.template)&&(this.template=TVE.tpl(this.template)),this.template&&this.$el.html(this.template()),"function"==typeof this.after_render&&this.after_render(),this},inline_message:function(a,b,c){void 0===c&&(c=this.$el.children().last()),b=b||"info",a=a||{};var d=this.$(".inline-message");return d.length||(d=jQuery('<div class="inline-message"></div>')),d.removeClass("m-success m-info m-error").addClass("m-"+b).empty(),c.after(d),d.text(a),d}}),g=d.extend({events:function(){return _.extend(d.prototype.events,{"change [data-setting]":"change_value"})},initialize:function(a){var b=this;"function"==typeof this.before_initialize&&this.before_initialize(arguments),this.data={},this.render(),this.$("[data-setting]").each(function(){var a=this.getAttribute("data-setting");h(b.data,a,b.value_changed,b)}),"function"==typeof this.after_initialize&&this.after_initialize(arguments)},change_value:function(a,b){h.skip_one(),this.data[b.getAttribute("data-setting")]=this.$(b).val()},value_changed:function(a,b){this.$('[data-setting="'+a+'"]').val(b)}}),e=d.extend({applyTo:function(b){if(!TVE.ActiveElement)return a();var c=this.config?this.config.to||"":"",d=TVE.ActiveElement;return 0===c.indexOf("main::")?d=TVE.inner_$(c.replace("main::","")):0===c.indexOf("closest::")?d=TVE.ActiveElement.closest(c.replace("closest::","")):c&&(d=d.find(c),d.length||(d=TVE.ActiveElement.closest(".thrv_wrapper").find(c))),b&&(d=d[0]),d},readFrom:function(){var b=this.applyTo();if(this.config&&this.config.css_suffix){if(!a.isArray(this.config.css_suffix))return b.find(this.config.css_suffix);var c=b;b=a();for(var d,e=0;d=this.config.css_suffix[e++];)-1===d.indexOf("::")&&(b=b.add(c.find(d)))}return b},_call:function(a){var b=a.currentTarget.getAttribute("data-fn-"+a.type)||a.currentTarget.getAttribute("data-fn");if(b&&"__return_false"===b)return a.stopPropagation(),a.preventDefault(),!1;switch(a.type){case"input":TVE.SKIP_CSS_STATE=!0;break;default:case"change":TVE.SKIP_CSS_STATE=!1}if("function"==typeof this[b]){var c=this.applyTo();return c="function"==typeof this.prepare?this.prepare(c):c,this[b].call(this,c,a.currentTarget,a)}return!1},setConfig:function(b,c,d){this.config={to:c,css_suffix:d||""},void 0!==b&&a.extend(!0,this.config,b),this.afterConfig()},change:function(a,b){TVE.SkipUpdate=!0,this.input(a,b)},input:function(){throw new Error(this.key()+": Input function not implemented!")},update:function(){throw new Error(this.key()+": Update function not implemented!")},afterConfig:function(){},getDefault:function(){return this.default||this.model.default||this.model.config.default||""},key:function(){return this.$el.data("key")||this.$el.data("view")||""},prepareValue:function(a,b){if(""!==a&&!isNaN(a)){var c=(String(a).split(".")[1]||[]).length;switch(b){case"%":c>1&&(a=parseFloat(a).toFixed(1));break;case"em":case"vh":c>2&&(a=parseFloat(a).toFixed(2));break;default:a=parseInt(a)}}return a}}),f=d.extend({extra_states:!1,is_ctrl_pressed:!1,initialize:function(b){var c=this;this.config=b.config,this.renderer=b.renderer,this.disabled_devices&&(a.each(this.disabled_devices,function(a,b){c.$el.addClass("disabled-"+b)}),this.disabled_tooltip&&this.$el.attr("data-disabled-tooltip",this.disabled_tooltip)),this.hide(),this.controls={},this.key="",this.$el.find(".tve-control").each(function(){var b=a(this),d=b.data("view"),e=b.data("key")||d,f=d,g=b.data("initializer"),h=c.config&&c.config[e]?c.config[e]:{config:{}};c.config&&c.config[e]&&void 0!==c.config[e].extends&&(f=c.config[e].extends),f=g&&"function"==typeof c[g]?c[g]():void 0===TVE.Views.Controls[f]?TVE.Views.Base.control:TVE.Views.Controls[f],c.controls[e]=new f({el:b,model:h,component:c}),c.controls[e].component=c}),this.options=b.options||{},"function"==typeof this.after_init&&this.after_init.call(this,b),this.controls_init(this.controls)},setKey:function(a){this.key=a},setOrder:function(a){(void 0===a||isNaN(a))&&(a=0),this.$el.css("order",a)},is_placeholder:function(a){return a.hasClass("tcb-elem-placeholder")},update:function(b){if(void 0!==b&&this.controls[b])return this.controls[b].update(this.controls[b].applyTo());this.before_update(),a.each(this.controls,function(a,b){b.$el.hasClass("control-hide")||b.update(b.readFrom())}),this.after_update()},setConfig:function(b,c){c||this.before_update(),a.each(this.controls,function(a,d){d.setConfig(b[a]||{},b.to,b.css_suffix),c||d.$el.hasClass("control-hide")||d.update(d.readFrom())}),c||this.after_update()},disable_controls:function(a){this.$(".control-hide").removeClass("control-hide"),_.each(a,function(a){this.controls&&this.controls[a]?this.controls[a].$el.addClass("control-hide"):this.$(a).addClass("control-hide")},this),"function"==typeof this.disable_extra_controls&&this.disable_extra_controls(a)},controls_init:function(a){},toggleControls:function(b){var c=b.currentTarget.getAttribute("data-prop");this[c]=a(b.currentTarget),b.ctrlKey||b.metaKey?jQuery(b.currentTarget).hasClass("open")?this.toggleDropdown(c,!1,!0):this.toggleDropdown(c,!0,!0):this.toggleDropdown(c),TVE.CONST.display[this.key]||(TVE.CONST.display[this.key]={}),TVE.CONST.display[this.key][c]=this[c].hasClass("open"),i.setComponentMeta(this.key,c,TVE.CONST.display[this.key][c]),b.stopPropagation()},change_state:function(a){},reinit:function(){},reset:function(){},toggleDropdown:function(a,b,c){
if(void 0!==a)if(void 0===this[a]&&(this[a]=this.$el.find('.dropdown-header[data-prop="'+a+'"]')),void 0!==c&&c&&(jQuery(".tve-component > .dropdown-header").removeClass("open"),TVE.main.collapse_components()),void 0===b){this[a].toggleClass("open");var d=this[a].siblings(".dropdown-content"),e=this[a].hasClass("open");d.slideToggle("fast",function(){e&&TVE.main.scroll_panel_to(d)})}else this[a][b?"addClass":"removeClass"]("open"),this[a].siblings(".dropdown-content")[b?"show":"hide"]()},map:function(a){var b=Array.prototype.slice.call(arguments,1);return _.each(this.controls,function(c){"string"==typeof a&&c[a]?c[a].apply(c,b):"function"==typeof a&&a(c)})},needs_update:function(a){return!1},before_update:function(){},after_update:function(){}})}(jQuery),b.exports={base_view:d,base_view_model:g,control:e,component:f}},components:{animation:{"close-lightbox.js":function(a,b,c){c("../../base"),c("../../controls/list");b.exports=c("../../base").component.extend({set_model:function(a){this.model=void 0!==a?a:new Backbone.Model({config:{}})},apply_settings:function(a){return this.model.set({a:this.key,t:"click",config:{}}),!0}})},"css-animation.js":function(a,b,c){var d=c("../../../libs/event-manager");b.exports=c("../../base").component.extend({controls_init:function(){this.$trigger=this.$("#anim-trigger"),this.$loop=this.$(".anim-loop"),this.$anim=this.$("#anim-animation")},set_model:function(a){return this.model=void 0!==a?a:new Backbone.Model({t:"tve-viewport",config:{anim:"slide_top"}}),this.event_trigger=this.model.get("t"),this.$loop.prop("checked",!!this.model.get("config").loop),this.selected=this.model.get("config").anim,this.$anim.val(this.selected),this.handle_triggers(this.options.actions[this.key].triggers[this.selected]||["tve-viewport"]),this},reset:function(){return this.handle_triggers(["tve-viewport"]),this.$anim.val(this.$anim.find("option").first().val()).trigger("change"),this.$loop.prop("checked",!1),this},select:function(a,b){return this.selected=this.$(b).val(),this.handle_triggers(this.options.actions[this.key].triggers[this.selected]||["tve-viewport"]),this._preview(this.selected),!1},change_trigger:function(a,b){return this.event_trigger=this.$(b).val()||"tve-viewport",!1},handle_triggers:function(a){var b=this.$trigger.hide().find("select").empty();_.each(a,function(a){b.append('<option value="'+a+'">'+this.component.options.triggers[a].name+"</option>")},this),1!==a.length&&this.$trigger.show(),this.event_trigger&&b.val(this.event_trigger),b.trigger("change")},validate:function(){return!!this.selected||(TVE.page_message(TVE.t.anim.missing,!0),!1)},apply_settings:function(a){return!!this.validate()&&(this._ensure_default_state(a),this.model.set({a:this.key,t:this.event_trigger,config:{anim:this.selected,loop:this.$loop.prop("checked")?1:0}}),!0)},_ensure_default_state:function(a){clearTimeout(this.preview_timeout),clearTimeout(this.preview_done_timeout),a.closest(".thrv_wrapper").css("visibility","").removeClass("anim-preview tve_anim_start")},_preview:function(a,b){if((b=b||this.component.$element)&&b.length){var c=b.closest(".thrv_wrapper"),e=c.attr("class"),f=this;c.removeClass(d.remove_classes),c.addClass("tve_ea_thrive_animation tve_anim_"+a).addClass("anim-preview").css({visibility:"hidden"}),this.preview_timeout=setTimeout(function(){c.css("visibility",""),c.addClass("tve_anim_start"),f.preview_done_timeout=setTimeout(function(){c.attr("class",e).removeClass("anim-preview")},1e3)},400)}},preview:function(a,b){this._preview(a.get("config").anim,b)}})},"image-zoom.js":function(a,b,c){var d=(c("../../base"),c("../../controls/file"));b.exports=c("../../base").component.extend({controls_init:function(){this.picker=new d({labels:{choose:TVE.t.ChooseImage}}),this.$el.append(this.picker.$el),this.picker.on("select",_.bind(this.on_select,this)),this.picker.on("remove",_.bind(this.on_remove,this))},set_model:function(a){if(this.model=void 0!==a?a:new Backbone.Model({config:{}}),this.config=_.extend({},this.model.get("config")),!this.config||!this.config.title){var b=this.get_image_element();b&&b.attr("src")&&(this.config={title:b.attr("src").split("/").pop()},b.attr("data-id")&&(this.config.id=b.attr("data-id"),this.config.size="full"))}return this.picker.set(this.config),this.parent_tab.$("#a-popup-trigger").val(this.model.get("t")||"click"),this},on_select:function(a){this.config={id:a.id,size:a.size||"full",title:a.title},!this.config.id&&a.url&&TVE.isValidUrl(a.url)&&(this.config.id="tcb-custom-"+Math.round(900*Math.random()+100),this.config.url=a.url)},on_remove:function(){this.config={}},validate:function(){return!(!this.config||!this.config.title)||(TVE.page_message(TVE.t.anim.img_missing,!0),!1)},apply_settings:function(){return!0===this.validate()&&(this.model.set({a:this.key,t:this.parent_tab.$("#a-popup-trigger").val(),config:_.extend({},this.config)}),TVE.Components.image.update("ImageFullSize"),!0)},get_image_element:function(){if(this.component.$element.is("img"))return this.component.$element;var a=this.component.$element.find("img");return!!a.length&&a}})},"link.js":function(a,b,c){var d=c("../../base"),e=c("../../modals/base");LinkSearch=c("../../controls/link"),b.exports=d.component.extend({controls_init:function(){var a=this;this.search=new LinkSearch({el:this.$("#a-link-main")[0]}),this.search.on("linkchange",function(b){a.data.href=b}),this.modal=new e.base({el:e.get_element("options-post-types")}),this.modal.before_save=function(){var a=TVE.ajax_data("save_link_post_types","post",{post_types:this.checkbox_values(".post-type")});jQuery.ajax(a).done(function(a){TVE.page_message(a.message)})},this.data={}},read_element:function(a){var b=a.closest("a[href]");if(this.$element=null,!b.length)return!1;this.$element=b;var c=this._read(b);return!(!c.href||"javascript:void(0)"===c.href)&&c},_read:function(a){return{a:"link",t:"link",href:a.attr("data-tcb-href")||a.attr("href"),target:a.attr("target")||null,rel:a.attr("rel")||""}},_apply:function(a,b){"link"===a.t&&this.component.$element.hasClass("tcb-col")&&(a.class="tcb-col"),b.attr("href",a.href),b.attr("class",a.class),TVE.preserve_changed_link(b),a.target?b.attr("target",a.target):b.removeAttr("target");var c="";a.rel||(c+=" "+a.rel),b.attr("rel",c)},validate:function(){if(!this.data||!this.data.href)return TVE.page_message(TVE.t.anim.url_miss,!0),!1;if(this.component.$element.parents("div[data-link-wrap]").parent("a[href]").length){var a=this.component.$element.closest("a[href]").children().first(),b=TVE.t.warning_link_insert_inside_link.split("##split##");return TVE.page_message(b[0]+'<strong>"'+TVE.get_element_name(a)+'"</strong>'+b[1],!0,1e4),!1}return!0},apply_settings:function(){if(!this.validate())return!1;this.data.settings_applied=!0,this.model.set(_.extend({},this.data));var a,b=this,c=this.component.$element,d=!this.$element||!this.$element.length||!this.$element.attr("href")||"javascript:void(0)"===this.$element.attr("href"),e=!this.$element||!this.$element.length,f=e?null:this._read(this.$element),g=_.extend({},this.data),h=this.model,i=b.component.collection.indexOf(h);return a=this.component.$element.is("img")?e?this.component.$element.parent().children().wrapAll('<a href=""></a>').parent():this.$element:e?this.component.$element.wrapAll('<a href=""></a>').parent():this.$element,e&&c.attr("data-link-wrap",1),this._apply(g,a),TVE.UndoManager.add({undo:function(){e?a.children().first().unwrap():b._apply(f,a);var g=c.data("anim_collection");g.no_preview=g!==b.component.collection,d?g.remove(h):(g.at(i).set(f),g.trigger("add")),delete g.no_preview},redo:function(){e?(c.wrapAll('<a href=""></a>'),b.apply(g,c.parent())):b._apply(g,a);var f=c.data("anim_collection");f.no_preview=f!==b.component.collection,d?f.add(h):(f.at(i).set(g),f.trigger("add")),delete f.no_preview}}),!0},remove:function(a){var b=this.component.$element,c=b.data("link-wrap"),d=b.closest("a[href]"),e=this,f=this.component.collection.indexOf(a),g=this._read(d);TVE.UndoManager.add({undo:function(){c?(b.wrap('<a href=""></a>'),e._apply(g,b.parent())):e._apply(g,d);var h=b.data("anim_collection");h.no_preview=h!==e.component.collection,h.add(a,{at:f}),delete h.no_preview},redo:function(){c?b.unwrap():d.attr("href","").removeAttr("target").removeAttr("rel");var a=b.data("anim_collection");a.no_preview=a!==e.component.collection,a.remove(a.at(f)),delete a.no_preview}}),b.data("link-wrap")?b.unwrap():d.attr("href","").removeAttr("target").removeAttr("rel"),a.destroy()},attr:function(a,b){return this.data[b.getAttribute("data-attr")]=b.checked?b.value:null,!1},set_model:function(a){return this.model=void 0!==a?a:new Backbone.Model,this.data={a:"link",t:"link",href:this.model.get("href")||"",target:this.model.get("target")||null,rel:this.model.get("rel")||""},this.dom(),this},dom:function(){this.search.set_link(this.data.href),this.$(".target").prop("checked","_blank"===this.data.target),this.$(".rel").prop("checked",this.data.rel&&-1!==this.data.rel.indexOf("nofollow"))},open_settings:function(){return this.modal.open({top:"20%",complete:_.bind(function(){this.search.focus()},this)}),!1}})},"thrive-lightbox.js":function(a,b,c){var d=(c("../../base"),c("../../controls/list"));b.exports=c("../../base").component.extend({controls_init:function(){this.list=new d({el:this.$("#lb-container")[0],items:this.options.actions.thrive_lightbox.data.lightboxes}),this.event_trigger="click",this.$animation=this.$("#lb-animation")},set_model:function(a){return this.model=void 0!==a?a:new Backbone.Model({config:{}}),this.list.set_value(parseInt(this.model.get("config").l_id||0)),this.$animation.val(this.model.get("config").l_anim||this.$animation.find("option").first().val()),this.parent_tab.$("#a-popup-trigger").val(this.model.get("t")||"click"),this},reset:function(){return this.list.select(""),this},validate:function(){return!!this.list.get_value()||(TVE.page_message(TVE.t.anim.lb_missing,!0),!1)},apply_settings:function(a){return!!this.validate()&&(this.model.set({a:this.key,t:this.parent_tab.$("#a-popup-trigger").val(),config:{l_anim:this.$animation.val(),l_id:this.list.get_value()}}),!0)}})},"tooltip.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({set_model:function(a){return this.model=void 0!==a?a:new Backbone.Model({config:{}}),this.config=_.extend({},this.model.get("config")),this.config.event_tooltip_position=this.config.event_tooltip_position||this.$("#e-tooltip-position").val(),this.config.event_tooltip_style=this.config.event_tooltip_style||this.$(".t-style").val(),this.dom(),this},dom:function(){this.$("#e-tooltip-text").val(this.config.event_tooltip_text||""),this.$("#e-tooltip-position").val(this.config.event_tooltip_position),this.$(".t-style").val(this.config.event_tooltip_style)},text:function(a,b){this.config.event_tooltip_text=b.value},pos:function(a,b){this.config.event_tooltip_position=this.$(b).val()},style:function(a,b){this.config.event_tooltip_style=this.$(b).val()},validate:function(){return!!this.config.event_tooltip_text||(TVE.page_message(TVE.t.anim.tooltip_miss,!0),this.$("#e-tooltip-text").focus(),!1)},apply_settings:function(){return!!this.validate()&&(this.model.set({a:this.key,t:"mouseenter",config:_.extend({},this.config)}),!0)},preview:function(a,b){TVE.inner.jQuery(".tve_ui_tooltip").remove();var c=a.get("config"),d=TVE.inner.jQuery("<div></div>",{class:"tve_ui_tooltip tve_tooltip_style_"+c.event_tooltip_style+" tve_tooltip_position_"+c.event_tooltip_position});d.text(c.event_tooltip_text).appendTo("body");var e=d.outerWidth(),f=d.outerHeight(),g=0,h=0,i=b[0].getBoundingClientRect();switch(c.event_tooltip_position){case"top":h=(i.right-i.left-e)/2+i.left,g=i.top-f-10;break;case"top_right":h=i.right+10,g=i.top-f-10;break;case"right":h=i.right+10,g=(i.bottom-i.top-f)/2+i.top;break;case"bottom_right":h=i.right+10,g=i.bottom+10;break;case"bottom":h=(i.right-i.left-e)/2+i.left,g=i.bottom+10;break;case"bottom_left":h=i.left-e-10,g=i.bottom+10;break;case"left":h=i.left-e-10,g=(i.bottom-i.top-f)/2+i.top;break;case"top_left":h=i.left-e-10,g=i.top-f-10;break;default:h=1,g=1}d.css({top:g+"px",left:h+"px"}),setTimeout(function(){TVE.inner.jQuery(".tve_ui_tooltip").remove()},2e3)}})},"video-popup.js":function(a,b,c){var d=c("../../base"),e=c("../../controls/color-picker"),f=c("../../controls/file");b.exports=d.component.extend({template:TVE.tpl("controls/video-settings"),controls_init:function(){this.render(),this.$source=this.$(".v-source"),this.providers={},this.$(".v-settings").each(_.bind(function(a,b){var c=b.getAttribute("data-view");this.providers[c.toLowerCase()]=new TVE.VideoProviders[c]({el:b,key:c.toLowerCase(),control:this})},this))},remove_provider:function(a){return delete this.providers[a],this.$source.find('option[value="'+a+'"]').remove(),this},show_section:function(){_.each(this.providers,function(a){a.$el.hide()}),this.$source.val()&&(this.active_view=this.providers[this.$source.val()].show())},set_model:function(a){this.active_view=null,this.model=void 0!==a?a:new Backbone.Model({config:{}});var b=_.extend({},this.model.get("config"));return b.s?(this.$source.val(b.s),this.show_section(),this.active_view.set_config(b.p)):this.reset(),this.parent_tab&&this.parent_tab.$("#a-popup-trigger").val(this.model.get("t")||"click"),this},reset:function(){this.active_view=null,this.$source.val(""),this.show_section(),_.each(this.providers,function(a){a.reset&&a.reset()})},validate:function(){return this.active_view?this.active_view.validate():(TVE.page_message(TVE.t.anim.vs_missing,!0),!1)},apply_settings:function(){return!!this.validate()&&(this.model.set(this.get_data()),!0)},get_data:function(){return{a:this.key,t:this.parent_tab?this.parent_tab.$("#a-popup-trigger").val():"click",config:{s:this.$source.val(),p:_.extend({},this.active_view.config)}}},get_provider:function(a){return this.providers[a]?this.providers[a]:null},get_embed_code:function(a,b){if(!this.active_view)return"";switch(a){case"background":return this.active_view.get_background_embed();case"responsive":return this.active_view.get_responsive_video(b)}return""}}),TVE.VideoProviders={},TVE.VideoProviders.Base=d.component.extend({initialize:function(a){var b=this;this.config={},this.$("input[data-setting],select[data-setting],textarea[data-setting]").on("change",function(){var a=this.getAttribute("data-setting"),c=b.$(this),d="checkbox"==c.attr("type")?c.prop("checked"):c.val();("function"!=typeof b["validate_"+a]||b["validate_"+a](d))&&d!=b.config[a]&&(b.config[a]=d)}),"function"==typeof this.after_init&&this.after_init(),this.colorpicker(),this.control=a.control,this.key=a.key},colorpicker:function(){var a=this.$(".v-setting-color");return a.length?(this.picker=new e({el:a[0],model:{config:{options:{output:"object",preferredFormat:"hex",showInput:!0,showGradient:!1,showAlpha:!1,allowEmpty:!0}}},change:_.bind(this.color_change,this)}),this):this},color_change:function(a){this.config.c=a?a.toHexString().replace("#",""):"",this.control.trigger("color-change",a)},after_init:function(){this.$m=this.$(".inline-message")},message:function(a,b){return b=b||"info",this.$m.removeClass("m-success m-info m-error").addClass("m-"+b).empty(),"success"!==b&&"error"!==b||(a=TVE.icon("success"===b?"check":"close2")+"&nbsp;"+a),this.$m.html(a),setTimeout(function(a){a.empty()},5e3,this.$m),this},reset:function(){this.$("input[data-setting],select[data-setting]").not("input:checkbox").val(""),this.$("input:checkbox").prop("checked",!1).filter('[data-setting="a"]').prop("checked",!0).trigger("change"),this.$m&&this.$m.empty(),this.picker&&this.picker.setValue("")},set_config:function(a){return this.config=_.extend({},a||{}),this.picker&&this.picker.setValue("#"+(this.config.c||"ffffff")),this.dom(),this.after_set_config(),this},after_set_config:function(){this.url_valid=!!this.config.url,void 0===this.config.a&&this.$('input[data-setting="a"]').prop("checked",!0).trigger("change")},dom:function(){return _.each(this.config,function(a,b){var c=this.$('[data-setting="'+b+'"]');"checkbox"===c.attr("type")?c.prop("checked",!!a):c.val(a)},this),this},validate:function(){return this.config.url?!!this.url_valid||(TVE.page_message(TVE.t.anim.vu_invalid,!0),!1):(TVE.page_message(TVE.t.missing_invalid_url,!0),!1)},get_background_embed:function(){return this.url_valid?'<iframe data-provider="'+this.key+'" src="'+this.get_background_embed_url()+'" frameborder="0" allowtransparency="true" style="display: block"></iframe>':""},get_responsive_video:function(a){return this.url_valid?'<iframe data-code="'+this.config.id+'" data-provider="'+this.key+'" src="'+this.get_embed_url(a)+'" data-src="'+this.get_embed_url(a)+'" frameborder="0" allowfullscreen></iframe>':""}}),TVE.VideoProviders.Youtube=TVE.VideoProviders.Base.extend({api_key:"AIzaSyD9QcdlSlJ2yEg2DmE_ULM2hZCxChaYMD8",type:null,yt_id:function(a){return!(!(a=a||this.config.url)||!a.length)&&(!!a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)&&RegExp.$1)},yt_playlist_id:function(a){return!(!(a=a||this.config.url)||!a.length)&&(!!a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|list\/|playlist\?list=|playlist\?.+&list=))((\w|-){34})(?:\S+)?$/)&&RegExp.$1)},validate_url:function(a){if(!a)return this.message("You must provide a non-empty URL","error"),!1;if(this.url_valid=!0,this.config.id=this.yt_id(a),this.type=null,this.config.id)this.type="video";else{if(this.config.id=this.yt_playlist_id(a),!this.config.id)return this.message(TVE.t.anim.video_id_err,"error"),!1;this.type="playlist"}if(!this.type)return this.message(TVE.t.anim.video_id_err,"error"),!1;this.message("Getting video information...","info");var b="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+this.config.id+"&key="+this.api_key;return"playlist"===this.type&&(b="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+this.config.id+"&key="+this.api_key),jQuery.getJSON(b).done(_.bind(function(a){var b=this.get_video_title(a);b?this.message(b,"success"):this.message(TVE.t.anim.video_info_err,"error"),this.control.trigger("change",this.control.get_data())},this)).fail(_.bind(function(){this.message(TVE.t.anim.video_info_err,"error")},this)),!0},get_video_title:function(a){return!!(a&&a.items&&a.items.length&&a.items[0].snippet&&a.items[0].snippet.title)&&a.items[0].snippet.title},get_embed_url:function(a){return a=void 0===a?"":a,"playlist"===this.type?("?"===a.charAt(0)&&(a="&"+a.substring(1)),"https://www.youtube.com/embed?listType=playlist&list="+this.config.id+a):"https://www.youtube.com/embed/"+this.config.id+a},get_background_embed:function(){return this.config.id&&this.url_valid?'<div data-url="'+this.config.url+'" data-yt-id="'+this.config.id+'" class="tcb-yt-bg" id="tcb-yt-'+TVE.CSS_Rule_Cache.generate_id("")+'"></div>':""}}),TVE.VideoProviders.Vimeo=TVE.VideoProviders.Base.extend({validate_url:function(a){return this.url_valid=!1,a?(this.message("Getting video information...","info"),jQuery.getJSON("https://vimeo.com/api/oembed.json?url="+a).done(_.bind(function(a){if(!a||!a.video_id)return this.message(TVE.t.anim.video_info_err,"error"),!1;a.title?this.message((a.author_name?a.author_name+" - ":"")+a.title,"success"):this.message(TVE.t.anim.video_info_priv,"error"),this.config.id=String(a.video_id),this.url_valid=!0,this.control.trigger("change",this.control.get_data())},this)).fail(_.bind(function(){this.message(TVE.t.anim.video_info_err,"error")},this)),!0):(this.message(TVE.t.missing_invalid_url,"error"),!1)},get_background_embed_url:function(){return"https://player.vimeo.com/video/"+this.config.id+"?loop=1&autoplay=1&background=1"},after_set_config:function(){!this.config.id&&this.config.url?this.validate_url(this.config.url):this.config.id&&(this.url_valid=!0)},get_embed_url:function(a){return a=void 0===a?"":a,"https://player.vimeo.com/video/"+this.config.id+a}}),TVE.VideoProviders.Wistia=TVE.VideoProviders.Base.extend({validate_url:function(a){if(this.url_valid=!1,!a)return this.message(TVE.t.required_url,"error"),!1;var b=this.video_id(a);return b?(this.config.id=b,this.message("Getting video information...","info"),jQuery.getJSON("https://fast.wistia.net/oembed?url="+a).done(_.bind(function(a){if(this.url_valid=!0,this.control.trigger("change",this.control.get_data()),!a||!a.title)return this.message(TVE.t.anim.wistia_info_warn,"warning"),!1;this.message(a.title,"success")},this)).fail(_.bind(function(){this.message(TVE.t.anim.wistia_info_warn,"warning")},this)),!0):(this.message(TVE.t.anim.video_id_err,"error"),!1)},video_id:function(a){var b=new RegExp("https?://(.+)?(wistia.com|wi.st)/(medias|embed)/(.+)"),c=new RegExp("https?://(.+)?fast.wistia.net/embed/(.+?)/(.+)");return a.match(b)?RegExp.$4:!!a.match(c)&&RegExp.$3},migrate:function(a){var b=a.config,c={a:"thrive_video",t:"click",config:{s:"wistia",p:{url:b.event_video_url||"",c:(b.event_video_color||"").replace("#",""),p:!!b.event_option_play_bar,cv:!!b.event_option_onload,hfs:!!b.event_option_fs,a:!0}}};return c.config.p.id=this.video_id(c.config.p.url),!!c.config.p.id&&c},get_background_embed:function(){return this.url_valid?'<script src="//fast.wistia.com/embed/medias/'+this.config.id+'.jsonp" async></script><script src="//fast.wistia.com/assets/external/E-v1.js" async></script><div data-id="'+this.config.id+'" class="wistia_embed wmode=transparent playButton=false autoPlay=1 controlsVisibleOnLoad=0 fullscreenButton=0 volume=0 wistia_async_'+this.config.id+'" style="width: 100%;height: 100%">&nbsp;</div>':""},get_embed_url:function(a){return a=void 0===a?"":a,"https://fast.wistia.net/embed/iframe/"+this.config.id+a}}),TVE.VideoProviders.Custom=TVE.VideoProviders.Base.extend({allowedMimeTypes:{asf:"video/x-ms-asf",asx:"video/x-ms-asf",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wm:"video/x-ms-wm",avi:"video/avi",divx:"video/divx",flv:"video/x-flv",mov:"video/quicktime",qt:"video/quicktime",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg",webm:"video/webm",mkv:"video/x-matroska"},after_init:function(){this.file_picker=new f({labels:{choose:TVE.t.ChooseVideo,title:TVE.t.Videos},config:{type:"video"}}),this.$el.prepend(this.file_picker.$el),this.file_picker.on("select",_.bind(this.on_select,this)).on("remove",_.bind(this.on_remove,this))},after_set_config:function(){TVE.VideoProviders.Base.prototype.after_set_config.apply(this,arguments),this.file_picker.set(this.config)},on_select:function(a){this.attachment=a,this.config.id=a.id,this.config.title=a.title,this.config.id||(this.config.url=a.url,this.config.id="tcb-custom-"+Math.round(900*Math.random()+100)),this.control.trigger("change",this.control.get_data())},on_remove:function(){this.config={},this.attachment=null,this.control.trigger("change",this.control.get_data())},validate:function(){return!(!this.config.id&&!this.config.url)||(TVE.page_message("required_video",!0),!1)},get_background_embed:function(){return this.attachment?(this.attachment.mime||"string"!=typeof this.attachment.url||this.compute_attachment_mime(),'<video playsinline autoplay muted loop class="tcb-bg-video" data-title="'+this.attachment.title+'" data-id="'+this.attachment.id+'"><source src="'+this.attachment.url+'" type="'+this.attachment.mime+'"></video>'):""},get_responsive_video:function(a){return!this.attachment&&this.config.attachment&&(this.attachment=this.config.attachment),this.attachment?(this.attachment.mime||"string"!=typeof this.attachment.url||this.compute_attachment_mime(),'<video style="width: 100%;" playsinline class="tcb-responsive-video" data-title="'+this.attachment.title+'" data-id="'+this.attachment.id+'"  '+a+'><source src="'+this.attachment.url+'" type="'+this.attachment.mime+'"></video>'):""},compute_attachment_mime:function(){var a=this.attachment.url.split(".").pop().toLowerCase();"string"==typeof this.allowedMimeTypes[a]&&(this.attachment.mime=this.allowedMimeTypes[a])},reset:function(){this.file_picker.set({})}})}},"animation.js":function(a,b,c){!function(a){function d(a,b){for(var c,d,e=a.split("."),g=f,h=0;d=e[h++];)if(1!==h){if(!c[d])throw new Error("Could not instantiate: "+a);c=c[d]}else if(!(c=g[d]?g[d]:window[d]))throw new Error("Could not instantiate: "+a);return c.prototype.after_init=function(a){a.key&&(this.key=a.key)},new c(b)}var e=c("../base"),f={},g=c("../../libs/event-manager"),h=c("../controls/drop-panel"),i=h.extend({template:a.noop,initialize:function(a){var b=this.$el,c=this;this.actions={},this.parent=a.parent,this.$(".action-settings").each(function(){var b=d(this.getAttribute("data-view"),{el:this,options:a.parent.options,key:this.getAttribute("data-action")});b.parent_tab=c,b.component=a.parent,c.parent.views[this.getAttribute("data-action")]=b,c.actions[this.getAttribute("data-action")]=b}),h.prototype.initialize.apply(this,arguments),this.$(".popup-content").append(b)},action_select:function(a,b){var c=_.isString(a)?a:b.value;_.each(this.actions,function(a){a.hide()}),this.$('.action-chooser[value="'+c+'"]').prop("checked",!0),this.current_model&&!this.actions[c].model&&this.actions[c].set_model(this.current_model),this.actions[c].show();var d=this.$(".action-collection");d.css("min-height",d.outerHeight()+"px"),this.parent.active_view=this.actions[c]},state_add:function(){return delete this.current_model,_.each(this.actions,function(a){a.hide(),a.set_model()}),1===Object.keys(this.actions).length&&(this.parent.active_view=this.actions[Object.keys(this.actions)[0]].show()),this.$(".action-chooser:checked").trigger("change"),this},state_edit:function(a){return this.current_model=a,this.action_select(a.get("a")),this},cancel:function(){return this.parent.cancel.apply(this.parent,arguments)},apply:function(){return this.parent.apply.apply(this.parent,arguments)},onOpen:function(){this.parent.opened_tab=this},validate:function(){return!!this.parent.active_view.apply_settings(this.parent.$element)},show:function(){return this.$(".action-tab").show(),this.visible=!0,h.prototype.show.call(this,arguments)}});f.ThriveLightbox=c("./animation/thrive-lightbox"),f.Animation=c("./animation/css-animation"),f.VideoPopup=c("./animation/video-popup"),f.ImageZoom=c("./animation/image-zoom"),f.Tooltip=c("./animation/tooltip"),f.ThriveLightboxClose=c("./animation/close-lightbox"),f.Link=c("./animation/link"),f.ActionDefault=e.component.extend({set_model:function(a){return this.model=void 0===a?new Backbone.Model:a,this},apply_settings:function(){return this.model.set({a:this.key,t:this.component.options.actions[this.key]?this.component.options.actions[this.key].trigger:"click"}),!0}}),b.exports={views:f,component:e.component.extend({disabled_devices:["mobile","tablet"],disabled_tooltip:TVE.t.animation_disabled,migrate:{thrive_wistia:function(a){return!(!this.views.thrive_video||!this.views.thrive_video.get_provider("wistia"))&&this.views.thrive_video.get_provider("wistia").migrate(a)}},show_hide:function(){this.$tabs.show().removeClass("active"),_.each(this.options.tabs,function(a,b){a.visible||this.$tabs.filter('[data-value="'+b+'"]').hide()},this),this.$sections.hide(),this.$(".action-item").show(),_.each(this.options.actions,function(b,c){b.visible||a('.action-settings[data-action="'+c+'"]').closest(".action-item").hide()},this)},reinit:function(){this.show_hide(),_.each(this.views,function(a){"function"==typeof a.reinit&&(a.options=this.options,a.reinit())},this)},controls_init:function(){var a=this;this.tabs={},this.views={},this.$tabs=this.$("#tcb-anim-buttons .tve-btn"),this.$sections=this.$(".action-tab").each(function(){a.tabs[this.getAttribute("data-tab")]=new i({el:this,parent:a})}),this.$list=this.$("#tcb-anim-list"),this.show_hide()},init_collection:function(){function a(){c.event_write(b)}if(this.collection=this.$element.data("anim_collection"),!(this.collection instanceof Backbone.Collection)){this.collection=new Backbone.Collection;var b=this.$element,c=this;this.collection.$elem=b,this.listenTo(this.collection,"reset",this.render_preview),this.listenTo(this.collection,"add",a),this.listenTo(this.collection,"write_events",a),this.listenTo(this.collection,"remove",a),b.data("anim_collection",this.collection)}},setInlineElement:function(a){this.$previous_element=this.$element,this.$element=a,this.initAll()},restoreInlineElement:function(){this.setConfig({})},setConfig:function(a){this.$element=a.to?TVE.ActiveElement.find(a.to):TVE.ActiveElement,this.initAll(),TVE.main.trigger("animation_update",this.$element,g)},update:function(){this.initAll()},initAll:function(){if(this.$element){this.element_events=g.read(this.$element);var a=this.ensure_bc();if(this.views.link){var b=this.views.link.read_element(this.$element);b&&(b.skip_save=!0,this.element_events.push(b))}this.init_collection(),this.collection.reset(this.element_events),a&&this.collection.trigger("write_events")}},ensure_bc:function(){var a=!1,b=!1;do{a=!1;for(var c,d=0;c=this.element_events[d++];)if(void 0!==this.migrate[c.a]){this.element_events[d-1]=this.migrate[c.a].call(this,c),a=!0,b=!0;break}a&&(this.element_events=this.element_events.filter(function(a){return!1!==a}))}while(a);return b},event_write:function(a){g.write(a.data("anim_collection").toJSON(),a),a.data("anim_collection").no_preview||this.render_preview()},render_preview:function(){this.$list.empty();var a=TVE.tpl("animation/preview");if(!this.collection.length)return void this.$list.append(a({preview_none:!0}));this.collection.each(function(b,c){this.$list.append(a({preview_none:!1,action:b.get("a"),trigger:b.get("t"),trigger_text:this.get_trigger_text(b),action_text:this.get_action_text(b),has_preview:"function"==typeof this.views[b.get("a")].preview,i:c}))},this)},get_label:function(a,b){return a?_.isString(a)?TVE.truncate(a):a.__config_key?TVE.truncate(a[b[a.__config_key]]):void 0:"_no_label"},get_action_text:function(a){return a.get("a")?"link"===a.get("a")?a.get("href"):this.get_label(this.options.actions[a.get("a")].labels,a.get("config")):""},get_trigger_text:function(a){return a.get("t")?"link"===a.get("a")?TVE.t.Link:this.options.triggers[a.get("t")].label:""},tab_click:function(a,b){return-1!==b.className.indexOf("active")?(this.opened_tab&&this.opened_tab.onCancel(),b.classList.remove("active"),this.$sections.hide(),!1):(this.opened_tab&&this.opened_tab.onCancel(),this.$tabs.removeClass("active"),b.classList.add("active"),this.$sections.hide().filter(".action-"+b.getAttribute("data-value")).show(),this.tabs[b.getAttribute("data-value")].open(null,b),this.tabs[b.getAttribute("data-value")].state_add(),!1)},cancel:function(a){this.$tabs.removeClass("active")},edit:function(a,b){this.$sections.hide();var c=b.getAttribute("data-index"),d=this.collection.at(c);this.$(b).closest(".animation-item");d.index=c,d.get("elementType")&&d.unset("elementType"),this.views.link&&this.views.link.read_element(this.$element),this.find_tab(d.get("a")).show().state_edit(d).position(b),this.active_view=this.views[d.get("a")].set_model(d).show()},preview:function(a,b){var c=b.getAttribute("data-index"),d=this.collection.at(c);return this.views[d.get("a")].preview(d,this.$element,b),!1},has_action:function(a,b){return!!this.collection.findWhere({t:a,a:b})},add_action:function(a,b,c){return this._handle_save(new Backbone.Model({t:a,a:b,c:c||{}}))},remove_action:function(a,b){var c=this.collection.findWhere({t:a,a:b});c&&this._handle_remove(c)},_handle_save:function(a,b){var c,d=void 0===a.index,e=a.index,f=_.extend({},a.toJSON()),g=this,h=a.get("t");if(d&&(c=this.collection.findWhere({t:a.get("t")}))&&(d=!1,e=this.collection.indexOf(c),b=_.extend({},c.toJSON()),c.set(f),TVE.page_message(TVE.t.anim.evt_replaced)),("link"===h&&this.collection.findWhere({t:"click"})||"click"===h&&this.collection.findWhere({t:"link"}))&&TVE.page_message(TVE.t.anim.multiple_click_events,-1),d?this.collection.add(a):this.collection.trigger("add"),a.get("settings_applied"))return!0;var i=g.$element
;TVE.UndoManager.add({undo:function(){var c=i.data("anim_collection");c.no_preview=c!==g.collection,d?c.remove(a):(c.at(e).set(b),c.trigger("add")),delete c.no_preview},redo:function(){var b=i.data("anim_collection");b.no_preview=b!==g.collection,d?b.add(a):(b.at(e).set(f),b.trigger("add")),delete b.no_preview}})},_handle_remove:function(a){var b=this,c=this.collection.indexOf(a),d=b.$element;if("link"===a.get("a")&&this.views.link)return this.views.link.remove(a),!1;TVE.UndoManager.add({undo:function(){var e=d.data("anim_collection");e.no_preview=e!==b.collection,e.add(a,{at:c}),delete e.no_preview},redo:function(){var a=d.data("anim_collection");a.no_preview=a!==b.collection,a.remove(a.at(c)),delete a.no_preview}}),a.destroy()},apply:function(a,b){var c=_.extend({},this.active_view.model.attributes);return this._handle_save(this.active_view.model,c),this.active_view=null,this.cancel(),!1},find_tab:function(a){return this.views[a].parent_tab},remove:function(a,b){var c=b.getAttribute("data-index"),d=this.collection.at(c);return this._handle_remove(d),TVE.Components.image.update("ImageFullSize"),h.close_all(),!1},reset:function(){this.cancel()}})}}(jQuery)},"background.js":function(a,b,c){var d=c("../../models/base"),e=c("../../collections/gradient"),f=c("../base"),g=c("../../libs/gradient-parser"),h=c("../../libs/gradient-builder"),i=c("../controls/button-panel-group"),j=c("../controls/background/solid"),k=c("../controls/background/image"),l=c("../controls/background/gradient"),m=c("../controls/background/gradient-pattern"),n=new e;b.exports=f.component.extend({extra_states:!0,important:!1,controls_init:function(){this.important=!0,this.init_layers();var a=this.get_collection();this.controls.PreviewList.attach_collection(a),this.controls.PreviewList.on("item_click",_.bind(this.edit_layer,this)),this.listenTo(a,"add",this.apply_css),this.listenTo(a,"reset",this.apply_css),this.listenTo(a,"remove",this.apply_css),this.listenTo(a,"change",this.apply_css),this.controls.PreviewList.get_items=_.bind(function(a){var b=g(a.css("background-image")),c=(a.css("background-size")||"").split(","),d=(a.css("background-attachment")||"").split(","),e=(a.css("background-position")||"").split(","),f=(a.css("background-repeat")||"").split(",");return b.forEach(function(a,g){b[g].size=c[g]||"auto auto",b[g].attachment=d[g]||"scroll",b[g].repeat=f[g]||"scroll",b[g].position=e[g]||"scroll"}),b},this),this.controls.ColorPicker.input=function(a){a&&(a+="!important"),this.applyTo().head_css({"background-color":a},!1,this.config.css_suffix,!1,this.config.css_prefix)},this.controls.ColorPicker.update=function(a){this.read_background(a)}},get_collection:function(){return n},init_layers:function(){this.tabs=new i({el:this.$(".gradient-layers")[0],buttons:this.buttons(),label:TVE.t.Add_Layer}),this.tabs.on("open",_.bind(this.add_layer,this))},add_layer:function(a){TVE.SKIP_CSS_STATE=!0,TVE.UndoManager.temp.set(this.controls.PreviewList.applyTo(),this.get_css());var b=new d(a.get_default_data());return b.set("__new",!0),this.get_collection().add(b),b.saveState(),a.reset(b),!1},edit_layer:function(a,b){TVE.SKIP_CSS_STATE=!0,TVE.UndoManager.temp.set(this.controls.PreviewList.applyTo(),this.get_css());var c=a.get("type"),d="linear-gradient"===c||"radial-gradient"===c?"gradient":c,e=this.tabs.panel(d);return e.isOpen()?(e.onCancel(),!1):(a.saveState(),e.reset(a),e.open(null,b),!1)},apply_css:function(){if(!this.get_collection().DURING_UPDATE){var a=this.controls.PreviewList.config;this.controls.PreviewList.applyTo().head_css(this.get_css(),null,a.css_suffix,!0,a.css_prefix)}},get_css:function(){var a=this.get_collection().toJSON(),b=TVE.ActiveElement.is("body"),c="scroll",d=-1,e=this.important?" !important":"";return b&&_.each(a,function(a,b){"url"===a.type&&"fixed"===a.attachment&&(c="fixed",d=b)}),{"background-image":h(a)+e,"background-size":_.map(a,function(a){return a.size||"auto auto"}).join(",")+e,"background-position":_.map(a,function(a){return a.position||"0 0"}).join(",")+e,"background-attachment":_.map(a,function(a,b){return"url"!==a.type&&!a.attachment&&b<d&&(a.attachment=c),a.attachment||"scroll"}).join(",")+e,"background-repeat":_.map(a,function(a){return a.repeat||"no-repeat"}).join(",")+e}},buttons:function(){var a=this.get_collection();return{solid:{icon:"color",title:TVE.t.solid_color,panel:new j({collection:a})},url:{icon:"img",class:"tcb-icon-medium padded",title:TVE.t.image,icon_type:"svg",panel:new k({collection:a})},gradient:{icon:"gradient",title:TVE.t.gradient,panel:new l({collection:a})},pattern:{icon:"stripes",title:TVE.t.pattern,panel:new m({collection:a})}}},video:function(){return c("../controls/background/video")},remote:{collection:null,save_state:function(){this.collection=n.toJSON()},restore_state:function(){this.collection&&n.reset(this.collection)},reset:function(){n.reset()},has_layers:function(){return n.length>0}}})},"borders-corners.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({extra_states:!0})},"button.js":function(a,b,c){function d(a){return a.find(i)}function e(a){return a.find(k)}var f=c("../base"),g=c("../controls/button/style"),h=c("../../libs/element-snapshot"),i=(c("../modals/icons")," .tcb-button-link"),j=" .tcb-button-icon",k=" .tcb-secondary-text",l=TVE.tpl("elements/button-icon");b.exports=f.component.extend({extra_states:!0,needs_update:function(a){return a.hasClass("thrv_button_shortcode")},migrate_element:function(a){var b,c,d,e=" !important",f="thrv_wrapper thrv-button",g=a.find(".tve_btn"),h=a.find("a"),i=a.find("i"),j=a.find(".tve_btn_divider"),k=i.css("background-image"),l={},m=g.css("margin-left"),n=g.css("margin-right");a.hasClass("tve_centerBtn")&&(m=n="auto"),b={"min-width":g.css("min-width"),margin:[g.css("margin-top"),n,g.css("margin-bottom"),m].join(" ")},c={"border-radius":g.css("border-radius"),"background-color":g.css("background-color")+e,"background-image":g.css("background-image")+e,"padding-top":h.css("padding-top")+e,"padding-right":h.css("padding-right")+e,"padding-bottom":h.css("padding-bottom")+e,"padding-left":h.css("padding-left")+e,"border-width":g.css("border-width"),"border-style":g.css("border-style"),"border-color":g.css("border-color")},d={"font-size":h.css("font-size"),"box-shadow":g.css("box-shadow")},j.length&&j.is(":visible")&&parseInt(j.css("width"))>0&&"transparent"!==j.css("background-color")&&(f+=" tcb-with-divider",l={"background-color":j.css("background-color")+" !important"}),j.remove(),TVE.SKIP_CSS_STATE=!0,h.head_css(c),a.head_css(b),a.head_css(l,null," .tcb-button-link > span::before"),a.head_css(d,null," .tcb-button-link"),TVE.SKIP_CSS_STATE=!1,i.is(":visible")&&i.attr("data-tve-icon")?f+=" tcb-with-icon":k&&"none"!==k&&(f+=" tcb-with-icon",i.css({display:"block",width:i.width(),height:i.height(),"background-image":k,"background-size":"hover","margin-right":"10px"})),a.attr("class",f),h.unwrap().attr("class","tcb-button-link"),h.children(".tve_btn_im").attr("class","tcb-button-icon"),h.children(".tve_btn_txt").wrap('<span class="tcb-button-texts"></span>').attr("class","tcb-button-text thrv-inline-text"),h.attr("rel",h.attr("rel")||"")},controls_init:function(a){var b=this,c=this.$(".width-input");c.attr("placeholder","auto"),c.focusout(function(){b.update()}),this.controls.icon_side.input=function(a,b){h(function(){a.toggleClass("tcb-flip","right"===b.dataset.value)},a)},this.controls.icon_side.update=function(a){this.setActive(a.hasClass("tcb-flip")?"right":"left")},this.controls.ButtonLink.change=function(a,b){var c=b.value;a=d(a),this.setValue(c),h(function(){a.attr("href",c),TVE.preserve_changed_link(a)},a.parent()),TVE.Components.animation.update()},this.controls.ButtonLink.update=function(a){a=d(a),this.setValue(a.attr("data-tcb-href")||a.attr("href"))},this.controls.LinkNewTab.update=function(a){var b=d(a).attr("target");void 0!==b&&!1!==b&&"_blank"===b?this.setChecked(!0):this.setChecked(!1)},this.controls.LinkNewTab.change=function(a,b){h(function(){var c=d(a);c.attr("target");b.checked?c.attr("target","_blank"):c.removeAttr("target")},a)},this.controls.LinkNoFollow.update=function(a){var b=d(a).attr("rel");this.setChecked(void 0!==b&&b&&-1!==b.indexOf("nofollow"))},this.controls.LinkNoFollow.change=function(a,b){h(function(){d(a).attr("rel",b.checked?"nofollow":"")},a)},this.controls.ButtonColor.change=function(a){delete this.background_reset,TVE.Components.background.controls.ColorPicker.input(a),TVE.Components.background.controls.ColorPicker.setValue(a)},this.controls.ButtonColor.input=function(a){this.background_reset||(TVE.Components.background.remote.save_state(),TVE.Components.background.remote.reset(),this.background_reset=!0),TVE.Components.background.controls.ColorPicker.input(a)},this.controls.ButtonColor.cancel=function(){delete this.background_reset,TVE.Components.background.remote.restore_state()},this.controls.ButtonColor.update=function(){TVE.Components.background.remote.has_layers()?this.setValue("transparent"):this.read_background(d(this.applyTo()))},this.controls.ButtonIcon.change=function(a,c){h(function(){a.toggleClass("tcb-with-icon",!0===c.checked),!0!==c.checked||a.find(j).length||d(a).prepend(l)},a),b.$(".tcb-button-icon-controls").toggleClass("tcb-hidden",!1===c.checked),TVE.Editor_Page.reposition_icons()},this.controls.ButtonIcon.update=function(a){a.hasClass("tcb-with-divider")||a.hasClass("tcb-with-icon")?this.setChecked(!0):this.setChecked(!1),b.$(".tcb-button-icon-controls").toggleClass("tcb-hidden",!1===(a.hasClass("tcb-with-divider")||a.hasClass("tcb-with-icon")))},this.controls.SecondaryText.change=function(a,b){h(function(){b.checked?a.append('<span class="tcb-secondary-text thrv-inline-text">Secondary text</span>'):e(a).remove()},a.parent())},this.controls.SecondaryText.update=function(a){this.setChecked(1===e(a).length)};var f=this.config.ButtonSize.config.max,k=130/f,m=994/f,n=2.8/f;this.controls.ButtonSize.input=function(a,b){var c={"min-height":30+(b.dataset.value-1)*k+"px","font-size":"2"===b.dataset.value?"":.8+(b.dataset.value-1)*n+"em","padding-top":"2"===b.dataset.value?"":0,"padding-bottom":"2"===b.dataset.value?"":0};a.head_css(c,null,i),a.css("width","").css("height","");var d={display:"2"===b.dataset.value?"":"block","max-width":"2"===b.dataset.value?"":86+(b.dataset.value-1)*m+"px"};a.head_css(d),TVE.Editor_Page.reposition_icons()},this.controls.ButtonSize.update=function(a){var b=parseFloat(a.find(i).css("min-height"));b=isNaN(b)||!b?"2":1+Math.round((b-30)/k),this.setActive(b)},this.controls.ButtonWidth.input=function(a,b){var c=b.value,d=this.getUM();""===c&&(c="auto",d="");var e={display:"block","max-width":c+d,width:c+d};"auto"===c&&(e.display="",e["max-width"]=""),a.head_css(e)},this.controls.ButtonWidth.update=function(a){var b=a.head_css("max-width"),c=parseFloat(b);!c||isNaN(c)?this.$(".tve-input").val("auto"):this.setValue(b)},this.controls.FullWidth.update=function(a){this.setChecked("100%"===a.css("min-width")),b.controls.ButtonWidth.$el.toggleClass("tcb-hidden",this.isChecked())},this.controls.FullWidth.change=function(a,c){a.head_css({"min-width":c.checked?"100%":""}),b.controls.ButtonWidth.$el.toggleClass("tcb-hidden",c.checked),b.controls.ButtonWidth.update(a),TVE.Editor_Page.reposition_icons()};var o=this.config.style;this.controls.style.set_drop_panel(new g({model:o,component:this}))},button_style_control:function(){return c("../controls/style-change")}})},"cell.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({controls_init:function(){this.controls.width.update=function(a){this.setValue(a.width())},this.controls.width.input=function(a,b){a.__col.head_css({width:b.value+this.getUM()},null,"",!1,"#tve_editor ")},this.controls.height.update=function(a){this.setValue(a.height())},this.controls.height.input=function(a,b){a.__row.head_css({height:b.value+this.getUM()},null,"",!1,"#tve_editor "),TVE.plugins.table.refresh()},this.controls.valign.update=function(a){this.setActive(a.css("text-align")||"")},this.controls.valign.change=function(a,b){var c=this.getValue();a.head_css({"vertical-align":c},null,"",!1,"#tve_editor "),this.readFrom().removeClass("tve_valign_top tve_valign_middle tve_valign_bottom")}}})},"click-tweet.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({template:TVE.tpl("controls/responsive"),events:function(){return _.extend(d.component.prototype.events,{"keyup .tve-input-control":"setTwitterCount","keyup .tve-tweet-via-control input":"setTwitterCount"})},controls_init:function(){var a=this;this.controls.LabelText.update=function(){var b=this.applyTo().find(".thrv_tw_qs_button_text").html();this.setValue(a.stripHtml(b))},this.controls.LabelText.change=function(){var b,c=this.applyTo(),d=c.find(".thrv_tw_qs_button_text"),e=TVE.renderers.base.read_element_props(c);d.html(a.stripHtml(this.$("input").val())),b=TVE.renderers.base.read_element_props(c),a.addUndoManagerAction(c,e,b)},this.controls.TweetText.update=function(b){var c=b.find(".thrv_tw_quote").html(),d=a.stripHtml(c).replace(/^\s+|\s+$/g,"");b.find(".thrv_tw_qs_button_text");this.setValue(d),a.setTwitterCount()},this.controls.TweetText.input=function(){var b,c=a.stripHtml(this.$("textarea").val()),d=this.applyTo(),e=TVE.renderers.base.read_element_props(d);a.setTwitterCount(),d.find(".thrv_tw_quote p").hasClass("tve-froala")?d.find(".thrv_tw_quote p").froalaEditor("html.set",c):d.find(".thrv_tw_quote p").html(c),b=TVE.renderers.base.read_element_props(d),a.addUndoManagerAction(d,e,b)},this.controls.ShareUrlCheckbox.update=function(b){var c=!!b.attr("data-use_custom_url");a.controls.ShareUrlInput.$el.hide(),c&&a.controls.ShareUrlInput.$el.show(),this.isChecked()!==c&&this.setChecked(c)},this.controls.ShareUrlCheckbox.change=function(b,c){var d,e=TVE.renderers.base.read_element_props(b);c.checked?(b.attr("data-use_custom_url",!0),a.controls.ShareUrlInput.$el.show()):(b.attr("data-use_custom_url",""),a.controls.ShareUrlInput.$el.hide()),d=TVE.renderers.base.read_element_props(b),a.addUndoManagerAction(b,e,d)},this.controls.ShareUrlInput.update=function(a){var b=a.attr("data-custom_url");this.setValue(b)},this.controls.ShareUrlInput.change=function(b,c){var d,e=TVE.renderers.base.read_element_props(b),f=TVE.addHttp(c.value);this.setValue(f),TVE.isValidUrl(f)?b.attr("data-custom_url",f):TVE.page_message(TVE.t.UrlInvalid,!0,5e3),d=TVE.renderers.base.read_element_props(b),a.addUndoManagerAction(b,e,d)},this.controls.ViaUsername.update=function(a){var b=a.attr("data-via");this.setValue(b)},this.controls.ViaUsername.change=function(b,c){var d,e=TVE.renderers.base.read_element_props(b),f=c.value;a.setTwitterCount(),b.attr("data-via",f),d=TVE.renderers.base.read_element_props(b),a.addUndoManagerAction(b,e,d)}},setTwitterCount:function(){var a=this.controls.TweetText.getValue(),b=256-a.length,c=this.controls.ViaUsername.getValue();c.length&&(b-=6+c.length),this.$(".tve-twitter-count").html(b),this.$(".tve-twitter-count").toggleClass("red",b<0)},stripHtml:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.textContent||b.innerText||""},preview:function(){window.open(this.getUrl(),"_blank")},addUndoManagerAction:function(a,b,c){var d=this;TVE.UndoManager.add({undo:function(){d.undo_sequence(a,b)},redo:function(){d.undo_sequence(a,c)}})},undo_sequence:function(a,b){a.html(b.html);for(var c in b.data)a.attr(c,b.data[c])},getUrl:function(){var a=TVE.ActiveElement,b=a.attr("data-use_custom_url")&&a.attr("data-custom_url"),c=b?a.attr("data-custom_url"):window.location.href,d=a.attr("data-url")+"?text="+encodeURIComponent(a.find("p").text())+"&url="+encodeURIComponent(c);return a.attr("data-via").length>0&&(d+="&via="+a.attr("data-via")),d}})},"cloud-templates.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({open_modal:function(){return TVE.modal_open("cloud-templates",{element:TVE.ActiveElement}),!1}})},"columns.js":function(a,b,c){var d=c("../base"),e=c("../inline/column-options");b.exports=d.component.extend({needs_update:function(a){return a.hasClass("thrv_columns")},migrate_element:function(a){TVE.drag.convert_old_columns(a),TVE.Editor_Page.blur(),TVE.Editor_Page.focus_element(a.parent())},controls_init:function(a){a.GutterWidth.input=function(a,b){a.head_css({"padding-left":b.value+"px"},!1,this.config.css_suffix),a.head_css({"margin-left":-b.value+"px"})},a.GutterWidth.update=function(a){this.setValue(a.css("padding-left"))},a.GutterWidth.change=function(a,b){this.input(a,b),TVE.drag.position_resizables(a,b.value)},a.ColumnsOrder.change=function(a,b){switch(TVE.main.device){case"desktop":a.closest(".tve_editor_page").hasClass("preview-desktop")?a.toggleClass("tcb-row-reversed-desktop",b.checked):(a.closest(".tve_editor_page").addClass("preview-desktop"),a.toggleClass("tcb-row-reversed-desktop",b.checked),a.toggleClass("tcb-row-reversed-tablet",b.checked),a.toggleClass("tcb-row-reversed-mobile",b.checked));break;case"tablet":a.toggleClass("tcb-row-reversed-tablet",b.checked);break;case"mobile":a.toggleClass("tcb-row-reversed-mobile",b.checked);break;default:a.toggleClass("tcb-row-reversed-desktop",b.checked)}b.checked?(a.head_css({"flex-direction":"mobile"===TVE.main.device?"column-reverse":"row-reverse"}),"mobile"===TVE.main.device||a.hasClass("tcb-mobile-edit")||a.head_css({"flex-direction":"column-reverse"},TVE.main.media_query_tpl("mobile"))):(a.head_css({"flex-direction":"mobile"===TVE.main.device?"column":"row"}),"mobile"===TVE.main.device||a.hasClass("tcb-mobile-edit")||a.head_css({"flex-direction":"column"},TVE.main.media_query_tpl("mobile")),"mobile"===TVE.main.device&&a.removeClass("tcb-reverse")),"mobile"===TVE.main.device&&a.addClass("tcb-mobile-edit")},a.ColumnsOrder.update=function(a){var b=a.css("flex-direction");this.setChecked(b&&-1!==b.indexOf("-reverse"))},a.VerticalPosition.change=function(a,b){a.removeClass("tcb-flex-center tcb-flex-end"),a.head_css({"justify-content":b.getAttribute("data-value")},null," > .tcb-flex-col > .tcb-col")},a.VerticalPosition.update=function(a){this.setActive(a.head_css("justify-content",null," > .tcb-flex-col > .tcb-col",!0)||"")},a.MediumWrap.change=function(b,c){b.removeClass("tcb-medium-no-wrap tcb-medium-wrap"),c.checked?b.addClass("tcb-medium-wrap"):b.addClass("tcb-medium-no-wrap"),a.ColumnWidth.update(),a.ColumnWidth.$el.slideToggle()},a.MediumWrap.update=function(){var b=this.applyTo(),c=b.css("flex-wrap"),d=!c||-1===c.indexOf("nowrap");this.setChecked(d),d&&!b.hasClass("tcb-medium-wrap")&&b.addClass("tcb-medium-wrap"),a.ColumnWidth.$el[d?"show":"hide"]()},a.ColumnWidth.input=function(a,b){a.head_css({"flex-basis":b.value+"px!important"},!1," .tcb-flex-col")},a.ColumnWidth.update=function(){this.setValue(this.applyTo().find(".tcb-flex-col").css("flex-basis"))},TVE.main.on("device_change",function(){TVE.ActiveElement&&(a.MediumWrap.update(),a.ColumnWidth.update())}),this.placeholder_panel=new e({component:this,minWidth:300,no_buttons:!0}),a.FullWidth.change=function(a,b){a.toggleClass("tcb-window-width",b.checked),b.checked?TVE.inner.window.TCB_Front.resizePageSection(a):a.css({width:"",left:""}),TVE.Editor_Page.reposition_icons()},a.FullWidth.update=function(a){var b=a.hasClass("tcb-window-width");this.isChecked()!==b&&this.setChecked(b)},a.MinHeight.input=function(a,b){a.head_css({"min-height":"inherit"}),a.head_css({"min-height":b.value+this.getUM()},!1,this.config.css_suffix)},a.MinHeight.update=function(a){var b=a.head_css("min-height",!1,"",!0);b||(b=a.height()),this.setValue(b)}},placeholder_action:function(){this.placeholder_panel.open(TVE.ActiveElement,TVE.ActiveElement.find(".tcb-inline-placeholder-action"))}})},"comments-disqus.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({controls_init:function(a){var b=this;this.controls.ForumName.update=function(a){this.setValue(a.find("#disqus_thread").attr("data-disqus_shortname"))},this.controls.ForumName.change=function(a,c){var d=a.find("#disqus_thread"),e=c.value,f=d.attr("data-disqus_shortname");d.attr("data-disqus_shortname",e),TVE.ajax("update_option","post",{option_name:"tve_comments_disqus_shortname",option_value:e}),b.undo_manager_api(d,"data-disqus_shortname",f,e)},this.controls.URL.update=function(a){this.setValue(a.find("#disqus_thread").attr("data-disqus_url"))},this.controls.URL.change=function(a,c){var d=TVE.addHttp(c.value),e=a.find("#disqus_thread"),f=e.attr("data-disqus_url");this.setValue(d),TVE.isValidUrl(d)||""===d?(e.attr("data-disqus_url",d),b.undo_manager_api(e,"data-disqus_url",f,d)):TVE.page_message(TVE.t.UrlInvalid,!0,5e3)}},undo_manager_api:function(a,b,c,d){TVE.UndoManager.add({undo:function(){a.attr(b,c)},redo:function(){a.attr(b,d)}})}})},"comments-facebook.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({nrOfPosts:null,controls_init:function(){var a=this;this.controls.moderators.update=function(a){var b,c=a.find(".tve-fb-comments").attr("data-fb-moderator-ids"),d=[];c&&(b=c.split(";"),b.forEach(function(a){d.push({value:a})})),this.resetCollection(d)},this.controls.moderators.change=function(a,b){var c,d=[];b.forEach(function(a){d.push(a.value)}),c=d.join(";"),a.find(".tve-fb-comments").attr("data-fb-moderator-ids",c),TVE.ajax("update_option","post",{option_name:"tve_comments_facebook_admins",option_value:c})},this.controls.color_scheme.update=function(a){this.setValue(a.find(".tve-fb-comments").attr("data-colorscheme"))},this.controls.color_scheme.input=function(b,c){var d=b.find(".tve-fb-comments"),e=b.attr("data-colorscheme"),f=c.value;d.attr("data-colorscheme",f),a.undo_manager_api(d,"data-colorscheme",e,f)},this.controls.order_by.update=function(a){this.setValue(a.find(".tve-fb-comments").attr("data-order-by"))},this.controls.order_by.input=function(b,c){var d=b.find(".tve-fb-comments"),e=b.attr("data-order-by"),f=c.value;d.attr("data-order-by",f),a.undo_manager_api(d,"data-order-by",e,f)},this.controls.nr_of_comments.input=function(a,b){a.find(".tve-fb-comments").attr("data-numposts",b.value)},this.controls.nr_of_comments.update=function(a){var b=a.find(".tve-fb-comments").attr("data-numposts");this.setValue(b),this.nrOfPosts=b},this.controls.nr_of_comments.change=function(b,c){b.find(".tve-fb-comments").attr("data-numposts",c.value),a.undo_manager_api(b,"data-numposts",this.nrOfPosts,c.value)},this.controls.URL.update=function(a){this.setValue(a.find(".tve-fb-comments").attr("data-href"))},this.controls.URL.change=function(b,c){var d=TVE.addHttp(c.value),e=b.find(".tve-fb-comments"),f=e.attr("data-href");this.setValue(d),TVE.isValidUrl(d)||""===d?(e.attr("data-href",d),a.undo_manager_api(e,"data-href",f,d)):TVE.page_message(TVE.t.UrlInvalid,!0,5e3)}},undo_manager_api:function(a,b,c,d){TVE.UndoManager.add({undo:function(){a.attr(b,c)},redo:function(){a.attr(b,d)}})}})},"content-templates.js":function(a,b,c){var d=c("../base"),e=c("../inline/content-templates");b.exports=d.component.extend({controls_init:function(){this.placeholder_panel=new e({component:this,minWidth:250,no_buttons:!0}),TVE.main.on("insert_element",function(a){"ct"!==a.type||TVE.CONST.content_templates.length||(a.prevent_insert=!0,TVE.modal_open("base","no-content-templates"))})},placeholder_action:function(){this.placeholder_panel.open(TVE.ActiveElement,TVE.ActiveElement.find(".tcb-inline-placeholder-action"))}})},"contentbox.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({needs_update:function(a){return!a.hasClass("thrv-content-box")},migrate_element:function(a){var b,c,d,e,f=a.find(".tve_cb"),g=f.find(".tve_hd");a.addClass("thrv-content-box"),a.prepend('<div class="tve-content-box-background"></div>'),f.find("hr").remove(),d=f.css(["background-color","border-width","border-style","border-color","border-image","border-radius"]),e=f.css(["padding"]),f.css({"background-color":"transparent","border-width":"0px","border-style":"none","border-color":"transparent","border-image":"none","border-radius":"0px","box-sizing":"border-box !important"}),a.find(">.tve-content-box-background").head_css(d),a.head_css(e);var h=a.find("h1, h2, h3").css(["color","margin-top","margin-bottom"]),i=a.find("p").css(["color","margin-top","margin-bottom"]);g.length&&g.find("h1, h2, h3").length&&(g.addClass("thrv-content-box").addClass("thrv_wrapper"),c=g.html(),g.html('<div class="tve-content-box-background"></div><div class="tve-cb" ></div>'),g.find(".tve-cb").html(c).css({"background-color":"transparent","background-image":"none"}),d=g.css(["background-color","border-width","border-style","border-color","border-image","border-radius"]),b=g.css(["padding","margin"]),b.margin+=" !important",f.hasClass("tve_cb1")&&(b.margin=0),b["min-height"]="0px",g.css({"background-color":"transparent","border-width":"0px","border-style":"none","border-color":"transparent","border-image":"none","border-radius":"0px","box-sizing":"border-box !important",margin:"0px",width:"auto"}),g.find(">.tve-content-box-background").head_css(d),g.head_css(b)),a.head_css(h,null," .tve-cb h3"),a.head_css(i,null," .tve-cb p"),f.removeClass("tve_cb").removeClass("tve_cb1 tve_cb2 tve_cb3 tve_cb4 tve_cb5").addClass("tve-cb")},controls_init:function(a){a.BoxHeight.input=function(a,b){this.prepareValue(b.value,this.getUM()),a.head_css({"min-height":b.value+this.getUM()})},a.BoxHeight.update=function(a){var b=a.head_css("min-height",!1,"",!0);b||(b=a.height()),this.setValue(b)},a.BoxWidth.input=function(a,b){this.prepareValue(b.value,this.getUM()),a.head_css({"max-width":b.value+this.getUM()})},a.BoxWidth.update=function(a){var b=a.head_css("max-width",null,null,!0);b&&!isNaN(parseInt(b))||(b=a.outerWidth()),this.model.config.max=parseInt(a.parent().width()),this.setValue(b)},a.VerticalPosition.change=function(a,b){a.removeClass("tcb-flex-center tcb-flex-end"),""===b.getAttribute("data-value")&&a.head_css({"justify-content":"",display:"block","flex-direction":""},null," > .tve-cb"),a.head_css({"justify-content":b.getAttribute("data-value"),display:"flex","flex-direction":"column"},null," > .tve-cb")},a.VerticalPosition.update=function(a){this.setActive(a.head_css("justify-content",null," > .tve-cb",!0)||"")}}})},"countdown-evergreen.js":function(a,b,c){var d=c("./countdown"),e=c("../controls/countdown/style");b.exports=d.extend({needs_update:function(a){return!a.find(".t-caption").hasClass("thrv-inline-text")},migrate_element:function(a){a.find(".t-caption").addClass("thrv-inline-text"),a.removeClass("tve_countdown_timer_evergreen tve_cd_timer_plain").addClass("thrv-countdown_timer_evergreen")},controls_init:function(a){var b=this.config.style;this.controls.style.set_drop_panel(new e({model:b,component:this})),this.controls.Color.change=function(a){var b=this.applyTo(),c=this.config.config.style_default_color;_.each(c,function(c,d){for(var e in c){var f={};""===c[e]&&(f[e]=a+"!important",b.head_css(f,!1,d))}}),b.head_css({color:a+"!important"},!1," .t-caption")},this.controls.Color.input=function(a){var b=this.applyTo(),c=this.config.config.style_default_color;_.each(c,function(c,d){for(var e in c){var f={};""===c[e]&&(f[e]=a+"!important",b.head_css(f,!1,d))}}),b.head_css({color:a+"!important"},!1," .t-caption")},this.controls.Color.update=function(){this.setValue(this.applyTo().find(".t-caption").css("color"))},this.controls.CompleteText.change=function(a,b){var c=b.value,d=a.attr("data-text");a.attr("data-text",c),this.component.undo_manager_api_for_attributes(a,"data-text",d,c,!1)},this.controls.CompleteText.update=function(a){this.setValue(a.attr("data-text"))},this.controls.Day.input=function(a,b){this.component.set_date_values(a.find(".tve_t_day .t-digits"),b.value),this.component.change_digits_width(a,".tve_t_day .t-digits",b.value)},this.controls.Day.update=function(a){this.setValue(parseInt(a.attr("data-day")))},this.controls.Day.change=function(a,b){var c=a.attr("data-day");a.attr("data-day",b.value),this.component.time_undo_redo_manager(a,"data-day",c,b.value,a.find(".tve_t_day .t-digits"))},this.controls.Hour.input=function(a,b){this.component.set_date_values(a.find(".tve_t_hour .t-digits"),b.value)},this.controls.Hour.update=function(a){this.setValue(parseInt(a.attr("data-hour")))},this.controls.Hour.change=function(a,b){var c=a.attr("data-hour");a.attr("data-hour",b.value),this.component.time_undo_redo_manager(a,"data-hour",c,b.value,a.find(".tve_t_hour .t-digits"))},this.controls.Minute.input=function(a,b){this.component.set_date_values(a.find(".tve_t_min .t-digits"),b.value)},this.controls.Minute.update=function(a){this.setValue(parseInt(a.attr("data-min")))},this.controls.Minute.change=function(a,b){var c=a.attr("data-min");a.attr("data-min",b.value),this.component.time_undo_redo_manager(a,"data-min",c,b.value,a.find(".tve_t_min .t-digits"))},this.controls.Second.input=function(a,b){this.component.set_date_values(a.find(".tve_t_sec .t-digits"),b.value)},this.controls.Second.update=function(a){this.setValue(parseInt(a.attr("data-sec")))},this.controls.Second.change=function(a,b){var c=a.attr("data-sec");a.attr("data-sec",b.value),this.component.time_undo_redo_manager(a,"data-sec",c,b.value,a.find(".tve_t_sec .t-digits"))},this.controls.ExpDay.input=function(a,b){},this.controls.ExpDay.update=function(a){this.setValue(parseInt(a.attr("data-expday")))},this.controls.ExpDay.change=function(a,b){var c=a.attr("data-expday");a.attr("data-expday",b.value),this.component.undo_manager_api_for_attributes(a,"data-expday",c,b.value,!1)},this.controls.ExpHour.input=function(a,b){},this.controls.ExpHour.update=function(a){this.setValue(parseInt(a.attr("data-exphour")))},this.controls.ExpHour.change=function(a,b){var c=a.attr("data-exphour");a.attr("data-exphour",b.value),this.component.undo_manager_api_for_attributes(a,"data-exphour",c,b.value,!1)},this.controls.StartAgain.update=function(a){var b=a.attr("data-norestart");void 0!==b&&0===parseInt(b)?(this.setChecked(!0),this.component.$el.find(".tcb-start-again-control").removeClass("tcb-hidden")):(this.setChecked(!1),this.component.$el.find(".tcb-start-again-control").addClass("tcb-hidden"))},this.controls.StartAgain.change=function(a,b){b.checked?(a.attr("data-norestart",0),this.component.$el.find(".tcb-start-again-control").removeClass("tcb-hidden")):(a.attr("data-norestart",1),this.component.$el.find(".tcb-start-again-control").addClass("tcb-hidden"))}},trigger_change_date:function(){this.controls.Day.$(".tve-input").trigger("input")},change_digits_width:function(a,b,c){var d=2;c>99&&(d=c.toString().length),a.find(b).css("min-width",d*a.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px")},time_undo_redo_manager:function(a,b,c,d,e){var f=this;TVE.UndoManager.add({undo:function(){a.attr(b,c),f.set_date_values(e,c)},redo:function(){a.attr(b,d),f.set_date_values(e,d)}})}})},"countdown.js":function(a,b,c){var d=c("../base"),e=c("../controls/countdown/style");b.exports=d.component.extend({needs_update:function(a){return!a.find(".t-caption").hasClass("thrv-inline-text")},migrate_element:function(a){a.find(".t-caption").addClass("thrv-inline-text"),a.removeClass("tve_cd_timer_plain").addClass("thrv-countdown_timer_plain")},controls_init:function(a){this.controls.CompleteText.change=function(a,b){var c=b.value,d=a.attr("data-text");a.attr("data-text",c),this.component.undo_manager_api_for_attributes(a,"data-text",d,c,!1)},this.controls.CompleteText.update=function(a){this.setValue(a.attr("data-text"))};var b=this.config.style;this.controls.style.set_drop_panel(new e({model:b,component:this})),this.controls.EndDate.update=function(a){var b=a.attr("data-date"),c=b.split("-"),d=c[1]-1;this.setValue(c[0],d,c[2])},this.controls.EndDate.input=function(a,b){var c=b.split(" "),d=c[0],e=d.split("-").reverse().join("-"),f=a.attr("data-date");a.attr("data-date",e),this.component.compute_time_until(a,e,a.attr("data-hour"),a.attr("data-min")),this.component.undo_manager_api_for_attributes(a,"data-date",f,e,!0)},this.controls.Color.change=function(a){var b=this.applyTo(),c=this.config.config.style_default_color
;_.each(c,function(c,d){for(var e in c){var f={};""===c[e]&&(f[e]=a+"!important",b.head_css(f,!1,d))}}),b.head_css({color:a+"!important"},!1," .t-caption")},this.controls.Color.input=function(a){var b=this.applyTo(),c=this.config.config.style_default_color;_.each(c,function(c,d){for(var e in c){var f={};""===c[e]&&(f[e]=a+"!important",b.head_css(f,!1,d))}}),b.head_css({color:a+"!important"},!1," .t-caption")},this.controls.Color.update=function(){this.setValue(this.applyTo().find(".t-caption").css("color"))},this.controls.Hour.input=function(a,b){var c=b.value;1===c.toString().length&&(c="0"+c),this.component.compute_time_until(a,a.attr("data-date"),c,a.attr("data-min"))},this.controls.Hour.update=function(a){this.setValue(parseInt(a.attr("data-hour")))},this.controls.Hour.change=function(a,b){var c=b.value,d=c.toString().length,e=a.attr("data-hour");1===d&&(c="0"+c),a.attr("data-hour",c),this.component.undo_manager_api_for_attributes(a,"data-hour",e,c,!0)},this.controls.Minute.input=function(a,b){var c=b.value;1===c.toString().length&&(c="0"+c),this.component.compute_time_until(a,a.attr("data-date"),a.attr("data-hour"),c)},this.controls.Minute.update=function(a){this.setValue(parseInt(a.attr("data-min")))},this.controls.Minute.change=function(a,b){var c=b.value,d=c.toString().length,e=a.attr("data-min");1===d&&(c="0"+c),a.attr("data-min",c),this.component.undo_manager_api_for_attributes(a,"data-min",e,c,!0)}},compute_time_until:function(a,b,c,d){var e,f=new Date,g=new Date(b+"T"+c+":"+d+":00"+a.attr("data-timezone")),h=0,i=0,j=0,k=0;f<g&&(h=Math.floor((g.getTime()-f.getTime())/1e3),i=Math.floor(h/60),j=Math.floor(i/60),k=Math.floor(j/24),e=2,h%=60,i%=60,j%=24,k>99&&(e=k.toString().length)),this.set_date_values(a.find(".tve_t_day .t-digits"),k),this.set_date_values(a.find(".tve_t_hour .t-digits"),j),this.set_date_values(a.find(".tve_t_min .t-digits"),i),this.set_date_values(a.find(".tve_t_sec .t-digits"),h),f<g?a.find(".tve_t_day .t-digits").css("min-width",e*a.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px"):a.find(".tve_t_day .t-digits").css("min-width","")},trigger_change_date:function(){this.controls.EndDate.$(".tve-input-control").trigger("change")},set_date_values:function(a,b){if(a.empty(),b<=99)a.prepend('<span class="part-1">'+b%10+"</span>"),a.prepend('<span class="part-2">'+Math.floor(b/10)+"</span>");else for(var c=0;b;)c++,a.prepend('<span class="part-'+c+'">'+b%10+"</span>"),b=Math.floor(b/10)},countdown_style_control:function(){return c("../controls/style-change")},undo_manager_api_for_attributes:function(a,b,c,d,e){var f=this;e=void 0!==e&&e,TVE.UndoManager.add({undo:function(){void 0===c&&(c=""),a.attr(b,c),e&&this.changeTimer()},redo:function(){a.attr(b,d),e&&this.changeTimer()},changeTimer:function(){f.compute_time_until(a,a.attr("data-date"),a.attr("data-hour"),a.attr("data-min"))}})}})},"credit.js":function(a,b,c){var d=c("../base"),e=c("../controls/credit/style"),f=c("../controls/credit/cards");b.exports=d.component.extend({cardsCollection:new Backbone.Collection({}),controls_init:function(){this.controls.size.update=function(a){var b=a.head_css("font-size",null,null,!0);b||(b=a.find("svg").first().width()),this.setValue(b)},this.controls.size.input=function(a){a.head_css({"font-size":this.value("px")})},this.controls.monochrome_background.input=function(a){this.applyTo().head_css({fill:a},null,this.config.css_suffix)},this.controls.monochrome_background.update=function(a){var b=this.applyTo().head_css("fill",null,this.config.css_suffix);b||(b=this.config.config.default),this.setValue(b)},this.listenTo(this.cardsCollection,"reset-for-preview",_.bind(function(){var a=this.controls.cards_list.applyTo();this.controls.preview.update(a)},this)),this.listenTo(this.cardsCollection,"change",_.bind(function(a){var b=[],c=this.controls.cards_list.applyTo();this.cardsCollection.each(function(a){b.push(a.get("key"))},this),this.renderer.sort_element_cards(b),this.renderer.render_to(c)},this)),this.listenTo(this.cardsCollection,"remove",_.bind(function(a){var b=this.controls.cards_list.applyTo(),c=b.attr("data-cards").split(","),d=c.indexOf(a.get("key"));d>-1&&c.splice(d,1),b.attr("data-cards",c),b.find(".tcb-"+a.get("key")+"-card").remove()},this)),this.controls.preview.attach_collection(this.cardsCollection),this.controls.preview.update=function(a){var b=[],c=a.attr("data-cards").split(",");_.each(c,function(a,d){b.push({icon:this.component.renderer.get_card_template(c[d],!0),key:c[d],label:this.component.renderer.cards[a]})},this),this.component.cardsCollection.reset(b)};var a=this.config.stylePicker;a.config.items=this.renderer.get_styles(),this.controls.style.set_drop_panel(new e({model:a,renderer:this.renderer,collection:this.cardsCollection}));var b=this.config.cards;b.config.items=this.renderer.get_cards(),this.controls.cards_list.set_drop_panel(new f({model:b,renderer:this.renderer,collection:this.cardsCollection}))},credit_style_control:function(){return c("../controls/style-change")},card_preview_control:function(){return c("../controls/preview-list")}})},"decoration.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({decoration:function(){return c("../controls/decoration/decoration")}})},"divider.js":function(a,b,c){var d=c("../base"),e=c("../controls/divider/style");b.exports=d.component.extend({oldColor:null,oldThickness:null,needs_update:function(a){return!a.hasClass("thrv-divider")},migrate_element:function(a){a.addClass("thrv-divider"),a.attr("data-color","rgb(217, 217, 217)"),a.attr("data-thickness","10");var b=a.find("hr"),c=b.attr("class").split(" "),d="tve_sep1",e=c.indexOf("tve_sep");e>-1&&c.splice(e,1),1===c.length&&(d=c[0]);var f=d.slice(-1),g="tve_sep-"+f;b.removeClass(d).addClass(g),a.attr("data-style","tve_sep-"+f),this.addDividerHeadCss(a)},controls_init:function(a){this.controls.divider_color.input=function(a){var b=this.applyTo();b.attr("data-color",this.component.$el.find(".color-input").val()),this.component.addDividerHeadCss(b)},this.controls.divider_color.change=function(a){var b=this.applyTo();b.attr("data-color",this.component.$el.find(".color-input").val()),this.component.addDividerHeadCss(b),this.component.undo_manager_api(b,"data-color",this.oldColor,b.attr("data-color"))},this.controls.divider_color.update=function(a){this.setValue(a.attr("data-color")),this.oldColor=a.attr("data-color")},this.controls.thickness.input=function(a,b){a.attr("data-thickness",b.value),this.component.addDividerHeadCss(a)},this.controls.thickness.update=function(a){this.setValue(a.attr("data-thickness")),this.oldThickness=a.attr("data-thickness")},this.controls.thickness.change=function(a,b){a.attr("data-thickness",b.value),this.component.addDividerHeadCss(a),this.component.undo_manager_api(a,"data-thickness",this.oldThickness,b.value)};var b=this.config.style;this.controls.style.set_drop_panel(new e({model:b,component:this}))},constructObject:function(a){var b=a.attr("data-style"),c=a.attr("data-color")?a.attr("data-color"):"rgb(217, 217, 217)",d=a.attr("data-thickness")?a.attr("data-thickness"):10,e={"background-image":"",height:"","background-size":"","border-width":"","border-color":""};return b&&b.length>0&&this.config.style.config.items[b]&&("tve_sep-1"===b?(e["border-width"]=d+"px",e["border-color"]=c):(e.height=d+"px",e["background-size"]=d+"px "+d+"px",e["background-image"]='url("'+this.config.style.config.items[b].background_image.replace("%thrive%",c)+'")')),e},addDividerHeadCss:function(a){var b=this.constructObject(a);a.head_css(b,null," .tve_sep")},undo_manager_api:function(a,b,c,d){var e=this;TVE.UndoManager.add({undo:function(){a.attr(b,c),e.addDividerHeadCss(a)},redo:function(){a.attr(b,d),e.addDividerHeadCss(a)}})},divider_style_control:function(){return c("../controls/style-change")}})},"fillcounter.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({extra_states:!0,needs_update:function(a){return!a.hasClass("thrv-fill-counter")},migrate_element:function(a){var b=a.find(".tve_fill_text_value").html(),c=a.find(".tve_fill_text_value .tve_fill_text_before").css("color"),d=a.find(".tve_fill_text_value .tve_fill_text").css("color"),e=a.find(".tve_fill_text_value .tve_fill_text_after").css("color");a.head_css(a.css(["margin","padding","border-width","border-width","border-style","border-color","border-image"])),a.attr("style",""),a.find(".tve_fill_text_value").html('<div class="thrv-inline-text tve_fill_text tve_editable">'+b.replace(/(\n|\r)/g,"")+"</div>"),a.find(".tve_fill_text_value .tve_fill_text_before").head_css({color:c+" ! important"}).removeAttr("data-tve-custom-colour"),a.find(".tve_fill_text_value .tve_fill_text").head_css({color:d+" ! important"}).removeAttr("data-tve-custom-colour"),a.find(".tve_fill_text_value .tve_fill_text_after").head_css({color:e+" ! important"}).removeAttr("data-tve-custom-colour"),a.find(".tve_data_element_label").addClass("thrv-inline-text tve_editable"),a.find(".tve_fill_text").head_css({color:a.find(".tve_fill_text").css("color")+" ! important"}),a.find(".tve_fill_text_in").head_css({"background-color":a.find(".tve_fill_text_in").css("background-color")}).removeAttr("data-tve-custom-colour"),a.find(".tve_data_element_label").head_css({color:a.find(".tve_data_element_label").css("color")+" ! important"}),a.find(".tve_data_element_label").head_css({color:a.find(".tve_fill_text_in").css("color")}),a.find(".tve_fill_counter_circle circle").head_css({stroke:a.find(".tve_fill_counter_circle circle").css("stroke")+" ! important"}),a.addClass("thrv-fill-counter").removeClass("thrv_fill_counter")},controls_init:function(a){var b=this;this.controls.CircleColor.change=function(a){this.input(a)},this.controls.CircleColor.input=function(a){this.applyTo().find(".tve_fill_counter_circle").head_css({"background-color":a+"! important"})},this.controls.CircleColor.update=function(a){this.setValue(a.find(".tve_fill_counter_circle").css("background-color"))},this.controls.FillColor.change=function(a){this.input(a)},this.controls.FillColor.input=function(a){this.applyTo().find(".tve_fill_counter_circle circle").head_css({stroke:a+"! important"})},this.controls.FillColor.update=function(a){this.setValue(a.find(".tve_fill_counter_circle circle").css("stroke"))},this.controls.InnerColor.change=function(a){this.input(a)},this.controls.InnerColor.input=function(a){this.applyTo().find(".tve_fill_text_in").head_css({"background-color":a})},this.controls.InnerColor.update=function(a){this.setValue(a.find(".tve_fill_text_in").css("background-color"))},this.controls.CounterSize.input=function(a,c){b.apply_size(a,c.value),TVE.Editor_Page.reposition_icons()},this.controls.CounterSize.change=function(a,d){var e=d.value;this.input(a,d),TVE.UndoManager.add({undo:function(){TVE.SKIP_CSS_STATE=!0,b.apply_size(a,c),TVE.SKIP_CSS_STATE=!1},redo:function(){TVE.SKIP_CSS_STATE=!0,b.apply_size(a,e),TVE.SKIP_CSS_STATE=!1}})};var c;this.controls.CounterSize.update=function(a){c=a.find(".tve_fill_counter_circle").width(),this.setValue(c)},a.CounterSize.afterConfig=function(){this.model.config.max=parseInt(this.applyTo().parent().width())},this.controls.FillPercent.input=function(a,c){b.apply_fill(a,c.value)},this.controls.FillPercent.change=function(a,c){var e=c.value;this.input(a,c),TVE.UndoManager.add({undo:function(){TVE.SKIP_CSS_STATE=!0,b.apply_fill(a,d),TVE.SKIP_CSS_STATE=!1},redo:function(){TVE.SKIP_CSS_STATE=!0,b.apply_fill(a,e),TVE.SKIP_CSS_STATE=!1}})};var d;this.controls.FillPercent.update=function(a){d=a.attr("data-fill"),d||(d=75,a.attr("data-fill",d),a.head_css({width:d+"%"})),this.setValue(d)}},apply_fill:function(a,b){var c=Number(b),d=a.find(".tve_fill_counter_circle circle").attr("r"),e=Math.PI*(2*d);a.attr("data-fill",c),c<0&&(c=0),c>100&&(c=100),a.attr("style","");var f=c/100*e;a.head_css({"stroke-dasharray":f+" "+e})},apply_size:function(a,b){var c=b/2,d=a.find(".tve_fill_counter_n").attr("data-fill"),e=b/20;a.find(".tve_fill_counter_circle circle").attr("r",c).attr("cx",c).attr("cy",c),a.find(".tve_fill_counter_circle").get(0).setAttribute("viewBox","0 0 "+b+" "+b),a.find(".tve_fill_counter_circle").head_css({width:b+"px !important",height:b+"px !important"}),a.find(".tve_fill_counter_circle circle").head_css({"stroke-width":2*e+1+"px !important"}),a.find(".tve_fill_text_in").head_css({width:b-2*e+"px !important",height:b-2*e+"px !important",top:e+"px !important",bottom:e+"px !important",left:e+"px !important",right:e+"px !important"}),a.find(".tve_fill_text_value").head_css({"margin-top":.25*b+"px !important"}),a.find(".tve_fill_text").head_css({"font-size":.3*b+"px !important","line-height":.3*b+"px !important"}),a.find(".tve_fill_text .fr-element span").css("font-size",""),a.find(".tve_data_element_label").head_css({"font-size":.085*b+"px !important","line-height":.085*b+"px !important"}),this.apply_fill(a.find(".tve_fill_counter_n"),d)}})},"gmap.js":function(a,b,c){var d,e,f=c("../base"),g="https://maps.google.com/maps?q=New%20York&t=m&z=10&output=embed&iwloc=near";b.exports=f.component.extend({controls_init:function(a){this.controls.zoom.input=function(a,b){},this.controls.zoom.update=function(a){if(a.find("iframe").length>0){var b=a.find("iframe").attr("src"),c=this.config.config.default;-1===b.indexOf("!2s")&&-1===b.indexOf("!5e0!")&&(c=TVE.getUrlParam(b,"z")),d=c,this.setValue(c)}},this.controls.zoom.change=function(a,b){var c=a.find("iframe").attr("src"),f=b.value;if(c){var h=TVE.setOrReplaceUrlParam(g,"z",f);h=TVE.setOrReplaceUrlParam(h,"q",e),a.find("iframe").attr("src",h),d=f}},this.controls.address.update=function(a){if(a.find("iframe").length>0){var b=a.find("iframe").attr("src"),c="New York";if(-1!==b.indexOf("!2s")&&-1!==b.indexOf("!5e0!")){var d=b.match(new RegExp("!2s(.*)!5e0!"));d&&d[1]&&(c=decodeURIComponent(d[1]))}else c=TVE.getUrlParam(b,"q");e=c,this.setValue(c)}},this.controls.address.change=function(a,b){if(a.find("iframe").attr("src")){var c=TVE.setOrReplaceUrlParam(g,"z",d);c=TVE.setOrReplaceUrlParam(c,"q",b.value),a.find("iframe").attr("src",c),e=b.value}}}})},"html.js":function(a,b,c){TVE.CustomHTML=c("../modals/custom-html");var d=c("../base");b.exports=d.component.extend({controls_init:function(a){this.customHtmlInstance=TVE.CustomHTML.get_instance(TVE.modal.get_element("custom-html"))},edit_html_content:function(){this.placeholder_action()},placeholder_action:function(){this.customHtmlInstance.open({css:{width:"60%",left:"20%"}})}})},"icon.js":function(a,b,c){var d=c("../base");TVE.IconsModal=c("../modals/icons"),b.exports=d.component.extend({extra_states:!0,controls_init:function(){this.controls.Slider.update=function(a){this.setValue(a.head_css("font-size",!1,"",!0,this.config.css_prefix))},this.controls.Slider.input=function(a,b){a.head_css({"font-size":b.value+this.getUM(),width:b.value+this.getUM(),height:b.value+this.getUM()},null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.Slider.change=function(a,b){this.input(a,b),TVE.Editor_Page.reposition_icons()},this.controls.Slider.onChange=function(a,b){var c=parseInt(b.value);c=isNaN(c)?0:c,c>parseInt(this.model.config.max)&&(b.value=this.model.config.max),c<parseInt(this.model.config.min)&&(b.value=this.model.config.min),this.setValue(b.value+this.getUM()),TVE.SkipUpdate=!1,this.change(a,b)},this.controls.ColorPicker.update=function(a){this.setValue(a.css("color"))},this.controls.ColorPicker.input=function(a){this.applyTo().head_css({color:a},!1,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(a,b){var c;if(b.icon.is(".tve-svg-icon")){var d=jQuery("symbol#"+b.icon.data("cls"));c=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").first().text()})}else c='<span data-name="'+b.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+b.icon.data("cls")+'"></span>';a.head_css("font-size").length<=0&&!a.hasClass("tcb-icon-inherit-style")&&a.head_css({"font-size":"60px"}),a.html(c),this.update(a)},this.controls.ModalPicker.update=function(a){var b=a.children().first(),c=b.attr("data-name");c=c||(b.attr("data-tve-icon")?b.attr("data-tve-icon").replace("icon-",""):""),this.updateValue(c)}},placeholder_action:function(){this.controls.ModalPicker.openModal()}})},"image-effects.js":function(a,b,c){!function(a){var d=c("../base");b.exports=d.component.extend({extra_states:!0,controls_init:function(b){var c=this;this.controls.ImageGreyscale.input=function(a,b){var d=c.controls.ImageBlur.value(),e="grayscale("+b.value+this.getUM()+") blur("+d+c.controls.ImageBlur.getUM()+")";a.head_css({filter:e},null," img")},this.controls.ImageGreyscale.update=function(b){var c=b.head_css("filter",null," img",!0),d=0,e=c.split(" ");a.each(e,function(a,b){if(0===b.indexOf("grayscale")){var c=/\(([^)]+)\)/,e=c.exec(b);d=e[1]}}),this.setValue(d)},this.controls.ImageOpacity.input=function(a,b){a.head_css({opacity:b.value/100},null," img")},this.controls.ImageOpacity.update=function(a){var b=a.head_css("opacity",!1," img",!0);this.setValue(100*b)},this.controls.ImageBlur.input=function(a,b){var d=c.controls.ImageGreyscale.value(),e="grayscale("+d+c.controls.ImageGreyscale.getUM()+") blur("+b.value+this.getUM()+")";a.head_css({filter:e},!1," img")},this.controls.ImageBlur.update=function(b){var c=b.head_css("filter",!1," img",!0),d=0,e=c.split(" ");a.each(e,function(a,b){if(0===b.indexOf("blur")){var c=/\(([^)]+)\)/,e=c.exec(b);d=e[1]}}),this.setValue(d)},this.controls.ImageOverlaySwitch.change=function(c,d){d.checked?a('<span class="tve-image-overlay"></span>').insertAfter(c.find("img")):c.find(".tve-image-overlay").remove(),b.ImageOverlay.$el[d.checked?"show":"hide"](),b.ImageOverlay.update()},this.controls.ImageOverlaySwitch.update=function(a){var c=!1;a.find(".tve-image-overlay").length>0&&(c=!0),b.ImageOverlay.$el[c?"show":"hide"](),this.setChecked(c)},this.controls.ImageOverlay.input=function(b){var c=this.applyTo(),d=c.find(".tve-image-overlay");0===d.length&&(a('<span class="tve-image-overlay"></span>').insertAfter(c.find("img")),d=c.find(".tve-image-overlay")),d.head_css({background:b})},this.controls.ImageOverlay.update=function(){var a=this.applyTo().find(".tve-image-overlay"),b="";a.length>0&&(b=a.css("background-color")),this.setValue(b||null)}}})}(jQuery)},"image.js":function(a,b,c){var d=c("../base"),e=c("../../libs/element-snapshot");b.exports=d.component.extend({placeholder_action:function(){this.controls.ImagePicker.change_placeholder()},controls_init:function(){var a=this;this.controls.ImageSize.input=function(a,b){var c={};c[this.config.config.css]=b.value+this.getUM(),a.head_css(c),a.css("width",""),a.find("img").css("width","100%").end().find(".tve_image_frame").css("width","100%"),TVE.Editor_Page.reposition_icons()},this.controls.ImageSize.change=function(a,b){var c={};"auto"===b.value&&(b.value=this.model.config.max),parseInt(b.value)<this.config.config.min&&(b.value=this.config.config.min),c[this.config.config.css]=b.value+this.getUM(),a.head_css(c),a.css("width",""),a.find("img").css("width","100%")},this.controls.ImageSize.update=function(a){var b=a.head_css(this.config.config.css,null,null,!0);b||(b=a.css("width")),this.setValue(b)},this.controls.ImageTitle.update=function(){var a=this.applyTo().find("img"),b=a.attr("title");this.setValue(b)},this.controls.ImageTitle.change=function(){var b=a.stripHtml(this.$("input").val());this.applyTo().find("img").attr("title",b)},this.controls.ImageAltText.update=function(){var a=this.applyTo().find("img"),b=a.attr("alt");this.setValue(b)},this.controls.ImageAltText.change=function(){var b=a.stripHtml(this.$("input").val());this.applyTo().find("img").attr("alt",b)},this.controls.ImageCaption.update=function(){this.setChecked(this.applyTo().find(".wp-caption-text").length>0)},this.controls.ImageCaption.change=function(a,b){b.checked?a.append('<p class="wp-caption-text thrv-inline-text">'+TVE.t.EditImageCaption+"</p>"):(a.find(".wp-caption-text").remove(),a.find(".thrv_wrapper").remove())},this.controls.ImageFullSize.update=function(){this.setChecked(TVE.Components.animation.has_action("click","thrive_zoom"))},this.controls.ImageFullSize.change=function(a,b){if(b.checked){var c=this.applyTo().find("img"),d={};return c.attr("data-id")&&(d.id=c.attr("data-id"),d.size="full"),void TVE.Components.animation.add_action("click","thrive_zoom",d)}TVE.Components.animation.remove_action("click","thrive_zoom")},this.controls.ImageLink.change=function(a,b){var c=a.find("img").closest("a[href]");0===c.length&&(c=a.find("img, .tve-image-overlay").wrapAll('<a href=""></a>').parent(),a.find("img").data("link-wrap",!0)),c&&(b.value.length>0?(e(function(){c.attr("href",b.value),TVE.preserve_changed_link(c)},a),TVE.Components.animation.update()):(a.find("img").unwrap(),this.component.controls.LinkNewTab.update(a),this.component.controls.LinkNoFollow.update(a)))},this.controls.ImageLink.update=function(a){var b=a.find("img").closest("a[href]");b.length?this.setValue(b.attr("data-tcb-href")||b.attr("href")):this.setValue("")},this.controls.LinkNewTab.update=function(a){var b=a.find("img").closest("a[href]");if(b.length>0){var c=b.attr("target");void 0!==c&&!1!==c&&"_blank"===c?this.setChecked(!0):this.setChecked(!1)}else this.setChecked(!1)},this.controls.LinkNewTab.change=function(a,b){e(function(){var c=a.find("img").closest("a[href]");c.attr("target");b.checked?c.attr("target","_blank"):c.removeAttr("target")},a)},this.controls.LinkNoFollow.update=function(a){var b=a.find("img").closest("a[href]");if(b.length>0){var c=b.attr("rel");void 0!==c&&"nofollow"===c?this.setChecked(!0):this.setChecked(!1)}else this.setChecked(!1)},this.controls.LinkNoFollow.change=function(a,b){e(function(){a.find("img").closest("a[href]").attr("rel",b.checked?"nofollow":"")},a)},this.controls.ImagePicker.update=function(){},this.controls.ImagePicker.on("change",function(a){if(a.link_url){var b=TVE.ActiveElement.find("a");b.is("a")?b.attr("href",a.link_url):TVE.ActiveElement.find("img").data("link-wrap",!0).wrap('<a href="'+a.link_url+'" rel=""></a>')}TVE.ActiveElement.head_css({width:a.width+"px"}),TVE.Editor_Page.reposition_icons(),this.component.controls.ImageSize.update(TVE.ActiveElement),TVE.Components.animation.update(),TVE.drag.refresh()})},open_style_picker:function(a,b){return b=b.parentElement.getElementsByClassName("tcb-icon-edit")[0],this.controls.StylePicker.open(null,b),!1},style_picker_control:function(){return c("../controls/image/style")},stripHtml:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.textContent||b.innerText||""}})},"landing-page":{"lp-advanced.js":function(a,b,c){var d=c("../../base"),e=c("../../controls/checkbox");b.exports=d.component.extend({controls_init:function(){var a=new e({el:this.$el.find(".strip-css"),model:{config:{label:"Do not strip out Custom CSS from the <b>&lt;head&gt;</b> section"}}});a.change=function(){TVE.CONST.tve_globals.do_not_strip_css=this.isChecked()?1:0},a.update=function(){this.setChecked(TVE.CONST.tve_globals.do_not_strip_css)},a.update()}})},"lp-base.js":function(a,b,c){var d=c("../../base"),e=".tve_post_lp > div > #tve_editor";b.exports=d.component.extend({controls_init:function(a){function b(b,d){c.$(".width-setting")[b?"show":"hide"](),void 0!==d&&d&&a.ContentFullWidth.setChecked(!b)}var c=this;a.ContentWidth.input=function(a,b){TVE.head_css(e,{"max-width":b.value+this.getUM(),padding:"0 20px"}),TVE.head_css(e,{padding:"0 10px"},TVE.main.media_query_tpl("mobile"))},a.ContentWidth.update=function(a){var c=TVE.head_css_get(e,"max-width",null,!0);"none"===c?b(!1,!0):(b(!0,!0),this.model.config.max=parseInt(a.parent().width()),this.setValue(c))},a.ContentFullWidth.change=function(a,d){var f={"margin-left":"","margin-right":"","max-width":"",padding:""};b(!d.checked,!1),d.checked?TVE.head_css(e,{padding:""},TVE.main.media_query_tpl("mobile")):(f["margin-left"]="auto",f["margin-right"]="auto",f.padding="0 20px",f["max-width"]=c.controls.ContentWidth.value(!0),TVE.head_css(e,{padding:"0 10px"},TVE.main.media_query_tpl("mobile"))),TVE.head_css(e,f)},a.ContentFullWidth.update=function(a){},this.controls.RemoveThemeCss.change=function(a,b){TVE.main.overlay(),TVE.ajax("theme_css","post",{checked:b.checked,post_id:TVE.CONST.post_id}).success(function(){TVE.main.$frame[0].contentWindow.location.reload(!0)})},this.controls.RemoveThemeCss.update=function(a){this.setChecked("1"===TVE.CONST.theme_dependency)}}})},"lp-fonts.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({initialize:function(a){this.components={},this.key="lp-fonts",this.components_init(this.components),TVE.main.on("element_selected",function(){TVE.ActiveElement.is(".thrv-lp-text")&&setTimeout(function(){"1"===TVE.ActiveElement.attr("data-all-texts")?TVE.$("#tve-lp-text-layout-component, #tve-lp-text-background-component, #tve-lp-text-borders-component, #tve-lp-text-shadow-component").hide():(TVE.$("#tve-lp-text-layout-component, #tve-lp-text-background-component, #tve-lp-text-borders-component, #tve-lp-text-shadow-component").show(),"a:not(.tcb-button-link)"===TVE.ActiveElement.attr("data-apply")&&TVE.$("#tve-lp-text-layout-component, #tve-lp-text-background-component, #tve-lp-text-borders-component, #tve-lp-text-shadow-component").hide())},1)})},components_init:function(a){},edit_font_options:function(){TVE.inner_$("#tve_editor").append(TVE.tpl("landing-pages/lp-text-templates")()),TVE.inner_$(".thrv-lp-text").first().click(),TVE.inner_$(".tve-landing-page-text-preview").scroll(function(){TVE.Editor_Page.reposition_icons()}),this.$states_element=TVE.$('<div id="tve-lp-text-states" class="element-states tcb-relative tcb-hidden"></div>'),this.$states_element.insertBefore(TVE.$("#tve-lp-text-layout-component")),this.states_dropdown=new(c("./../../controls/element-states"))({el:TVE.$("#tve-lp-text-states")[0]}),this.states_dropdown.on("state_change",function(a){TVE.Components["lp-text-typography"].controls.LinkStates.change(null,a)}),this.states_dropdown.on("done",function(){TVE.Components["lp-text-typography"].controls.LinkStates.change(null,"default")}),TVE.body_overlay(),TVE.prevent_blur=!0,TVE.inner_$("#tcb-close-lp-fonts-btn").off("click").on("click",jQuery.proxy(this.close_font_options,this))},close_font_options:function(){TVE.inner_$(".tve-landing-page-text-preview").remove(),TVE.remove_overlay(),TVE.prevent_blur=!1,this.states_dropdown.destroy(),delete this.states_dropdown,this.$states_element.remove(),TVE.Editor_Page.blur(),TVE.main.switch_menu_to("templates"),TVE.$(".setting-item[data-setting='lp_settings']").trigger("click")}})},"lp-scripts.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({controls_init:function(){this.$("textarea").each(function(){this.value=TVE.CONST.tve_global_scripts[this.getAttribute("data-location")]||""}).on("blur",function(){TVE.CONST.tve_global_scripts[this.getAttribute("data-location")]=this.value})}})},"lp-text-background.js":function(a,b,c){var d=c("../background"),e=c("../../../collections/gradient"),f=new e;b.exports=d.extend({controls_init:function(){d.prototype.controls_init.call(this),this.important=!1;var a=this;this.controls.ColorPicker.input=function(a){var b=TVE.ActiveElement.attr("data-apply");_.each(b.split(","),function(b,c){b=b.trim(),b="h"===b.charAt(0)?'[data-tag="'+b+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(b,{"background-color":a})},this)},this.controls.ColorPicker.update=function(b){this.setValue(TVE.readLandingPageCSS(a.get_selector(),"background-color"))}},get_collection:function(){return f},apply_css:function(){if(!this.get_collection().DURING_UPDATE){var a=TVE.ActiveElement.attr("data-apply");_.each(a.split(","),function(a,b){a=a.trim(),a="h"===a.charAt(0)?'[data-tag="'+a+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(a,this.get_css())},this)}},get_selector:function(){var a=TVE.ActiveElement.attr("data-apply"),b=a.split(",")[0].trim();return b="h"===b.charAt(0)?'[data-tag="'+b+'"] ':"."+TVE.ActiveElement.attr("data-element-class")}})},"lp-text-layout.js":function(a,b,c){var d=c("../layout");b.exports=d.extend({controls_init:function(a){var b=this;d.prototype.controls_init.call(this),this.controls.MarginAndPadding.update=function(){var a=this,c=b.get_selector();_.each(this.sides,function(b){a.setValue("margin",parseInt(TVE.readLandingPageCSS(c,"margin-"+b)||0),b),a.setValue("padding",parseInt(TVE.readLandingPageCSS(c,"padding-"+b)||0),b)})},this.controls.MarginAndPadding.getValue=function(a,c,d){if(-1!==this.sides.indexOf(c)&&a){var e=b.get_selector(),f=parseInt(TVE.readLandingPageCSS(e,a+"-"+c));return"auto"===f?f:(""!==f&&f||(f=0),void 0===d&&(f=this.parse(f),isNaN(f)&&(f=0)),f)}},this.controls.MarginAndPadding.change=function(a,b){var c=b.getAttribute("data-style"),d=b.getAttribute("data-side"),e=this.getUM(),f={},g=this,h=TVE.ActiveElement.attr("data-apply");this.error(this.validate(c,d)),this.link?_.each(this.sides,function(a){f[c+"-"+a]=b.value+e+"!important",g.setValue(c,b.value,a)}):f[c+"-"+d]=b.value+e+"!important",_.each(h.split(","),function(a,b){a=a.trim(),a="h"===a.charAt(0)?'[data-tag="'+a+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(a,f)},this)},this.controls.MarginAndPadding.setValue=function(a,b,c,d){if("padding"===a&&b<0&&(b=0),-1!==this.sides.indexOf(c)&&(this.$el.find(".tve-input."+c+'[data-style="'+a+'"]').val(b),this.error(this.validate(a,c)),d)){var e={},f=TVE.ActiveElement.attr("data-apply");e[a+"-"+c]=b+(isNaN(b)?"":this.getUM()),_.each(f.split(","),function(a,b){a=a.trim(),a="h"===a.charAt(0)?'[data-tag="'+a+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(a,e)},this),TVE.Editor_Page.reposition_icons()}}},get_selector:function(){var a=TVE.ActiveElement.attr("data-apply"),b=a.split(",")[0].trim();return b="h"===b.charAt(0)?'[data-tag="'+b+'"] ':"."+TVE.ActiveElement.attr("data-element-class")}})},"lp-text-shadow.js":function(a,b,c){var d=c("../shadow");b.exports=d.extend({change:function(a){var b={},c=TVE.ActiveElement.attr("data-apply");b[this.css_attribute]=this.buildShadowAttribute(this.collection),_.each(c.split(","),function(a,c){a=a.trim(),a="h"===a.charAt(0)?'[data-tag="'+a+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(a,b)},this)},update:function(){var a=TVE.ActiveElement.attr("data-apply"),b=a.split(",")[0].trim();b="h"===b.charAt(0)?'[data-tag="'+b+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),this.renderShadowAttributes(this.parseCss(TVE.inner_$(TVE.buildLandingPageSelector(b,"")).css(this.css_attribute)))}})},"lp-text-typography.js":function(a,b,c){function d(a,b,c,d){""===a&&(a=TVE.ActiveElement.attr("data-apply")),a=a.replace("p, li","p,"),_.each(a.split(","),function(a,e){var f=a.trim();"p"===f&&(f="p, li"),f.length&&TVE.writeLandingPageCSS(f,b,c,d)},this)}var e=c("../typography"),f=c("../shadow"),g=c("../../controls/shadow"),h=f.extend({controls_init:function(){var a=this;this.collection=new Backbone.Collection,this.bindListeners(),this.tabs={panels:{}},this.tabs.panels.text=new g({collection:a.collection,simplified:!0}),this.setCssAttribute({css_attribute:"text-shadow"})},applyTo:function(){return this.$element},readFrom:function(){return this.$element},change:function(){var a={};a[this.css_attribute]=this.buildShadowAttribute(this.collection),d("",a)},update:function(){this.renderShadowAttributes(this.parseCss(TVE.readLandingPageCSS(TVE.ActiveElement.attr("data-apply"),this.css_attribute)))},getDefaultValues:function(){return{angle:320,color:"rgba(0, 0, 0, 0.4)",distance:3,blurr:2,spread:0}},add_shadow:function(a,b){TVE.SkipUpdate=!0;var c=this.tabs.panels.text,d=this.getDefaultValues();return this.setBackup(),c.updateControls(null,null,d),c.isOpen()?(c.onCancel(),!1):(c.open(null,b),!1)},edit_shadow:function(a,b){
var c=b.getAttribute("data-index"),d=this.collection.findWhere({index:Number(c)});this.setBackup();var e=this.tabs.panels.text;return e.updateControls(d,null),e.isOpen()?(e.onCancel(),!1):(e.open(null,b),a.stopPropagation(),!1)}});b.exports=e.extend({selector:null,controls_init:function(a){function b(){var a="";return this.$('.tve-btn.active[data-style="text-decoration"]').each(function(){a+=(a?" ":"")+this.dataset.value}),a||"none"}var c=this;TVE.main.on("element_selected",function(){TVE.ActiveElement.is(".thrv-lp-text")&&(c.selector=TVE.ActiveElement.attr("data-apply"))}),a.TextShadow=new h({el:this.$(".text-shadow-component")[0]}),a.TextShadow.controls_init(),a.LinkStates.update=function(a){var b=this.component.$el.find('.tve-control[data-key="LinkStates"]'),c=TVE.$("#tve-lp-text-states");"a:not(.tcb-button-link)"===a.attr("data-apply")?(b.show(),this.component.$el.find(".lp-text-hide-states").hide(),c.removeClass("tcb-hidden")):(b.hide(),this.component.$el.find(".lp-text-hide-states").show(),c.addClass("tcb-hidden")),this.setActive("default")},a.LinkStates.change=function(b,d){"hover"===d?(c.selector="a:not(.tcb-button-link):hover",TVE.ActiveElement.find("a").addClass("tve_state_hover")):(c.selector="a:not(.tcb-button-link)",TVE.ActiveElement.find("a").removeClass("tve_state_hover")),a.FontColor.update(),a.TextStyle.update(),a.TextTransform.update()},a.FontSize.input=function(a,b){c.setStyle({"font-size":b.value+this.getUM()})},a.FontSize.update=function(){this.setValue(c.readCssRule("font-size"))},a.FontColor.input=function(a){c.setStyle({color:a})},a.FontColor.update=function(){this.setValue(c.readCssRule("color"))},a.LineHeight.input=function(a,b){c.setStyle({"line-height":b.value+this.getUM()})},a.LineHeight.update=function(a){this.setValue(c.readCssRule("line-height"))},a.LetterSpacing.input=function(a,b){c.setStyle({"letter-spacing":b.value+this.getUM()})},a.LetterSpacing.update=function(){this.setValue(c.readCssRule("letter-spacing"))},a.FontFace.update=function(a){this.initial_font=c.readCssRule("font-family"),this.initial_weight=c.readCssRule("font-weight"),this.setInputValue(this.initial_font)},a.FontFace.writeCSS=function(a,b,d,e){var f={"font-family":b,"font-weight":""};d&&(f["font-weight"]=d),c.setStyle(f),e&&c.setStyle({"font-weight":e}," strong")},a.FontFace.setInputValue=function(a){void 0===a&&(a=c.readCssRule("font-family")),a=a.length&&"inherit"===this.section?"Inherit: ["+a+"]":a,c.$(".font-face-input").val(a)},a.TextAlign.change=function(a,b){c.setStyle({"text-align":b.getAttribute("data-value")})},a.TextAlign.update=function(){this.setActive(c.readCssRule("text-align"))},a.TextStyle.change=function(a,d){var e=d.dataset.style,f=d.classList.contains("active"),g={};g[e]=f?d.getAttribute("data-value"):"",e&&"text-decoration"===e?g[e]=b.call(this):f||(g[e]=d.dataset.off),c.setStyle(g)},a.TextStyle.update=function(a){var b=[];_.each(this.model.config.buttons,function(a){var d=c.readCssRule(a.data.style);d&&-1!==d.indexOf(a.value)&&b.push(a.value)}),this.setActive(b)},a.TextTransform.change=function(a,b){c.setStyle({"text-transform":b.getAttribute("data-value")})},a.TextTransform.update=function(a){this.setActive(c.readCssRule("text-transform"))}},clear_landing_page_text_formatting:function(){var a={"font-size":"",color:"","line-height":"","letter-spacing":"","font-family":"","font-weight":"","text-align":"","text-decoration":"","text-transform":""};this.setStyle(a),TVE.Components["lp-text-typography"].update()},setStyle:function(a,b,c){d(this.selector,a,b,c)},readCssRule:function(a){return null===this.selector?"":TVE.readLandingPageCSS(this.selector,a)}})}},"layout.js":function(a,b,c){function d(a){var b=new RegExp("("+["thrv_text_element","thrv_heading","thrv-columns","thrv-content-box","thrv_tw_qs","thrv_content_reveal","thrv_custom_html_shortcode","thrv_widget_menu","thrv-divider","thrv-progress-bar","thrv-styled_list","thrv_contents_table","thrv-tabbed-content","thrv_toggle_shortcode","thrv_responsive_video","tve_wp_shortcode"].join("|")+")");return a.className.toString().match(b)}var e=c("../base"),f=c("../controls/margin-padding"),g=c("../controls/max-width"),h=c("../controls/button-group"),i=c("../controls/input"),j=c("../controls/position-from");b.exports=e.component.extend({template:TVE.tpl("controls/layout"),initialize:function(){this.render(),this.hide(),this.controls={MarginAndPadding:new f({el:this.$('.tve-control[data-view="MarginAndPadding"]')}),MaxWidth:new g({el:this.$('.tve-control[data-view="MaxWidth"]'),model:{config:{min:1,max:100,label:TVE.t.Max_Width,um:["px","%"],css:"maxWidth"}}}),Alignment:new h({el:this.$('.tve-control[data-view="Alignment"]'),model:{config:{name:"Alignment",is_advanced:!0,buttons:[{icon:"none",value:"none",default:!0},{icon:"a_left",value:"left"},{icon:"a_center",value:"center"},{icon:"a_right",value:"right"}]}}}),Float:new h({el:this.$('.tve-control[data-view="Float"]'),model:{config:{name:TVE.t.Float,buttons:[{icon:"none",value:"both"},{icon:"check",value:"none",default:!0}]}}}),Position:new h({el:this.$('.tve-control[data-view="Position"]'),model:{config:{name:TVE.t.Position,buttons:[{icon:"",text:"Auto",value:"auto",default:!0},{icon:"",text:"Relative",value:"relative"},{icon:"",text:"Absolute",value:"absolute"}]}}}),zIndex:new i({el:this.$('.tve-control[data-view="zIndex"]'),model:{config:{name:TVE.t.Zindex,type:"number",min:0}}}),PositionFrom:new j({el:this.$('.tve-control[data-view="PositionFrom"]')})},this.controls_init(this.controls)},controls_init:function(a){var b=this;b.controls.Alignment.change=function(a,c){var e,f=c.getAttribute("data-value"),g=a.parent(),h=!1,i=g.hasClass("tcb-clear");-1!==["left","right"].indexOf(f)?(e={float:f,"z-index":3,position:"relative"},a.head_css("z-index")&&delete e["z-index"],d(a[0])&&(e.width="100%"),a.head_css(e),g.hasClass("tcb-clear")||(a.wrap('<div class="tcb-clear"></div>'),g=a.parent()),a.attr("data-float")||g.head_css({clear:"both"},null,"::after")):"center"===f?(a.head_css({"margin-left":"auto !important","margin-right":"auto !important"}),e={float:"none"},d(a[0])&&(e.width=""),a.head_css(e),b.controls.MarginAndPadding.update(b.controls.MarginAndPadding.readFrom()),h=!0):(e={float:"",position:"","z-index":"","margin-left":"","margin-right":""},d(a[0])&&(e.width=""),a.head_css(e),h=!0),h&&(a.removeAttr("data-float"),b.controls.Float.update(),i&&a.unwrap()),b.controls.MarginAndPadding.update(b.controls.MarginAndPadding.readFrom()),b.controls.Position.update(),b.controls.zIndex.update(),TVE.Editor_Page.reposition_icons()},b.controls.Alignment.update=function(){var a=this.applyTo(),c=a.head_css("float",null,"",!0);if(-1!==["left","right"].indexOf(c))this.setActive(c);else if((a.hasClass("thrv_icon")||a.hasClass("thrv-button"))&&""==a.head_css("margin-left")&&""==a.head_css("margin-left"))this.setActive("center");else{var d=b.controls.MarginAndPadding.getValue("margin","left"),e=b.controls.MarginAndPadding.getValue("margin","right");"auto"===d&&"auto"===e?this.setActive("center"):this.setActive("none")}},b.controls.Position.change=function(a,b){var c=b.getAttribute("data-value");c="auto"===c?"static":c,a.head_css({position:c+(c&&this.config.important?" !important":"")}),TVE.Editor_Page.reposition_icons()},b.controls.Position.update=function(){var a=this.applyTo().css("position");this.setActive(a)},b.controls.Float.change=function(a,c){var d=c.getAttribute?c.getAttribute("data-value"):c,e=a.parent().hasClass("tcb-clear");"none"===d?(a.attr("data-float",1),e&&a.parent().head_css({clear:""},null,"::after")):(a.removeAttr("data-float"),e||-1===["left","right"].indexOf(a.css("float"))||a.wrap('<div class="tcb-clear"></div>'),a.parent().head_css({clear:"both"},null,"::after")),b.controls.Position.update(),b.controls.zIndex.update(),TVE.Editor_Page.reposition_icons()},b.controls.Float.update=function(){var a=this.applyTo(),b=a.parent();if(b.hasClass("tcb-clear")){var c=b.head_css("clear",null,"::after");this.setActive(this.applyTo().attr("data-float")||"both"!==c?"none":"both")}else this.setActive("both")},b.controls.zIndex.input=function(a,b){a.head_css({"z-index":b.value})},b.controls.zIndex.update=function(){var a=this.applyTo().head_css("z-index")||this.applyTo().css("z-index");("auto"===a||isNaN(a))&&(a=0),this.setValue(a)}},render:function(){this.$el.html(this.template())},disable_extra_controls:function(a){-1!==a.indexOf("padding")&&this.controls.MarginAndPadding.disable_control("padding")}})},"lead-generation":{"checkbox.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({$active_element:null,controls_init:function(){this.controls.columns_number.update=function(a){var b=a.attr("data-column")?a.attr("data-column"):"";if(b.length<=0)for(var c=1;c<=10;c++)if(a.is(".tve_lg_column"+c)){b=c,a.attr("data-column",c);break}this.setValue(b)},this.controls.columns_number.input=function(a,b){a.removeClass("tve_lg_column"+a.attr("data-column")),a.addClass("tve_lg_column"+b.value),a.attr("data-column",b.value)},this.controls.required.update=function(a){var b=a.find("input")[0].dataset.required;this.setChecked(b&&"1"===b)},this.controls.required.input=function(a,b){a.find("input").attr("data-required",b.checked?1:0)}}})},"input.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({$active_element:null,initialize:function(){d.component.prototype.initialize.apply(this,arguments);var a=this;TVE.main.on("tve_all_components_updated",function(){TVE.ActiveElement.is(".tve_lg_input")&&a.controls.multiple_elements.isChecked()&&(a.$active_element=TVE.ActiveElement,TVE.ActiveElement=a._get_similar_elements())})},controls_init:function(){var a=this;this.controls.icon_side.update=function(a){if(this.applyTo().filter(".edit_mode").find(".thrv_icon").length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var b=this.applyTo().filter(".edit_mode"),c=b.head_css("right",!0,this.config.css_suffix,!0,this.config.css_prefix);c=parseInt(c);var d=0===c?"right":"left";this.setActive(d),this.padding_control=TVE.Components.layout.controls.MarginAndPadding,void 0===this["padding-left"]&&(this["padding-left"]=this.padding_control.getValue("padding","left")),void 0===this["padding-right"]&&(this["padding-right"]=this.padding_control.getValue("padding","right"))},this.controls.icon_side.input=function(a,b){var c=this.applyTo().filter(".edit_mode"),d=b.dataset.value,e="left"===d?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};c.head_css(e,null,this.config.css_suffix,!0,this.config.css_prefix);var f=void 0!==this.padding_control?this.padding_control.config:this.config,g=c.head_css("width",!0,this.config.css_suffix,!0,this.config.css_prefix),h={};g=parseInt(g),h["padding-"+d]=2*this["padding-"+d]+g+"px",h["padding-"+("left"===d?"right":"left")]=this["padding-"+("left"===d?"right":"left")]+"px",c.head_css(h,null,f.css_suffix,!0,f.css_prefix),void 0!==this.padding_control?this.padding_control.update():this.update()},this.controls.multiple_elements.update=function(a){},this.controls.multiple_elements.input=function(b,c){this.isChecked()?TVE.ActiveElement=a._get_similar_elements():TVE.ActiveElement=b.filter(".edit_mode")},this.controls.placeholder.update=function(a){this.setValue(a.filter(".edit_mode").find("input").attr("placeholder"))},this.controls.placeholder.input=function(a,b){a.filter(".edit_mode").find("input").attr("placeholder",this.getValue()).attr("data-placeholder",this.getValue())},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(a,b){var c;if(a=a.removeClass("aligncenter").filter(".edit_mode"),a.find(".thrv_icon").remove(),b.icon.is(".tve-svg-icon")){var d=jQuery("symbol#"+b.icon.data("cls"));c=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").text()})}else c='<span data-name="'+b.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+b.icon.data("cls")+'"></span>';a.prepend('<div class="thrv_wrapper thrv_icon">'+c+"</div>"),this.update();var e={};e.dataset={},e.dataset.value="right",this.component.controls.icon_side.input(a,e),this.component.controls.icon_side.update()},this.controls.ModalPicker.update=function(){var b=this.applyTo().filter(".edit_mode").find(".thrv_icon");0==b.length&&this.updateValue("none"),a.update_menu(b.length>0)},this.controls.required.update=function(a){var b=a.filter(".edit_mode").find("input"),c=b[0].dataset.required;this.enable(),"email"===b[0].type&&(c="1",b.attr("data-required","1"),this.disable()),this.setChecked(c&&"1"===c)},this.controls.required.input=function(a,b){a.filter(".edit_mode").find("input").attr("data-required",b.checked?1:0)}},remove_icon:function(){var a=this.controls.ModalPicker.applyTo(),b={"padding-left":"15px","padding-right":"15px"};a=a.filter(".edit_mode"),a.head_css(b,null," input",!0,this.controls.icon_side.config.css_prefix),this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()},update_menu:function(a){this.$('[data-icon="'+(a?"true":"false")+'"]').show(),this.$('[data-icon="'+(a?"false":"true")+'"]').hide()},_get_similar_elements:function(){return this.$active_element.parents(".tve_lead_generated_inputs_container").first().find(".tve_lg_input")}})},"radio.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({$active_element:null,controls_init:function(){this.controls.columns_number.update=function(a){var b=a.attr("data-column")?a.attr("data-column"):"";if(b.length<=0)for(var c=1;c<=10;c++)if(a.is(".tve_lg_column"+c)){b=c,a.attr("data-column",c);break}this.setValue(b)},this.controls.columns_number.input=function(a,b){a.removeClass("tve_lg_column"+a.attr("data-column")),a.addClass("tve_lg_column"+b.value),a.attr("data-column",b.value)},this.controls.required.update=function(a){var b=a.find("input")[0].dataset.required;this.setChecked(b&&"1"===b)},this.controls.required.input=function(a,b){a.find("input").attr("data-required",b.checked?1:0)}}})},"select.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({$active_element:null,controls_init:function(){var a=this;this.controls.icon_side.update=function(a){if(this.applyTo().filter(".edit_mode").find(".thrv_icon").length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var b=this.applyTo().head_css("right",!0,this.config.css_suffix,!0,this.config.css_prefix),c=this.applyTo().head_css("left",!0,this.config.css_suffix,!0,this.config.css_prefix);b=parseInt(b),c=parseInt(c);var d=0===b?"right":"left";this.setActive(d)},this.controls.icon_side.input=function(a,b){var c=b.dataset.value,d="left"===c?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyTo().head_css(d,null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.multiple_elements.update=function(b){a.$active_element=b,this.isChecked()&&(TVE.ActiveElement=a._get_similar_elements())},this.controls.multiple_elements.input=function(b,c){this.isChecked()?TVE.ActiveElement=a._get_similar_elements():TVE.ActiveElement=b.filter(".edit_mode")},this.controls.placeholder.update=function(a){this.setValue(a.filter(".edit_mode").find("select").attr("data-placeholder"))},this.controls.placeholder.input=function(a,b){a.filter(".edit_mode").find("select").first().attr("data-placeholder",this.getValue()).find("option").first().text(this.getValue())},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(a,b){var c;if(a=a.removeClass("aligncenter").filter(".edit_mode"),a.find(".thrv_icon").remove(),b.icon.is(".tve-svg-icon")){var d=jQuery("symbol#"+b.icon.data("cls"));c=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").text()})}else c='<span data-name="'+b.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+b.icon.data("cls")+'"></span>';a.prepend('<div class="thrv_wrapper thrv_icon">'+c+"</div>"),this.update(),this.component.controls.icon_side.update()},this.controls.ModalPicker.update=function(){var b=this.applyTo().filter(".edit_mode").find(".thrv_icon");0==b.length&&this.updateValue("none"),a.update_menu(b.length>0)},this.controls.required.update=function(a){var b=a.find("select")[0].dataset.required;this.setChecked(b&&"1"===b)},this.controls.required.input=function(a,b){a.find("select").attr("data-required",b.checked?1:0)}},remove_icon:function(){this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()},update_menu:function(a){this.$('[data-icon="'+(a?"true":"false")+'"]').show(),this.$('[data-icon="'+(a?"false":"true")+'"]').hide()},_get_similar_elements:function(){return this.$active_element.parents(".tve_lead_generated_inputs_container").first().find(".tve_lg_dropdown")}})},"submit.js":function(a,b,c){var d=c("../../base"),e=c("../../controls/lead-generation/submit-style"),f={convert_icon:function(a){var b=jQuery("<div></div>"),c=a.find(".tcb-button-icon svg");return b.addClass("thrv_wrapper thrv_icon").attr("data-css",c.parent().attr("data-css")).append(c)},convert_html:function(a){return jQuery('<button type="submit">'+a+"</button>")},convert_inline_css_to_array:function(a){var b={};return a.find("strong").length>0&&(b["font-weight"]="bold"),a.find("u").length>0&&(b["text-decoration"]="underline"),a.find("s").length>0&&(b["text-decoration"]="line-through"),a.find("em").length>0&&(b["font-style"]="italic"),b}};b.exports=d.component.extend({controls_init:function(){var a=this;this.controls.ButtonColor.update=function(){TVE.Components.background.remote.has_layers()?this.setValue("transparent"):this.setValue(this.applyTo().head_css("background-color",!0,this.config.css_suffix,!0,this.config.css_prefix))},this.controls.ButtonColor.input=function(a){this.background_reset||(TVE.Components.background.remote.save_state(),TVE.Components.background.remote.reset(),this.background_reset=!0),TVE.Components.background.controls.ColorPicker.input(a)},this.controls.ButtonColor.change=function(a){delete this.background_reset,TVE.Components.background.controls.ColorPicker.input(a),TVE.Components.background.controls.ColorPicker.setValue(a)},this.controls.ButtonColor.cancel=function(){delete this.background_reset,TVE.Components.background.remote.restore_state()},this.controls.ButtonWidth.input=function(a,b){var c={"max-width":b.value+this.getUM(),width:b.value+this.getUM()};this.applyTo().head_css(c,!1,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.ButtonWidth.update=function(){var a=this.applyTo().head_css("max-width",!0,this.config.css_suffix,!0,this.config.css_prefix);this.setValue(a)},this.controls.ButtonAlign.input=function(b,c){var d=c.dataset.value;"left"!==d&&"right"!==d||this.applyTo().head_css({"margin-left":0,"margin-right":0,float:d}),"center"===d&&this.applyTo().head_css({float:"none","margin-left":"auto","margin-right":"auto"}),"justify"===d&&(this.applyTo().head_css({float:"none","margin-left":0,"margin-right":0,"max-width":"100%"}),a.controls.ButtonWidth.setValue(100,!0)),TVE.Components.layout.controls.MarginAndPadding.update()},this.controls.ButtonAlign.update=function(){var a=this.applyTo().head_css("float");if("left"===a||"right"===a)return this.setActive(a);var b=this.applyTo().css("max-width");return b=parseInt(b),100===b||isNaN(b)?this.setActive("justify"):void 0},this.controls.icon_side.update=function(a){if(a.length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var b=this.applyTo().head_css("right",!0,this.config.css_suffix,!0,this.config.css_prefix);this.applyTo().head_css("left",!0,this.config.css_suffix,!0,this.config.css_prefix);b=parseInt(b);var c=0===b?"right":"left";this.setActive(c)},this.controls.icon_side.input=function(a,b){var c=b.dataset.value,d="left"===c?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyTo().head_css(d,null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(a,b){var c;if(a=a.removeClass("aligncenter").filter(".edit_mode"),a.find(".thrv_icon").remove(),b.icon.is(".tve-svg-icon")){var d=jQuery("symbol#"+b.icon.data("cls"));c=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").text()})}else c='<span data-name="'+b.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+b.icon.data("cls")+'"></span>';a.prepend('<div class="thrv_wrapper thrv_icon">'+c+"</div>"),this.update(),this.component.controls.icon_side.update(a)},this.controls.ModalPicker.update=function(){var b=this.applyTo().find(".thrv_icon");if(b.length){var c=b.children().first(),d=c.data("tve-icon")||c.data("name");this.updateValue(d)}else this.updateValue("none");a.update_menu(b.length>0)};var b=this.config.style;this.controls.style.set_drop_panel(new e({model:b,component:this})),this.controls.style.panel.input=function(b){if(-1!==this.model.selected.indexOf("tcb-saved-button-template-")){var c=parseInt(this.model.selected.replace("tcb-saved-button-template-",""));a.convert_custom_button(b,c),TVE.Editor_Page.reposition_icons()}else{var d=this.constructObject(this.model.selected);b.removeAttr("data-css"),b.head_css(d.default,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("hover"),b.head_css(d.hover,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("")}b.attr("data-button-style",this.model.selected),TVE.Components.typography.update()}},button_style_control:function(){return c("../../controls/style-change")},remove_icon:function(){this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()},update_menu:function(a){this.$('[data-icon="'+(a?"true":"false")+'"]').show(),this.$('[data-icon="'+(a?"false":"true")+'"]').hide()},convert_custom_button:function(a,b){var c=TVE.CONST.content_templates.find(function(a){return a.id===b}),d=TVE.$(TVE.Editor_Page.content_manager.process_saved_template("",TVE.$(c.content),this.prepare_template_item_media(_.extend({},c.media)))),e=a.find("button").text();a.html(""),a.append(f.convert_html(e)),a.attr("data-css",d.attr("data-css")),a.head_css(f.convert_inline_css_to_array(d),null," button"),a.head_css({"max-width":"100%",width:"100%"},null,"",!0,"#tve_editor ")},prepare_template_item_media:function(a){var b=a["(min-width: 300px)"];if(void 0!==b){var c=b.match(/[^{}]+(?=\})/g),d=b.match(/([^\r\n{}]+)(,(?=[^}]*{)|\s*){/g),e="",f="";_.each(d,function(a,b){a.indexOf(".tcb-button-link")>=0&&-1===a.indexOf(":hover")&&(e+=c[b]+" ")});var g=!1;_.each(d,function(a,b){a.indexOf(".tcb-button-link")>=0&&-1===a.indexOf(":hover")&&!1===g?(a=a.replace(/.tcb-button-link/g,"button"),-1===a.indexOf("#tve_editor")&&(a="#tve_editor "+a),f+=a+e+"} ",g=!0):(-1===a.indexOf(".tcb-button-link")||a.indexOf(".tcb-button-link")>=0&&a.indexOf(":hover")>=0)&&(a=a.replace(/.tcb-button-link/g,"button"),f+=a+c[b]+"} ")}),a["(min-width: 300px)"]=f}return a}})},"textarea.js":function(a,b,c){var d=c("../../base");b.exports=d.component.extend({$active_element:null,controls_init:function(){var a=this;this.controls.icon_side.update=function(a){if(this.applyTo().filter(".edit_mode").find(".thrv_icon").length<=0)return this.$el.hide(),void this.$el.next().hide();this.$el.show(),this.$el.next().show();var b=this.applyTo().head_css("right",!0,this.config.css_suffix,!0,this.config.css_prefix),c=this.applyTo().head_css("left",!0,this.config.css_suffix,!0,this.config.css_prefix);b=parseInt(b),c=parseInt(c);var d=0===b?"right":"left";this.setActive(d)},this.controls.icon_side.input=function(a,b){var c=b.dataset.value,d="left"===c?{left:0,right:"auto",transform:"translate(50%, -50%)"}:{right:0,left:"auto",transform:"translate(-50%, -50%)"};this.applyTo().head_css(d,null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.multiple_elements.update=function(b){a.$active_element=b,this.isChecked()&&(TVE.ActiveElement=a._get_similar_elements())},this.controls.multiple_elements.input=function(b,c){this.isChecked()?TVE.ActiveElement=a._get_similar_elements():TVE.ActiveElement=b.filter(".edit_mode")},this.controls.placeholder.update=function(a){this.setValue(a.filter(".edit_mode").find("textarea").attr("placeholder"))},this.controls.placeholder.input=function(a,b){a.filter(".edit_mode").find("textarea").attr("placeholder",this.getValue()).attr("data-placeholder",this.getValue())},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(a,b){var c;if(a=a.removeClass("aligncenter").filter(".edit_mode"),a.find(".thrv_icon").remove(),b.icon.is(".tve-svg-icon")){var d=jQuery("symbol#"+b.icon.data("cls"));c=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").text()})}else c='<span data-name="'+b.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+b.icon.data("cls")+'"></span>';a.prepend('<div class="thrv_wrapper thrv_icon">'+c+"</div>"),this.update(),this.component.controls.icon_side.update()},this.controls.ModalPicker.update=function(){var b=this.applyTo().filter(".edit_mode").find(".thrv_icon");0==b.length&&this.updateValue("none"),a.update_menu(b.length>0)},this.controls.required.update=function(a){var b=a.find("textarea")[0].dataset.required;this.setChecked(b&&"1"===b)},this.controls.required.input=function(a,b){a.find("textarea").attr("data-required",b.checked?1:0)}},remove_icon:function(){this.controls.ModalPicker.applyTo().find(".thrv_icon").remove(),this.controls.ModalPicker.update()},update_menu:function(a){this.$('[data-icon="'+(a?"true":"false")+'"]').show(),this.$('[data-icon="'+(a?"false":"true")+'"]').hide()},_get_similar_elements:function(){return this.$active_element.parents(".tve_lead_generated_inputs_container").first().find(".tve_lg_textarea ")}})}},"lead-generation.js":function(a,b,c){!function(a){var d=function(a,b){return a?(b.is(".thrv_icon")&&(a=!1),a):a},e=c("../base"),f=c("../../models/lead-generation");TVE.LGErrorMessages=c("../modals/lg-error-messages"),b.exports=e.component.extend({leadGenerationView:null,initialize:function(){e.component.prototype.initialize.apply(this,arguments),this.on("tcb_lg_manage_submit_options",function(a,b){-1!==Object.getOwnPropertyNames(a.model.get("apis")).indexOf("klicktipp")&&(a.collection.push({key:"klicktipp-redirect",label:TVE.t.klicktipp_thank_you_url,css_class:"tcb-lg-option-custom_message",icon:"klick-tip"}),a.render_form_klicktipp_redirect=function(){this._get_form_wrapper().empty()})})},after_update:function(){if(TVE.ActiveElement.hasClass("canvas-mode")){var a=this;setTimeout(function(){a.edit_form_elements.call(a)},10)}var b=this.has_api_connected()||!1;this.$(".dropdown-content").children().each(function(){this.style.display=b||this.classList.contains("no-api")?"block":"none"})},migrate_element:function(b){var c=b.find(".tve_lead_generated_inputs_container"),d=a('<div class="thrv_wrapper thrv-columns"><div class="tcb-flex-row"></div></div>'),e=d.find(".tcb-flex-row"),f=c.find(".tve_lg_input_container");f.each(function(){var b=a(this),c=b.clone();e.append(c),c.wrap('<div class="tcb-flex-col"></div>').wrap('<div class="tcb-col"></div>'),b.remove()}),e.addClass("tcb--cols--"+f.length),c.append(d),b.removeClass("thrv_lead_generation_horizontal")},needs_update:function(a){return a.hasClass("thrv_lead_generation_horizontal")},controls_init:function(){var b=this;TVE.add_filter("draggable_elements",function(a){return a+", .canvas-mode .tve_lg_input_container"}),TVE.add_filter("non_draggable",function(a){return a+", .tve_lead_generated_inputs_container .thrv-columns"}),TVE.add_filter("element_drop",function(a){a&&a.hasClass("thrv_lead_generation")&&void 0===TVE.FLAGS.LG_NOTIFICATION&&(TVE.page_message(TVE.t.CustomizeForm,-2,5e3),TVE.FLAGS.LG_NOTIFICATION=!0)}),this.controls.Captcha.update=function(){var a=this.config.config.site_key;if(this.$el.next().toggleClass("tcb-hidden",a.length>0),!a.length>0)return this.disable(),this;var c="1"===b.leadGenerationModel.get("captcha")._use_captcha;b.leadGenerationModel.get("captcha").site_key=a,this.setChecked(c),this.$el.parent().find("#tcb-lg-captcha-controls").toggleClass("tcb-hidden",!c)},this.controls.Captcha.input=function(c,d){var e=d.checked?1:0,f=b.leadGenerationModel.get("captcha");f=a.extend(f,{_use_captcha:e}),this.$el.parent().find("#tcb-lg-captcha-controls").toggleClass("tcb-hidden",!d.checked),b.leadGenerationModel.set("captcha",f),b.leadGenerationView.write("captcha")},this.controls.CaptchaTheme.update=function(){var a=b.leadGenerationModel.get("captcha")._captcha_theme;this.setValue(a)},this.controls.CaptchaTheme.input=function(a,c){var d=b.leadGenerationModel.get("captcha");d._captcha_theme=c.value,b.leadGenerationModel.set({captcha:d,write:"captcha"})},this.controls.CaptchaType.update=function(){var a=b.leadGenerationModel.get("captcha")._captcha_type;this.setValue(a)},this.controls.CaptchaType.input=function(a,c){var d=b.leadGenerationModel.get("captcha");d._captcha_type=c.value,b.leadGenerationModel.set({captcha:d,write:"captcha"})},this.controls.CaptchaSize.update=function(){var a=b.leadGenerationModel.get("captcha")._captcha_size;this.setValue(a)},this.controls.CaptchaSize.input=function(a,c){var d=b.leadGenerationModel.get("captcha");d._captcha_size=c.value,b.leadGenerationModel.set({captcha:d,write:"captcha"})},this.$close_button=TVE.inner.jQuery("#tcb-lg-close"),this.$close_button.find("button").on("click",this.close_edit_mode.bind(this))},placeholder_action:function(){this.before_update(),this.controls.ApiConnections.serviceConnect()},close_edit_mode:function(){TVE.main.remove_navigation_root(this.LG),this.$close_button.hide(),TVE.ActiveElement=this.LG,TVE.ActiveElement.removeClass("canvas-mode"),TVE.ActiveElement.click(),this.toggle_controls(!0),TVE.Editor_Page.enable(),TVE.drag.editorActions(),TVE.prevent_blur=!1,TVE.remove_filter("allow_dragenter",d),TVE.main.switch_menu_to("components"),TVE.inner_$(".tcb_bring_front").removeClass("tcb_bring_front"),TVE.ActiveElement.click(),this.after_update()},toggle_controls:function(a){if("boolean"==typeof a){var b=a?"show":"hide";this.$(".tve-advanced-controls,.toggle-control")[b](),_.each(this.controls,function(a){a[b](),a.$el.siblings("hr")[b]()})}},after_init:function(){var a=this;TVE.add_filter("element_remove",function(){a.LG&&a.LG.hasClass("canvas-mode")&&(TVE.ActiveElement=a.LG,a.edit_form_elements())})},edit_form_elements:function(){this.LG=TVE.ActiveElement;var b={left:TVE.ActiveElement.offset().left+TVE.ActiveElement.width()-this.$close_button.width()+2,top:TVE.ActiveElement.offset().top-this.$close_button.height()-5};this.$close_button.show().css(b),this.toggle_controls(!1),TVE.add_filter("allow_dragenter",d),TVE.ActiveElement.find(".thrv_icon").each(function(a,b){if(!this.getAttribute("data-css")){var c=TVE.inner.jQuery(this),d=c.children().first(),e=["border-style","border-radius","border-width","border-color","margin"],f=["padding","border-radius","font-size","width","height","color"],g=d.head_css(f,!1,"",!0),h=c.head_css(e,!1,"",!0);h.padding=g.padding,delete g.padding,h.width=g.width,delete g.width,h.height=g.height,delete g.height,h["font-size"]=g["font-size"],delete g["font-size"],d.removeAttr("style"),c.removeAttr("style"),c.head_css(h,null,"",!1,"#tve_editor ")}}),TVE.Editor_Page.disable(),TVE.ActiveElement.addClass("canvas-mode"),TVE.Editor_Page.selection_manager.init(TVE.ActiveElement),TVE.state(TVE.STATE_DEFAULT),TVE.prevent_blur=!0,TVE.drag.editorActions(TVE.ActiveElement),TVE.main.switch_menu_to("custom","lead_generation"),TVE.ActiveElement.parentsUntil("#tve_editor").each(function(){var b=a(this)
;"static"!==b.css("position")&&b.addClass("tcb_bring_front")}),TVE.main.set_navigation_root(this.LG),TVE.main.active_element_navigation()},before_update:function(){this.leadGenerationModel?this.leadGenerationModel.clear({silent:!0}):this.leadGenerationModel=new f.model,TVE.ActiveElement.data("lg",this.leadGenerationModel),this.leadGenerationView?(this.leadGenerationView.setElement(TVE.ActiveElement[0]),this.leadGenerationView.read()):this.leadGenerationView=new f.view({el:TVE.ActiveElement[0],model:this.leadGenerationModel}),this.toggle_service_button()},toggle_service_button:function(){this.has_api_connected()?this.$(".multiple-services-connect").show():this.$(".multiple-services-connect").hide()},has_api_connected:function(){return Object.keys(this.leadGenerationModel.get("apis")).length>0},mServiceConnect:function(){this.controls.ApiConnections.serviceConnect()},manage_error_messages:function(){var a=this,b=this.leadGenerationModel.get("error_messages"),c=TVE.LGErrorMessages.get_instance(TVE.modal.get_element("lg-error-messages"),new Backbone.Model(b));c.type=this.leadGenerationModel.get("type"),c.display_editor=this.leadGenerationModel.get("display_custom_error_message"),c.custom_messages=this.leadGenerationModel.get("custom_messages"),c.render_errors(),c.before_save=function(){var b=this.model.toJSON();a.leadGenerationModel.set({error_messages:b,write:"error_messages"});var d={success:c.custom_messages.success||"",error:this.get_editor_content()};a.leadGenerationModel.set({custom_messages:d,write:"custom_messages"}),a.leadGenerationModel.set({display_custom_error_message:c.display_editor,write:"display_custom_error_message"})},c.open()}})}(jQuery)},"lightbox.js":function(a,b,c){var d=c("../base"),e=c("../../libs/remove-border-classes"),f=c("../../libs/tinycolor"),g="data-tve-custom-colour";b.exports=d.component.extend({before_update:function(){this.auto_update_overlay(),(TVE.ActiveElement.attr("style")||TVE.ActiveElement.attr(g))&&(this.auto_update(TVE.ActiveElement).auto_update(TVE.ActiveElement.children(".tve_p_lb_close")),TVE.ActiveElement.children(".tve_p_lb_close").head_css({"border-style":"inherit !important","border-width":"inherit !important"}),this.update_globals(TVE.ActiveElement))},auto_update:function(a){var b={};return a[0].style.borderWidth&&(b["border-width"]=a[0].style.borderWidth+" !important"),a[0].style.maxWidth&&(b["max-width"]=a[0].style.maxWidth+" !important"),a[0].style.backgroundImage&&(b["background-image"]=a[0].style.backgroundImage+" !important"),b["border-style"]=a.css("border-style")+" !important",b["background-color"]=a.css("background-color")+" !important",b["border-color"]=a.css("border-color")+" !important",a.hasClass("tve_p_lb_close")&&(b.color=a.css("color")+" !important",b["border-width"]=b["border-style"]="inherit !important"),e(a),a.removeAttr(g).removeAttr("style").head_css(b),this},auto_update_overlay:function(){var a=TVE.inner_$(".tve_p_lb_overlay");if(a[0].style.opacity||a.attr(g)){var b=f(a.css("background-color")),c=parseFloat(a.css("opacity")||1);b.setAlpha(c),a.head_css({"background-color":b.toString()+" !important"}),a.removeAttr("style").removeAttr(g)}},update_globals:function(a){if(a.length){var b,c=TVE.CONST.tve_globals;(b=a.attr("data-css"))&&(c.content_css=b,delete c.l_cb,delete c.l_cbs,delete c.l_cmw,delete c.l_ccls,delete c.l_cimg,delete c.l_cbw),(b=a.children(".tve_p_lb_close").attr("data-css"))&&(c.close_css=b,delete c.l_ccc),(b=TVE.inner_$(".tve_p_lb_overlay").attr("data-css"))&&(c.overlay_css=b,delete c.l_ob,delete c.l_oo)}},controls_init:function(a){function b(a){c.$(".close-controls")[a?"show":"hide"]()}var c=this;TVE.add_filter("tcb_save_post_data_before",function(a){return c.update_globals(TVE.inner_$(".tve_p_lb_content")),a}),a.Switch.update=function(a){var c=a.is(":visible");this.setChecked(c),b(c)},a.Switch.change=function(a){a.head_css({display:(this.isChecked()?"block":"none")+" !important"}),b(this.isChecked())},a.CloseColor.update=function(a){this.setValue(a.css("color"))},a.CloseColor.input=function(a){this.applyTo().head_css({color:a+" !important"})},a.BorderColor.update=function(a){this.setValue(a.css("border-color"))},a.BorderColor.input=function(a){this.applyTo().head_css({"border-color":a+" !important"})},a.IconBg.update=function(a){this.setValue(a.css("background-color"))},a.IconBg.input=function(a){this.applyTo().head_css({"background-color":a+" !important"})},a.OverlayColor.update=function(a){this.setValue(a.css("background-color"))},a.OverlayColor.input=function(a){this.applyTo().head_css({"background-color":a+" !important"})}}})},"menu.js":function(a,b,c){var d=c("../base"),e=c("../../libs/shortcode-manager");b.exports=d.component.extend({controls_init:function(a){var b=this;a.MakePrimary.change=function(a,c){b.changeConfig("primary",c.checked,!0)},a.MakePrimary.update=function(a){var c=b.model.get("primary");this.setChecked(c)},this.controls.MainColor.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({color:a+" !important"},null," .tve_w_menu > li > a")},this.controls.MainColor.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),this.input(a)},this.controls.MainColor.update=function(a){this.setValue(a.find(".tve_w_menu > li a").css("color"))},this.controls.ChildColor.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({color:a+" !important"},null," .tve_w_menu .sub-menu li a")},this.controls.ChildColor.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),this.input(a)},this.controls.ChildColor.update=function(a){this.setValue(a.find(".sub-menu li a").css("color"))},this.controls.ChildBackground.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({"background-color":a+" !important"},null," .tve_w_menu .sub-menu .menu-item a")},this.controls.ChildBackground.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),this.input(a)},this.controls.ChildBackground.update=function(a){this.setValue(a.find(".tve_w_menu .sub-menu .menu-item a").css("background-color"))},this.controls.HoverMainColor.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({color:a+" !important"},null," .tve_w_menu > li > a:hover")},this.controls.HoverMainColor.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),b.changeConfig("main_hover",a.toString()),this.input(a)},this.controls.HoverMainColor.update=function(a){var c=b.model.get("main_hover")||b.config.HoverMainColor.config.default;this.setValue(c),this.change("#"+c)},this.controls.HoverChildColor.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({color:a+" !important"},null," .tve_w_menu .sub-menu li a:hover")},this.controls.HoverChildColor.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),b.changeConfig("child_hover",a.toString()),this.input(a)},this.controls.HoverChildColor.update=function(a){var c=b.model.get("child_hover")||b.config.HoverChildColor.config.default;this.setValue(c),this.change("#"+c)},this.controls.HoverMainBackground.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({"background-color":a+" !important"},null," .tve_w_menu .menu-item a:hover")},this.controls.HoverMainBackground.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),b.changeConfig("background_hover",a.toString()),this.input(a)},this.controls.HoverMainBackground.update=function(a){var c=b.model.get("background_hover");c?this.setValue(c):this.setValue(b.config.HoverChildBackground.config.default)},this.controls.HoverChildBackground.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({"background-color":a+" !important"},null," .tve_w_menu .sub-menu .menu-item a:hover")},this.controls.HoverChildBackground.change=function(a){b.updateHeadCssAttr(".thrive-shortcode-html","head_css"),b.changeConfig("background_hover",a.toString()),this.input(a)},this.controls.HoverChildBackground.update=function(a){var c=b.model.get("background_hover")||b.config.HoverChildBackground.config.default;this.setValue(c),this.change("#"+c)},this.controls.TriggerColor.input=function(a){this.applyTo().find(".thrive-shortcode-html").head_css({color:a+" !important"},null," .tve-m-trigger"),b.updateHeadCssAttr(".thrive-shortcode-html","head_css")},this.controls.TriggerColor.update=function(a){this.setValue(a.find(".tve-m-trigger").css("color"))}},updateHeadCssAttr:function(a,b){var c=this.$element.find(a).attr("data-css");this.changeConfig(b,c)},setConfig:function(a){this.config=a,this.$element=TVE.ActiveElement,this.setModel(),d.component.prototype.setConfig.apply(this,arguments)},setModel:function(){this.shortcode=e(this.$element.find(".thrive-shortcode-config"),"widget_menu"),this.model=new Backbone.Model(this.shortcode.get()),this.changeEditLink(this.model.get("menu_id"))},selectMenu:function(){return c("../controls/custom-menu/select-menu")},menuDirection:function(){return c("../controls/custom-menu/menu-direction")},changeEditLink:function(a){this.$(".tve-edit-menu").attr("href",this.$(".tve-edit-menu").attr("href").replace(/&menu=(\d*)/,"&menu="+a))},changeConfig:function(a,b,c){var d=this;this.model.set(a,b),this.shortcode.update(b,a),"menu_id"==a&&this.changeEditLink(b),c&&(TVE.main.overlay(),this.model.attributes.nowrap=!0,TVE.ajax("custom_menu","post",this.model.attributes).success(function(a){d.$element.html(a.response)}).always(function(){TVE.main.overlay("close")}))}})},"numbered-list.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({numberedListItemsCollection:new Backbone.Collection({}),controls_init:function(){function a(){var a="";return this.$('.tve-btn.active[data-style="text-decoration"]').each(function(){a+=(a?" ":"")+this.dataset.value}),a||"none"}var b=this;TVE.main.on("ctrl-enter-pressed",function(a){TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&TVE.froala.editor.cursor.enter()}),TVE.main.on("enter-pressed",function(a){TVE.ActiveElement.hasClass("tcb-numbered-list-text")&&b.add_list_item_after(TVE.ActiveElement,a)}),TVE.main.on("after-element-cloned",function(a,c){a.is("li.thrv-styled-list-item")&&b.renderer.reset_list_numbers(a.closest(".thrv-numbered_list"))}),TVE.main.on("after-element-removed",function(a){a.is("ul.tcb-numbered-list")&&b.renderer.reset_list_numbers(a.closest(".thrv-numbered_list"))}),this.controls.decorations.change=function(b,c){var d=c.dataset.style,e=c.classList.contains("active"),f={};f[d]=e?c.getAttribute("data-value"):"",d&&"text-decoration"===d?f[d]=a.call(this):e||(f[d]=c.dataset.off),f[d]&&(f[d]+=" !important"),b.head_css(f,null,this.config.css_suffix)},this.controls.decorations.update=function(a){var b=[],c=this.applyTo();_.each(this.model.config.buttons,function(a){var d=c.head_css(a.data.style,null,this.config.css_suffix);d&&-1!==d.indexOf(a.value)&&b.push(a.value)},this),this.setActive(b)},this.controls.FontFace.update=function(a){this.initial_font=this.applyTo().head_css("font-family",!1,this.config.css_suffix,!0,this.config.css_prefix),this.setInputValue(this.initial_font),this.readFont(a)},this.controls.FontFace.writeCSS=function(a,b,c,d){var e={"font-family":b,"font-weight":""};c&&(e["font-weight"]=c),a.head_css(e,null,this.config.css_suffix),d&&a.head_css({"font-weight":d}," strong",this.config.css_suffix)},this.controls.FontFace.setInputValue=function(a){void 0!==a&&a||(this.section="inherit",a=this.applyTo().head_css("font-family"," strong",this.config.css_suffix)),a=a.length&&"inherit"===this.section?"Inherit: ["+a+"]":a,b.$(".font-face-input").val(a)},this.controls.starting_number.input=function(a,b){},this.controls.starting_number.update=function(a){this.setValue(parseInt(a.attr("data-start-number")))},this.controls.starting_number.change=function(a,c){a.attr("data-start-number",c.value),b.renderer.reset_list_numbers(a),b.controls.preview.update(a)},this.controls.increment_number.input=function(a,b){},this.controls.increment_number.update=function(a){this.setValue(parseInt(a.attr("data-number-increment")))},this.controls.increment_number.change=function(a,c){a.attr("data-number-increment",c.value),b.renderer.reset_list_numbers(a),b.controls.preview.update(a)},this.controls.numbers_color.input=function(a){this.applyTo().head_css({color:a},null,this.config.css_suffix)},this.controls.numbers_color.change=function(a){var b=this.applyTo();b.head_css({color:a},null,this.config.css_suffix),b.attr("data-color",a.toRgbString())},this.controls.numbers_color.update=function(a){var b=this.applyTo().attr("data-color");b||(b="rgb(0,0,0)"),this.setValue(b)},this.controls.numbers_size.update=function(a){var b=parseInt(this.applyTo().head_css("font-size",null,this.config.css_suffix));b||(b=this.config.config.default),this.setValue(b)},this.controls.numbers_size.input=function(a,b){a.head_css({"font-size":b.value+this.getUM()},null,this.config.css_suffix)},this.controls.item_spacing.update=function(){var a=this.applyTo().head_css("margin-bottom",null,this.config.css_suffix,!0,this.config.css_prefix);a||(a=0),this.setValue(a)},this.controls.item_spacing.input=function(a,b){a.head_css({"margin-bottom":b.value+this.getUM()+" !important"},!1,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.preview.attach_collection(this.numberedListItemsCollection),this.controls.preview.update=function(a){var b=[],c=a.find("li");_.each(c,function(a,c){var d=jQuery(a);b.push({icon:d.find(".tcb-numbered-list-index").text(),key:d,label:this.component.renderer.get_text(d)})},this),this.component.numberedListItemsCollection.reset(b)},this.listenTo(this.numberedListItemsCollection,"remove",_.bind(function(a){var c=a.get("key");c instanceof jQuery&&c.remove(),b.renderer.reset_list_numbers(this.controls.preview.applyTo())},this)),this.listenTo(this.numberedListItemsCollection,"change",_.bind(function(a){var c=this.controls.preview.applyTo(),d=c.find("ul");d.empty(),this.numberedListItemsCollection.each(function(a){d.append(a.get("key"))},this),b.renderer.reset_list_numbers(c)},this))},add_list_item_after:function(a,b){var c,d=a.closest(".thrv-styled-list-item"),e=TVE.getCaretCharacterOffsetWithin(b.currentTarget),f=b.currentTarget.textContent,g=f.substr(e,f.length);b.currentTarget.textContent=f.substr(0,e),d.after(this.renderer.create_default_list_item(0,g)),c=d.next().find(".tcb-numbered-list-text"),c.mouseenter(),c.trigger("click.tcb"),c.froalaEditor("events.focus"),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore(),this.renderer.reset_list_numbers(a.closest(".thrv-numbered_list"))},add_list_item:function(){var a=this.controls.preview.applyTo(),b=this.renderer.get_next_list_number(a.attr("data-start-number"),a.attr("data-number-increment"),a.find(".thrv-styled-list-item").length);a.find("ul").append(this.renderer.create_default_list_item(b)),this.controls.preview.update(a)},list_preview_control:function(){return c("../controls/preview-list")},openFonts:function(a,b){return b=b.parentElement.getElementsByClassName("tcb-icon-edit")[0],this.controls.FontFace.open(a,b),this.controls.FontFace.readFont(a),!1}})},"post-grid-filter.js":function(a,b,c){var d=c("./post-grid");b.exports=d.extend({before_update:jQuery.noop,controls_init:function(a){this.controls.categories.update=function(a){var b=this.component.get_config(),c=[];"string"==typeof b.filters.category&&b.filters.category.length>1&&(b.filters.category=b.filters.category.split(",")),_.each(b.filters.category,function(a){c.push({id:a,text:a})},this),this.setValueRemote(c)},this.controls.categories.input=function(a,b){var c=this.component.get_config();c.filters.category=_.pluck(b,"id"),this.component.update_config(c.filters,"filters"),this.component.generate_post_grid(a)},this.controls.tags.update=function(a){var b=this.component.get_config(),c=[];"string"==typeof b.filters.tag&&b.filters.tag.length>1&&(b.filters.tag=b.filters.tag.split(",")),_.each(b.filters.tag,function(a){c.push({id:a,text:a})},this),this.setValueRemote(c)},this.controls.tags.input=function(a,b){var c=this.component.get_config();c.filters.tag=_.pluck(b,"id"),this.component.update_config(c.filters,"filters"),this.component.generate_post_grid(a)},this.controls.authors.update=function(a){var b=this.component.get_config(),c=[];"string"==typeof b.filters.author&&b.filters.author.length>1&&(b.filters.author=b.filters.author.split(",")),_.each(b.filters.author,function(a){c.push({id:a,text:a})},this),this.setValueRemote(c)},this.controls.authors.input=function(a,b){var c=this.component.get_config();c.filters.author=_.pluck(b,"id"),this.component.update_config(c.filters,"filters"),this.component.generate_post_grid(a)},this.controls.custom_taxonomies.update=function(a){var b=this.component.get_config(),c=[];"string"==typeof b.filters.tax&&b.filters.tax.length>1&&(b.filters.tax=b.filters.tax.split(",")),_.each(b.filters.tax,function(a){c.push({id:a,text:a})},this),this.setValueRemote(c)},this.controls.custom_taxonomies.input=function(a,b){var c=this.component.get_config();c.filters.tax=_.pluck(b,"id"),this.component.update_config(c.filters,"filters"),this.component.generate_post_grid(a)},this.controls.individual_post_pages.update=function(a){var b=this.component.get_config(),c=[];"string"==typeof b.filters.posts&&(b.filters.posts=b.filters.posts.split(",")),_.each(b.filters.posts,function(a){a&&"string"==typeof a?c.push({id:a,text:a}):c.push({id:a.id,text:a.text})},this),this.setValueRemote(c)},this.controls.individual_post_pages.input=function(a,b){var c=this.component.get_config();c.filters.posts=_.map(b,function(a){return{id:a.id,text:a.text}}),this.component.update_config(c.filters,"filters"),this.component.generate_post_grid(a)}}})},"post-grid-layout.js":function(a,b,c){var d=c("./post-grid");b.exports=d.extend({teaserLayoutCollection:new Backbone.Collection({}),before_update:jQuery.noop,controls_init:function(a){var b=this;this.controls.number_of_columns.input=function(a,b){},this.controls.number_of_columns.update=function(a){var b=this.component.get_config();this.setValue(b.columns)},this.controls.number_of_columns.change=function(a,b){this.component.update_config(b.value,"columns"),this.component.generate_post_grid(a)},this.controls.display.update=function(a){var b=this.component.get_config();this.setValue(b.display)},this.controls.display.input=function(a,b){this.component.update_config(b.value,"display"),this.component.generate_post_grid(a)},this.controls.grid_layout.update=function(a){var b=this.component.get_config();"vertical"===b.grid_layout?(this.component.$(".post-grid-layout-number-of-columns").hide(),this.component.$(".post-grid-layout-display").hide()):(this.component.$(".post-grid-layout-number-of-columns").show(),this.component.$(".post-grid-layout-display").show()),this.setValue(b.grid_layout)},this.controls.grid_layout.input=function(a,b){this.component.update_config(b.value,"grid_layout"),"vertical"===b.value?(this.component.update_config("grid","display"),this.component.update_config(1,"columns"),this.component.$(".post-grid-layout-number-of-columns").hide(),this.component.$(".post-grid-layout-display").hide()):(this.component.update_config("grid","display"),this.component.update_config(2,"columns"),this.component.controls.display.update(a),this.component.controls.number_of_columns.update(a),this.component.$(".post-grid-layout-number-of-columns").show(),this.component.$(".post-grid-layout-display").show()),this.component.generate_post_grid(a)},this.controls.featured_image.update=function(a){var b=this.component.get_config();this.setChecked("true"===b.teaser_layout.featured_image)},this.controls.featured_image.change=function(a,c){var d=this.component.get_config();d.teaser_layout.featured_image=c.checked?"true":"false",this.component.update_config(d.teaser_layout,"teaser_layout"),this.component.generate_post_grid(a),b.controls.preview.update()},this.controls.title.update=function(a){var b=this.component.get_config();this.setChecked("true"===b.teaser_layout.title)},this.controls.title.change=function(a,c){var d=this.component.get_config();d.teaser_layout.title=c.checked?"true":"false",this.component.update_config(d.teaser_layout,"teaser_layout"),this.component.generate_post_grid(a),b.controls.preview.update()},this.controls.read_more_lnk.update=function(a){var b=this.component.get_config();this.setChecked("true"===b.teaser_layout.read_more)},this.controls.read_more_lnk.change=function(a,c){var d=this.component.get_config();d.teaser_layout.read_more=c.checked?"true":"false",this.component.update_config(d.teaser_layout,"teaser_layout"),this.component.generate_post_grid(a),b.controls.preview.update()},this.controls.text.update=function(a){var b=this.component.get_config();this.setChecked("true"===b.teaser_layout.text)},this.controls.text.change=function(a,c){var d=this.component.get_config();d.teaser_layout.text=c.checked?"true":"false",this.component.update_config(d.teaser_layout,"teaser_layout"),this.component.generate_post_grid(a),b.controls.preview.update()},this.controls.text_type.update=function(a){var b=this.component.get_config();this.setValue(b.text_type)},this.controls.text_type.input=function(a,c){this.component.update_config(c.value,"text_type"),this.component.generate_post_grid(a),b.controls.preview.update()};var c=this.config.preview.config;this.controls.preview.attach_collection(this.teaserLayoutCollection),this.controls.preview.update=function(a){var b=[],d=this.component.get_config();_.each(d.layout,function(a,d){b.push({icon:"",key:a,label:c.labels[a]})},this),this.component.teaserLayoutCollection.reset(b)},this.listenTo(this.teaserLayoutCollection,"change",_.bind(function(a){var b=[];this.teaserLayoutCollection.each(function(a){b.push(a.get("key"))},this),this.update_config(b,"layout"),this.generate_post_grid()},this))},order_control:function(){return c("../controls/preview-list")}})},"post-grid-query.js":function(a,b,c){var d=c("./post-grid");b.exports=d.extend({before_update:jQuery.noop,controls_init:function(a){this.controls.content.update=function(a){var b=this.component.get_config();if(!b.content_types&&b.post_types&&Object.keys(b.post_types).length>0){var c=[];for(var d in b.post_types)"true"===b.post_types[d]&&c.push(d);b.content_types=c}this.setValue(b.content_types)},this.controls.content.input=function(a,b){this.component.update_config(_.pluck(b,"id"),"content_types");var c=this.component.get_config();c.post_types&&delete c.post_types,this.component.generate_post_grid(a)},this.controls.order_by.update=function(a){var b=this.component.get_config();this.setValue(b.orderby)},this.controls.order_by.input=function(a,b){this.component.update_config(b.value,"orderby"),this.component.generate_post_grid(a)},this.controls.order_mode.update=function(a){var b=this.component.get_config();this.setValue(b.order)},this.controls.order_mode.input=function(a,b){this.component.update_config(b.value,"order"),this.component.generate_post_grid(a)},this.controls.number_of_posts.update=function(a){var b=this.component.get_config();this.setValue(b.posts_per_page)},this.controls.number_of_posts.input=function(a,b){this.component.update_config(b.value,"posts_per_page"),this.component.generate_post_grid(a)},this.controls.recent_days.input=function(a,b){},this.controls.recent_days.update=function(a){var b=this.component.get_config();this.setValue(b.recent_days)},this.controls.recent_days.change=function(a,b){this.component.update_config(b.value,"recent_days"),this.component.generate_post_grid(a)},this.controls.start.input=function(a,b){},this.controls.start.update=function(a){var b=this.component.get_config();this.setValue(b.posts_start)},this.controls.start.change=function(a,b){this.component.update_config(b.value,"posts_start"),this.component.generate_post_grid(a)}}})},"post-grid.js":function(a,b,c){var d=c("../base"),e=c("../../libs/shortcode-manager"),f=null,g=null;b.exports=d.component.extend({before_update:function(){f=null,g=null},controls_init:function(a){TVE.main.on("device_change",function(){TVE.inner.window.TCB_Front.postGridLayout()}),this.controls.read_more.update=function(a){var b=this.component.get_config();b["read-more-text"]||(b["read-more-text"]="Read More"),this.setValue(b["read-more-text"])},this.controls.read_more.change=function(a,b){this.component.update_config(b.value,"read-more-text"),a.find(".tve_pg_more a").text(b.value)},this.controls.read_more_color.change=function(a){this.applyTo().head_css({color:a},!1," .tve_pg_container .tve_pg_more a")},this.controls.read_more_color.input=function(a){this.applyTo().head_css({color:a},!1," .tve_pg_container .tve_pg_more a")},this.controls.read_more_color.update=function(a){this.setValue(this.applyTo().find(".tve_pg_container .tve_pg_more a").css("color"))},this.controls.img_height.input=function(a,b){a.find(".tve_post_grid_image_wrapper").css("height",b.value),this.component.after_generate(a)},this.controls.img_height.change=function(a,b){a.find(".tve_post_grid_image_wrapper").css("height",b.value),this.component.update_config(b.value,"image-height")},this.controls.img_height.update=function(a){this.setValue(a.find(".tve_post_grid_image_wrapper").css("height"))},this.controls.title_font_size.input=function(a,b){a.head_css({"font-size":b.value+"px !important"},!1,this.config.css_suffix),this.component.after_generate(a)},this.controls.title_font_size.change=function(a,b){a.head_css({"font-size":b.value+"px !important"},!1,this.config.css_suffix),this.component.update_config("","font-size")},this.controls.title_font_size.update=function(a){this.setValue(a.css("font-size"))},this.controls.title_line_height.input=function(a,b){a.head_css({"line-height":b.value+"px !important"},!1,this.config.css_suffix),this.component.after_generate(a)},this.controls.title_line_height.change=function(a,b){a.head_css({"line-height":b.value+"px !important"},!1,this.config.css_suffix),this.component.update_config("","text-line-height")},this.controls.title_line_height.update=function(a){this.setValue(a.css("line-height"))}},get_config:function(){return null===f&&(f=e(TVE.ActiveElement.find(".thrive-shortcode-config"),"post_grid")),null===g&&(g=f.get()),g},update_config:function(a,b){null===f&&(f=e(TVE.ActiveElement.find(".thrive-shortcode-config"),"post_grid")),g[b]=a,f.update(a,b)},edit_grid_options:function(){TVE.Editor_Page.disable(),TVE.ActiveElement.addClass("canvas-mode"),TVE.main.switch_menu_to("custom","postgrid"),TVE.inner_$("#tcb-postgrid-panel").show(),TVE.inner_$("#tcb-postgrid-panel").find(".tcb-close-postgrid-btn").off("click").on("click",jQuery.proxy(this.close_grid_options,this)),TVE.$("#sidebar-postgrid").find("#tcb-component-close-grid-options").off("click").on("click",jQuery.proxy(this.close_grid_options,this)),this.position_buttons(),TVE.main.toggle_navigation(!0)},close_grid_options:function(){TVE.main.switch_menu_to("components"),TVE.ActiveElement.removeClass("canvas-mode"),TVE.inner_$("#tcb-postgrid-panel").hide(),TVE.Editor_Page.enable(),TVE.main.toggle_navigation(!1),TVE.main.close_select2()},position_buttons:function(){var a=TVE.ActiveElement.offset(),b=TVE.Editor_Page.$body.offset();TVE.inner_$("#tcb-postgrid-panel").css({left:a.left-b.left+"px",top:a.top-b.top+TVE.ActiveElement.outerHeight()+"px",width:TVE.ActiveElement.outerWidth()})},placeholder_action:function(){this.generate_post_grid()},generate_post_grid:function(a){var b=void 0===a?TVE.ActiveElement:a,c={},d=this;b.find(".thrive-shortcode-config").length&&(c=d.get_config()),delete c.action,delete c.tve_lb_type,delete c.nonce,b.addClass("tcb-el-loading"),TVE.ajax("post_grid","post",c).success(function(a){b.html(a.html),d.after_generate(b),b.trigger("click")}).always(function(){b.removeClass("tcb-el-loading")})},after_generate:function(a){a.removeClass("tcb-elem-placeholder"),a.find(".tve_post_grid_masonry").length?a.find(".tve_post_grid_masonry").masonry():(a.find(".tve_pg_row").css("height",""),a.find(".tve_pg_row").each(function(){var a=0,b=jQuery(this);b.find(".tve_post").each(function(){var b=jQuery(this),c=parseInt(b.outerHeight());c>a&&(a=c),b.css("height","100%")}),b.css("height",a-1+"px")})),this.position_buttons()}})},"progress-bar.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({needs_update:function(a){return!a.hasClass("thrv-progress-bar")},migrate_element:function(a){var b,c,d;b=a.css(["margin"]),a.head_css(b),b=a.css(["border-width","border-style","border-color","border-image","border-radius"]),a.find(".tve_progress_bar").head_css(b),c=a.find(".tve_data_element_label").css(["background-color"]),b=a.find(".tve_progress_bar").css(["background-color"]),a.find(".tve_progress_bar").addClass("tve-progress-bar").removeClass("tve_progress_bar").head_css(b),b=a.find(".tve_progress_bar_fill").css(["background-color"]),a.find(".tve_progress_bar_fill").head_css(b),d=a.find(".tve_progress_bar_fill_wrapper").css(["width"]),a.find(".tve_progress_bar_fill_wrapper").head_css({width:d.width}),a.find(".tve_progress_bar_fill_wrapper").attr("style",""),a.find(".tve-progress-bar").append('<div class="tve-progress-bar-label"><div class="thrv-inline-text tve_editable">'+a.find(".tve_data_element_label").html()+"</div></div>"),a.find(".tve_data_element_label").remove(),a.find(".thrv-inline-text").head_css(c),a.addClass("thrv-progress-bar").removeClass("thrv_progress_bar")},controls_init:function(a){var b=this;this.controls.BackgroundColor.change=function(a){this.input(a)},this.controls.BackgroundColor.input=function(a){this.applyTo().head_css({"background-color":a})},this.controls.BackgroundColor.update=function(a){this.setValue(a.css("background-color"))},this.controls.FillColor.change=function(a){this.input(a)},this.controls.FillColor.input=function(a){this.applyTo().head_css({"background-color":a})},this.controls.FillColor.update=function(a){this.setValue(a.css("background-color"))},this.controls.LabelColor.change=function(a){this.input(a)},this.controls.LabelColor.input=function(a){this.applyTo().head_css({"background-color":a})},this.controls.LabelColor.update=function(a){this.setValue(a.css("background-color"))},this.controls.FillPercent.input=function(a,b){a.attr("data-fill",b.value),a.head_css({width:b.value+this.getUM()})},this.controls.FillPercent.update=function(a){var b=a.attr("data-fill");b||(b=20,a.attr("data-fill",b),a.head_css({width:b+"%"})),this.setValue(b)},a.InnerLabel.change=function(c,d){var e,f=TVE.renderers.base.read_element_props(c);d.checked?(c.html('<div class="thrv-inline-text tve_editable">'+TVE.t.ProgressBarLabel+"</div>"),a.LabelColor.update(c.find(".thrv-inline-text")),a.LabelColor.$el.show()):(c.html(""),a.LabelColor.$el.hide()),e=TVE.renderers.base.read_element_props(c),b.undo_action(c,f,e)},a.InnerLabel.update=function(a){var b=a.html().length>0;this.setChecked(b)}},undo_action:function(a,b,c){TVE.UndoManager.add({undo:function(){a.html(b.html)},redo:function(){a.html(c.html)}})}})},"rating.js":function(a,b,c){var d=c("../controls/rating/style");b.exports=c("../base").component.extend({extra_states:!0,controls_init:function(){this.controls.size.update=function(a){this.setValue(a.find("svg").first().width())},this.controls.size.input=function(a){a.head_css({"font-size":this.value("px")})};var a=this.config.stylePicker;a.config.items=this.renderer.get_styles(),this.controls.style.set_drop_panel(new d({model:a,renderer:this.renderer})),this.controls.background.input=function(a){this.applyTo().head_css({fill:a},null," .sr-background")},this.controls.background.update=function(a){this.setValue(a.find("path.sr-background").css("fill"))},this.controls.fill.input=function(a){this.applyTo().head_css({fill:a},null," .sr-fill")},this.controls.fill.update=function(a){this.setValue(a.find("path.sr-fill").css("fill"))},this.controls.outline.input=function(a){this.applyTo().head_css({fill:a},null," .sr-outline")},this.controls.outline.update=function(a){this.setValue(a.find("path.sr-outline").css("fill"))}},rating_value_control:function(){
return c("../controls/rating/rating-value")},rating_style_control:function(){return c("../controls/style-change")}})},"responsive-video":{"video-controls.js":function(a,b,c){var d=c("../../base"),e=c("../../controls/input"),f=c("../../controls/file");b.exports=c("../animation/video-popup").extend({template:TVE.tpl("controls/responsive-video-settings"),controls_init:function(){this.render(),this.$source=this.$(".v-source"),this.providers={},this.$(".v-settings").each(_.bind(function(a,b){var c=b.getAttribute("data-view");this.providers[c.toLowerCase()]=new TVE.VideoProviders[c]({el:b,key:c.toLowerCase(),control:this})},this)),this.input_time_constructors(),this.videoThumbnail=new g({el:this.$(".tve-video-thumbnail-control"),control:this})},set_thumbnail:function(a){this.videoThumbnail.set_selection(a)},open_style_picker:function(a,b){return b=b.parentElement.getElementsByClassName("tcb-icon-edit")[0],this.config.component_controls.style.open(null,b),!1},input_time_constructors:function(){var a=this.$('.tve-time-control[data-time="Minute"]'),b=this.$('.tve-time-control[data-time="Second"]'),c=this;return a.length&&b.length?(this.minutes=new e({el:a,model:{config:{name:"Minutes",default:0,min:0,max:59,maxlength:2}}}),this.minutes.input=function(){},this.minutes.change=function(a,b,d){c.trigger("start-time-changed",a)},this.seconds=new e({el:b,model:{config:{name:"Seconds",default:0,min:0,max:59,maxlength:2}}}),this.seconds.input=function(){},this.seconds.change=function(a,b,d){c.trigger("start-time-changed",a)},this):this}});var g=d.component.extend({control:null,initialize:function(a){this.control=a.control,this.file_picker=new f({template_name:"util/video-file-picker",labels:{choose:TVE.t.ChooseFile,title:TVE.t.Files},config:{type:"image"}}),this.$el.prepend(this.file_picker.$el),this.file_picker.on("select",_.bind(this.on_select,this)).on("remove",_.bind(this.on_remove,this))},set_selection:function(a){this.file_picker.set(a)},on_select:function(a){this.control.trigger("thumbnail-changed",a)},on_remove:function(){this.control.trigger("thumbnail-removed")}})}},"responsive-video.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({controls_init:function(a){},responsive_video:function(){return c("../controls/responsive-video/video")},responsive_video_style:function(){return c("../controls/responsive-video/style")}})},"responsive.js":function(a,b,c){var d=c("../base"),e=c("../controls/icon-label-switch");b.exports=d.component.extend({template:TVE.tpl("controls/responsive"),desktop_hide_class:"tcb-desktop-hidden",tablet_hide_class:"tcb-tablet-hidden",mobile_hide_class:"tcb-mobile-hidden",show_hidden_elements:"tcb_show_all_hidden",devices:[],update:function(){this.devices=[],d.component.prototype.update.apply(this,arguments)},initialize:function(){this.render(),this.hide(),this.controls={Desktop:new e({el:this.$el.find('.tve-control[data-device="desktop"]'),template_model:new Backbone.Model({icon:TVE.icon("desktop2"),device:TVE.t.Desktop,switch_label:!0})}),Tablet:new e({el:this.$el.find('.tve-control[data-device="tablet"]'),template_model:new Backbone.Model({icon:TVE.icon("tablet"),device:TVE.t.Tablet,switch_label:!0})}),Mobile:new e({el:this.$el.find('.tve-control[data-device="mobile"]'),template_model:new Backbone.Model({icon:TVE.icon("mobile2"),device:TVE.t.Mobile,switch_label:!0})})},this.controls_init(this.controls)},controls_init:function(a){var b=this;a.Desktop.change=function(a){b.change_add_element_device_status(a,this,b.desktop_hide_class,"Desktop")},a.Desktop.update=function(){b.update_add_element_device_status(this,b.desktop_hide_class,"Desktop")},a.Tablet.change=function(a){b.change_add_element_device_status(a,this,b.tablet_hide_class,"Tablet")},a.Tablet.update=function(){b.update_add_element_device_status(this,b.tablet_hide_class,"Tablet")},a.Mobile.change=function(a){b.change_add_element_device_status(a,this,b.mobile_hide_class,"Mobile")},a.Mobile.update=function(){b.update_add_element_device_status(this,b.mobile_hide_class,"Mobile")}},show_all_hidden:function(a,b){b.checked?TVE.Editor_Page.$body.addClass(this.show_hidden_elements):TVE.Editor_Page.$body.removeClass(this.show_hidden_elements)},change_add_element_device_status:function(a,b,c,d){var e=b.applyTo();a?(e.removeClass(c),this.remove_device(d),TVE.Editor_Page.selection_manager.show_icons(TVE.ActiveElement)):(e.addClass(c),this.add_device(d),"none"===e.css("display")&&TVE.Editor_Page.selection_manager.hide_icons()),this.undo_manager_api(e,d,c,this),this.disable_device_checkbox()},update_add_element_device_status:function(a,b,c){a.applyTo().hasClass(b)?(a.setChecked(!1),this.add_device(c)):a.setChecked(!0),this.disable_device_checkbox()},remove_device:function(a){delete this.devices[a]},add_device:function(a){this.devices[a]=!0},disable_device_checkbox:function(){this.map("setDisabled",!1),2===Object.keys(this.devices).length&&_.each(this.controls,function(a,b){this.devices[b]||a.setDisabled(!0)},this)},render:function(){this.$el.html(this.template())},undo_manager_api:function(a,b,c){var d=this,e=a;TVE.UndoManager.add({undo:function(){this.undo_redo()},redo:function(){this.undo_redo()},undo_redo:function(){e.hasClass(c)?(e.removeClass(c),TVE.ActiveElement?d.update():d.controls[b].setChecked(!0)):(e.addClass(c),TVE.ActiveElement?d.update():d.controls[b].setChecked(!1))}})}})},"reveal.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({controls_init:function(){var a=this;this.controls.RedirectURL.update=function(a){this.setValue(a.attr("data-redirect-url"))},this.controls.RedirectURL.change=function(b,c){var d=TVE.addHttp(c.value),e=b.attr("data-redirect-url");this.$el.find("input").val(d),TVE.isValidUrl(d)||""===d?(b.attr("data-redirect-url",d),a.undo_manager_api(b,"data-redirect-url",e,d)):TVE.page_message(TVE.t.RedirectionUrlInvalid,!0,5e3)},this.controls.Time.update=function(a){this.setValue(a.attr("data-after"))},this.controls.Time.change=function(b,c){var d=b.attr("data-after");b.attr("data-after",c),a.undo_manager_api(b,"data-after",d,c)},this.controls.AutoScroll.update=function(a){this.setChecked(1===Number(a.attr("data-scroll")))},this.controls.AutoScroll.change=function(b,c){var d=b.attr("data-scroll"),e=c.checked?"1":"0";b.attr("data-scroll",e),a.undo_manager_api(b,"data-scroll",d,e)}},undo_manager_api:function(a,b,c,d){TVE.UndoManager.add({undo:function(){a.attr(b,c)},redo:function(){a.attr(b,d)}})}})},"section.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({needs_update:function(a){return!a.children(".tve-page-section-out").length},migrate_element:function(a){var b,c,d,e,f;if(b=a.find(".in").css(["background-image","background-repeat","background-size","background-attachment","background-position","box-shadow"]),c=a.find(".in").css(["padding","color","min-height"]),d=a.find(".out").css(["background-color","border-width","border-style","border-color","border-image","border-radius"]),e=a.css(["margin-left","margin-right","margin-top","margin-right"]),f=a.find(".out").css(["margin-left","margin-right"]),a.removeClass("thrv_page_section").addClass("thrv-page-section tve_empty_dropzone"),a.prepend('<div class="tve-page-section-in"></div>'),a.prepend('<div class="tve-page-section-out"></div>'),a.find(".tve-page-section-out").head_css(d),a.find(".tve-page-section-out").head_css(b),a.head_css(c),Number(f["margin-left"].replace("px","")<-500)){f["margin-left"]="0px",a.addClass("tcb-window-width");var g=TVE.inner.$window.width(),h=a.parent().width();a.css({width:g+"px",left:-(g-h)/2+"px"}),a.find(".tve-page-section-in").head_css({"max-width":h+"px"})}e["margin-left"]=Number(e["margin-left"].replace("px",""))+Number(f["margin-left"].replace("px",""))+"px",e["margin-right"]=Number(e["margin-right"].replace("px",""))+Number(f["margin-right"].replace("px",""))+"px",a.css("margin",""),a.head_css(e),a.find(".tve-page-section-in").html(a.find(".in .cck").html()),a.find(".out").remove()},controls_init:function(a){var b=this;a.SectionHeight.input=function(c,d){var e,f=TVE.renderers.base.read_element_props(c);c.head_css({"min-height":d.value+this.getUM()+" !important"}),c.removeClass("tve-section-full-height"),e=TVE.renderers.base.read_element_props(c),b.undo_action(c,f,e),a.FullHeight.update(c)},a.SectionHeight.update=function(a){var b=a.head_css("min-height",!1,"",!0);b||(b=a.height()),this.setValue(b)},a.FullHeight.change=function(c,d){var e,f=TVE.renderers.base.read_element_props(c);d.checked?(c.addClass("tve-section-full-height"),c.head_css("min-height","")):c.removeClass("tve-section-full-height"),e=TVE.renderers.base.read_element_props(c),b.undo_action(c,f,e),a.SectionHeight.update(c)},a.FullHeight.update=function(a){var b=a.hasClass("tve-section-full-height");this.setChecked(b)},a.ContentWidth.input=function(a,b){a.head_css({"max-width":b.value+this.getUM()})},a.ContentWidth.update=function(a){var b=a.head_css("max-width",null,null,!0);b&&!isNaN(parseInt(b))||(b=a.outerWidth()),this.model.config.max=parseInt(a.parent().width()),this.setValue(b)},a.ContentFullWidth.change=function(b,c){b.head_css({"max-width":c.checked?"none":b.parent().parent().width()+"px"}),c.checked?a.ContentWidth.$el.hide():(a.ContentWidth.update(b),a.ContentWidth.$el.show())},a.ContentFullWidth.update=function(b){var c=b.css("max-width"),d=b.parent().hasClass("tcb-window-width")&&("none"===c||!c||isNaN(parseInt(c)));this.setChecked(d),a.ContentWidth.$el[d?"hide":"show"]()},a.VerticalPosition.change=function(a,b){a.removeClass("tcb-flex-center tcb-flex-end"),""===b.getAttribute("data-value")&&a.head_css({"justify-content":"",display:"block","flex-direction":""},null," .tve-page-section-in"),a.head_css({"justify-content":b.getAttribute("data-value"),display:"flex","flex-direction":"column"},null," .tve-page-section-in")},a.VerticalPosition.update=function(a){this.setActive(a.head_css("justify-content",null," .tve-page-section-in",!0)||"")},a.SectionFullWidth.change=function(b,c){var d=b.parent().width(),e=b.find(">.tve-page-section-in");TVE.SKIP_CSS_STATE=!0,b.toggleClass("tcb-window-width",c.checked),a.ContentFullWidth.$el[c.checked?"show":"hide"](),a.ContentFullWidth.setChecked(!1),a.ContentWidth.$el.show(),c.checked?(TVE.inner.window.TCB_Front.resizePageSection(b),e.head_css({"max-width":d+"px"})):b.css({width:"",left:""}),TVE.SKIP_CSS_STATE=!1,a.ContentWidth.update(e),TVE.Editor_Page.reposition_icons()},a.SectionFullWidth.update=function(b){var c=b.hasClass("tcb-window-width");a.ContentFullWidth.$el[c?"show":"hide"](),this.isChecked()!==c&&this.setChecked(c)}},undo_action:function(a,b,c){TVE.UndoManager.add({undo:function(){a.attr("class",b.cls).attr("style",b.style||"")},redo:function(){a.attr("class",c.cls).attr("style",c.style||"")}})}})},"sel-elem-nav.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({collection:null,item_tpl:TVE.tpl("controls/selected-elem-nav-item"),root_elements:[],initialize:function(a){TVE.main.on("clear_focus",_.bind(this.reset_collection,this)),this.collection=new Backbone.Collection,this.listenTo(this.collection,"reset",this.render)},reset_collection:function(){this.collection.reset([])},reset_breadcrumbs:function(){function a(a,e){var f=a.attr("data-element-name")||TVE.get_element_name(a);return void 0!==a.attr("data-element-name")&&(f=a.attr("data-element-name")),c||a[0]!==d[0]||(f+=": <strong>"+TVE.state_manager.get_state().toUpperCase()+"</strong>"),{element:a,edited_element:b.is(a),name:f}}var b=TVE.ActiveElement,c=TVE.state_manager.is_default(),d=TVE.state_manager.get_parent();d||(d=TVE.state_manager.get_element());var e=[a(b,TVE._type(b))],f=this.get_root_element();b.closest(f).length||(this.clear_root_element(),f=TVE.inner.$body),b.not(f).parentsUntil(f.parent(),TVE.Editor_Page.selection_manager.selectors.editable).each(function(){var b=TVE.inner_$(this),c=TVE._type(b);b.is(TVE.Editor_Page.selection_manager.selectors.not_editable)||null!==c&&e.push(a(b,c))}),e.reverse(),this.collection.reset(e)},render:function(){return this.$el.empty(),this.collection.each(this.renderOne,this),this},renderOne:function(a,b,c){var d=!1;return b===c.length-1&&(d=!0),this.$el.append(this.item_tpl({model:a,index:b,is_last:d})),this.afterRenderOne(a,b),this},afterRenderOne:function(a,b){!1===a.get("edited_element")&&this.$("[data-index='"+b+"']").addClass("tcb-active-element-breadcrumbs-item-after")},clicked:function(a,b){var c=this.collection.at(b.getAttribute("data-index"));TVE.Editor_Page.focus_element(c.get("element"))},push_root_element:function(a){this.get_root_element()[0]!==a[0]&&this.root_elements.push(a)},pop_root_element:function(a){return this.root_elements.length?this.get_root_element()[0]!==a[0]?null:this.root_elements.pop():null},clear_root_element:function(){return this.root_elements=[],this},get_root_element:function(){return this.root_elements.length?_.last(this.root_elements):TVE.inner.$body}})},"shadow.js":function(a,b,c){var d=c("../base"),e=c("../controls/button-panel-group"),f=c("../controls/shadow"),g=c("../controls/drop-panel");b.exports=d.component.extend({extra_states:!0,setConfig:function(a){this.config=_.extend({},a||{}),this.$element=a.to?TVE.ActiveElement.find(a.to):TVE.ActiveElement,this.css_suffix=a.css_suffix,this.css_prefix=a.css_prefix,this.hideControls(a.disabled_controls),_.each(this.tabs.panels,function(b){b.setConfig(a.Shadow)}),this.css_attribute||this.setCssAttribute(a),this.update(),!this.$element||this.$element.length},hideControls:function(a){var b=this;this.$("#tcb-shadow-buttons .btn-inline").show(),a&&a.forEach(function(a){b.$('*[data-panel="'+a+'"]').hide()})},getDefaultValues:function(){return{angle:180,color:"rgba(0, 0, 0, 0.4)",distance:8,blurr:12,spread:0}},controls_init:function(){this.collection=new Backbone.Collection,this.bindListeners(),this.init_shadows()},bindListeners:function(){this.collection.bind("change-attributes",this.change,this),this.collection.bind("cancel-changes",this.cancel,this),this.collection.bind("apply-changes",this.apply,this),this.collection.bind("remove-shadow",this.remove,this)},update:function(){var a=this.$element;this.css_suffix&&(a=this.$element.find(this.css_suffix)),this.renderShadowAttributes(this.getShadowAttributes(a))},change:function(a){var b={};b[this.css_attribute]=this.buildShadowAttribute(this.collection),TVE.SKIP_CSS_STATE=!!a,this.$element=this.config.to?TVE.ActiveElement.find(this.config.to):TVE.ActiveElement,this.$element.head_css(b,null,this.css_suffix,!0,this.css_prefix)},setInitialState:function(){var a={};a[this.css_attribute]=this.buildShadowAttribute(this.collection),TVE.UndoManager.temp.set(this.$element,a)},init_shadows:function(){this.tabs=new e({el:this.$("#tcb-shadow-buttons"),buttons:this.buttons(),label:TVE.t.AddNew}),this.tabs.on("open",_.bind(this.add_shadow,this))},setControlCollection:function(){var a=this;_.each(this.tabs.panels,function(b){b.setCollection(a.collection)})},renderShadowAttributes:function(a){this.$list=this.$("#tcb-"+this.css_attribute+"-list"),this.$list.empty();var b=this;if(!a.length){var c=TVE.tpl("shadow/no-shadow");return void this.$list.html(c({}))}a.each(function(a,b){var c=TVE.tpl("shadow/shadow-entry");this.$list.append(c({item:a}))},this),this.$list.sortable({axis:"y",handle:".preview-list-sort-handle",update:function(a,c){b.reOrder(c.item[0].getAttribute("data-index"),c.item.index())}})},buildShadowAttribute:function(a){var b,c,d="",e=this.config.important?" !important":"",f=this.default_shadow?this.default_shadow:this.config.default_shadow;return a.each(function(e,f){b=e.get("spread")?e.get("spread")+"px ":"",c=e.get("color")||"transparent",d+=e.get("horizontal")+"px "+e.get("vertical")+"px "+e.get("blur")+"px "+b+c+("inset"===e.get("inner")?" inset":"")+(f+1===a.length?"":", ")}),d=d||(f||"none"),d?d+e:d},reRender:function(){this.renderShadowAttributes(this.collection)},cancel:function(){return this.collection.reset(this.backup),this.change(),this.reRender(),!1},apply:function(){return this.is_during_apply=!0,this.change(),this.update(),delete this.is_during_apply,!1},remove:function(a,b){return g.close_all(),this.collection.remove(this.collection.findWhere({index:parseInt(b.getAttribute("data-index"))})),this.change(),this.reRender(),a.stopPropagation(),!1},setCssAttribute:function(a){a&&a.css_attribute?this.css_attribute=a.css_attribute:this.css_attribute="box-shadow"},add_shadow:function(a,b){this.setBackup(),this.setInitialState();var c=this.getDefaultValues();a.updateControls(null,b,c)},setBackup:function(){this.backup=this.collection.toJSON()},edit_shadow:function(a,b){this.setInitialState();var c=b.getAttribute("data-index"),d=this.collection.findWhere({index:Number(c)}),e=d.get("inner")?"inner":"drop";this.setBackup(),this.tabs.panels[e].updateControls(d,null);var f=this.tabs.panels[e];return f.isOpen()?(f.onCancel(),!1):(f.open(null,b),a.stopPropagation(),!1)},parseCss:function(a){if(this.collection.reset(),a){var b,c,d,e;0===a.indexOf("rgb")?(b=/((rgba?)\(([^\)]+)\)([^,]*))+/g,c=2,d=3,e=4):(b=/(([^,]*?)(rgba?)\(([^\)]+)\))+/g,c=3,d=4,e=2);for(var f,g="",h=0,i=[];f=b.exec(a);)g=f[c]+"("+f[d]+")",i=f[e].replace(/^\s+|\s+$/g,"").split(" "),this.collection.add(this.createShadowModel(g,i,h)),h++}return this.setControlCollection(),this.collection},getShadowAttributes:function(a){return this.parseCss(a?a.css(this.css_attribute):"")},createShadowModel:function(a,b,c){var d=new Backbone.Model;return d.set("horizontal",b[0].replace("px","")),d.set("vertical",b[1].replace("px","")),d.set("blur",b[2]?b[2].replace("px",""):null),d.set("spread",b[3]?b[3].replace("px",""):null),d.set("color",a),d.set("inner",b[4]?b[4]:null),d.set("index",c),d},reOrder:function(a,b){var c=this.collection.at(a),d=new Backbone.Model(c.toJSON());this.collection.remove(c),this.collection.add(d,{at:b}),this.change()},buttons:function(){return{inner:{icon:"tve-inner-shadow-icon",title:TVE.t.Inner,panel:new f({collection:[]})},drop:{icon:"tve-outer-shadow-icon",title:TVE.t.Drop,panel:new f({collection:[]})}}}})},"social.js":function(a,b,c){var d=c("../controls/social/style"),e=c("../../collections/base"),f=c("../controls/social/network-options"),g=new e;b.exports=c("../base").component.extend({controls_init:function(){var a=this,b=this.get_collection();this.controls.style.set_drop_panel(new d({model:this.config.stylePicker,renderer:this.renderer})),this.controls.type.update=function(a){var b=a.find(".tve_social_items").attr("class").replace(/(tve_social_items|tve_social_custom)/g,"").match(/(\s+)?tve_social_([a-z]{2,3})/),c=b?"tve_social_"+b[2]:"tve_social_itb";this.setActive(c),this.component.renderer.set_config({button_type:c})},this.controls.type.input=_.bind(function(a,b){this.renderer.set_config({button_type:b.getAttribute("data-value")}),this.renderer.render_to(a,!0),TVE.Components.shadow.update()},this),this.controls.size.update=function(a){this.setValue(parseInt(a.find(".tve_social_items").css("font-size")))},this.controls.size.input=function(a,b){a.head_css({"font-size":b.value+"px !important"},null," .tve_social_items")},this.controls.orientation.update=function(a){this.setActive("table"===a.find(".tve_s_item").css("display")?"v":"h")},this.controls.orientation.input=function(a,b){var c={"margin-bottom":"",display:""};"v"===b.getAttribute("data-value")&&(c["margin-bottom"]="10px",c.display="table"),a.head_css(c,null," .tve_social_items .tve_s_item"),TVE.Editor_Page.reposition_icons(a)},this.controls.preview.attach_collection(b),this.controls.selector.attach_collection(b),this.controls.preview.get_items=_.bind(this.controls.selector.read_element,this.controls.selector),this.controls.preview.on("item_click",_.bind(this.open_edit_panel,this)),_.each(this.controls.selector.networks,function(a,b){if(!f[b])return!0;this.controls[b]=new f[b]({network:b,component:this}),this.listenTo(this.controls[b],"apply",function(a,c){var d={};d[b]=c,this.renderer.set_config(d),this.renderer.render_to(a,!0)})},this),this.listenTo(b,"change",this.render),this.listenTo(b,"remove",this.render),this.listenTo(b,"add",this.render),this.controls.has_custom_url.update=function(b){var c="{tcb_post_url}"===b.find(".tve_s_item").attr("data-href");this.setChecked(!c),a.controls.custom_url.$el[c?"hide":"show"]()},this.controls.has_custom_url.change=function(b,c){a.controls.custom_url.$el[c.checked?"show":"hide"]().find("input").focus(),c.checked||(a.renderer.set_config({share_url:"{tcb_post_url}"}).render_to(b,!0),TVE.inner.window.TCB_Front.getShareCounts(b,{post_id:TVE.CONST.post.ID}))},this.controls.custom_url.hide().update=function(b){var c=b.find(".tve_s_item").attr("data-href");c=c&&"{tcb_post_url}"!==c?TVE.addHttp(c):"",this.setValue(c),a.renderer.set_config({share_url:c||"{tcb_post_url}"})},this.controls.custom_url.change=function(b,c){var d=TVE.addHttp(c.value);if(!TVE.isValidUrl(d))return TVE.page_message(TVE.t.missing_invalid_url,!0),!1;a.renderer.set_config({share_url:d}).render_to(this.applyTo(),!0),TVE.inner.window.TCB_Front.getShareCounts(this.applyTo(),{post_id:TVE.CONST.post.ID})},this.controls.counts.update=function(a){this.setValue(a.attr("data-min_shares")||0)},this.controls.counts.input=function(){},this.controls.counts.change=function(b){a.renderer.set_config({min_shares:parseInt(this.getValue())}).render_to(b,!0)},this.controls.total_share.update=function(b){var c=!!b.find(".tve_s_share_count").length;this.setChecked(c),a.renderer.set_config({show_count:c}),TVE.inner.window.TCB_Front.getShareCounts(b,{post_id:TVE.CONST.post.ID})},this.controls.total_share.change=function(b,c){a.renderer.set_config({show_count:c.checked}).render_to(b,!0),TVE.inner.window.TCB_Front.getShareCounts(b,{post_id:TVE.CONST.post.ID})}},get_collection:function(){return g},style_control:function(){return c("../controls/style-change")},selector_control:function(){return c("../controls/social/selector")},render:function(){var a=TVE.ActiveElement;this.renderer.set_config({selected:this.get_collection().pluck("key")},!1),this.renderer.render_to(a,!0)},open_selector_panel:function(a,b){return this.controls.selector.read_element(),this.controls.selector.open(null,b),!1},open_edit_panel:function(a,b){return this.controls[a.get("key")].set_model(a).open(TVE.ActiveElement,b),!1}})},"styled-list.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({listItemsCollection:new Backbone.Collection({}),controls_init:function(){var a=this;TVE.main.on("ctrl-enter-pressed",function(a){TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&TVE.froala.editor.cursor.enter()}),TVE.main.on("enter-pressed",function(b){TVE.ActiveElement.hasClass("tcb-styled-list-icon-text")&&a.add_list_item_after(TVE.ActiveElement,b)}),this.controls.item_spacing.update=function(){var a=this.applyTo().head_css("margin-bottom",null,this.config.css_suffix,!0,this.config.css_prefix);a||(a=0),this.setValue(a)},this.controls.item_spacing.input=function(a,b){a.head_css({"margin-bottom":b.value+this.getUM()+" !important"},!1,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.icons_size.update=function(a){var b=a.attr("data-icons-size");b||(b=this.config.config.default),this.setValue(b)},this.controls.icons_size.input=function(a,b){a.find(".thrv_icon").head_css({"font-size":b.value+this.getUM(),width:b.value+this.getUM(),height:b.value+this.getUM()},null,this.config.css_suffix,!0,this.config.css_prefix)},this.controls.icons_size.change=function(a,b){a.find(".thrv_icon").head_css({"font-size":b.value+this.getUM(),width:b.value+this.getUM(),height:b.value+this.getUM()},null,this.config.css_suffix,!0,this.config.css_prefix),a.attr("data-icons-size",b.value),TVE.Editor_Page.reposition_icons()},this.controls.icons_color.input=function(a){this.applyTo().find(".thrv_icon").head_css({color:a})},this.controls.icons_color.change=function(a){var b=this.applyTo();b.find(".thrv_icon").head_css({color:a}),b.attr("data-color",a.toRgbString())},this.controls.icons_color.update=function(a){var b=a.attr("data-color");b||(b="rgb(0,0,0)"),this.setValue(b)},this.controls.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),this.controls.ModalPicker.input=function(a,b){var c;if(b.icon.is(".tve-svg-icon")){var d=jQuery("symbol#"+b.icon.data("cls"));c=TVE.svg_icon({path:d.html(),viewBox:d[0].getAttribute("viewBox"),name:d.find("> title").text()})}else c='<span data-name="'+b.icon.data("cls").replace("icon-","")+'" class="tve_sc_icon '+b.icon.data("cls")+'"></span>';a.attr("data-icon-code",b.icon.data("cls")).find(".thrv_icon").html(c),this.update(a)},this.controls.ModalPicker.update=function(a){var b=a.attr("data-icon-code");this.updateValue(b.replace("icon-",""))},this.controls.preview.attach_collection(this.listItemsCollection),this.controls.preview.update=function(a){var b=[],c=a.find("li");_.each(c,function(a,c){var d=jQuery(a);b.push({icon:this.component.renderer.get_icon(d),key:d,label:this.component.renderer.get_text(d)})},this),this.component.listItemsCollection.reset(b)},this.listenTo(this.listItemsCollection,"remove",_.bind(function(a){var b=a.get("key");b instanceof jQuery&&b.remove()},this)),this.listenTo(this.listItemsCollection,"change",_.bind(function(a){var b=this.controls.preview.applyTo(),c=b.find("ul");c.empty(),this.listItemsCollection.each(function(a){c.append(a.get("key"))},this)},this))},add_list_item_after:function(a,b){var c=a.closest(".thrv-styled_list").attr("data-color"),d=a.closest(".thrv-styled_list").attr("data-icon-code"),e=a.closest(".thrv-styled-list-item"),f=TVE.getCaretCharacterOffsetWithin(b.currentTarget),g=jQuery(b.currentTarget).text(),h=g.substr(f,g.length),i=g.substr(0,f);jQuery(b.currentTarget).text(i),e.after(this.renderer.create_default_list_item(d,h)),"undefined"!==c&&e.next().find(".thrv_icon").head_css({color:c});var j=e.next().find(".tcb-styled-list-icon-text");j.mouseenter(),j.trigger("click.tcb"),j.froalaEditor("events.focus"),TVE.froala.editor.selection.setAtEnd(TVE.froala.editor.$el.get(0)),TVE.froala.editor.selection.restore()},add_list_item:function(){var a=this.controls.preview.applyTo(),b=a.attr("data-color");a.find("ul").append(this.renderer.create_default_list_item(a.attr("data-icon-code")));var c=a.find("li").last();"undefined"!==b&&c.find(".thrv_icon").head_css({color:b}),this.controls.preview.update(a)},list_preview_control:function(){return c("../controls/preview-list")}})},"styles-templates.js":function(a,b,c){var d=c("../base"),e=c("../controls/label-input");b.exports=d.component.extend({template:TVE.tpl("controls/styles-templates"),stepClass:".tcb-style-template-step",currentStep:0,initialize:function(){this.render(),this.hide(),this.controls={Class:new e({el:this.$el.find('.tve-control[data-input="class"]'),model:new Backbone.Model({label:TVE.t.Class,label_col_x:2,extra_attrs:""})}),ID:new e({el:this.$el.find('.tve-control[data-input="id"]'),model:new Backbone.Model({label:TVE.t.ID,label_col_x:2,extra_attrs:'style="width: 50%"'})})},this.controls_init(this.controls)},render:function(){return this.$el.html(this.template()),this.afterRender(),this},afterRender:function(){return this.steps=this.$(this.stepClass).hide(),this.gotoStep(0),this.$m=this.$(".inline-message"),this.$autocomplete=this.$("#tcb-template-categ-suggest"),this.$save_button=this.$('.tve-button[data-fn="save_template"]'),this.bind(),this},gotoStep:function(a){this.steps.hide().eq(a).show(),this.currentStep=a},next:function(){this.gotoStep(this.currentStep+1),TVE.main.scroll_panel_to(this.$el),this.$("#tcb-template-name").focus()},prev:function(){this.gotoStep(this.currentStep-1)},controls_init:function(a){a.Class.update=function(a){var b=TVE.Editor_Page.content_manager.parse_element_classes(a.attr("class"));this.setValue(b)},a.Class.change=function(a,b){var c=b.value;this.applyTo().removeClass(function(a,b){return TVE.Editor_Page.content_manager.parse_element_classes(b)}),this.applyTo().addClass(c)},a.ID.change=function(a,b){this.applyTo().attr("id",b.value)},a.ID.update=function(a){var b=a.attr("id");b&&b.length&&-1===b.indexOf("mce_")||(b=""),this.setValue(b)}},bind:function(){var a=this,b={tags:!0,multiple:!0,placeholder:"Select a category...",minimumResultsForSearch:0,maximumSelectionLength:1,data:tcb_main_const.tpl_categ,createTag:function(a){return{id:a.term,text:'"'+a.term+'" <b style="color:#1ca6e5; float: right;; text-transform: uppercase">Add as category</b>',value:a.term,isNew:!0}},escapeMarkup:function(a){return a}};this.$autocomplete.select2(b).on("select2:selecting",function(a){a.params.args.data.isNew&&(a.params.args.data.text=a.params.args.data.value)}).on("select2:select",function(b){var c=jQuery(this);b.params.data.isNew?TVE.ajax("save_user_template_category","post",{category_name:b.params.data.value}).done(function(d){tcb_main_const.tpl_categ.push({id:d.response.id,text:d.response.name,value:d.response.name}),a.$("#tcb-template-category-id").val(d.response.id),c.find('[value="'+b.params.data.id+'"]').replaceWith('<option selected value="'+d.response.id+'">'+b.params.data.value+"</option>"),c.val(d.response.id).trigger("change"),TVE.page_message(d.text)}).always(function(b){a.$save_button.removeClass("tve-disabled")}):a.$("#tcb-template-category-id").val(a.$autocomplete.val())}).on("select2:unselect",function(b){a.$("#tcb-template-category-id").val(""),b.params.originalEvent&&b.params.originalEvent.stopPropagation()}),TVE.main.on("clear_focus",function(){a.$autocomplete.select2("close")})},show_hide_tpl_category:function(a,b){b.checked?this.$("#tcb-select-category-row").removeClass("tcb-hidden"):this.$("#tcb-select-category-row").addClass("tcb-hidden")},clear_styles:function(a,b){_.each(this.controls,function(a){a.setValue(""),a.change("")});var c=TVE._type(TVE.ActiveElement),d=TVE.Elements[c],e=TVE.get_all_props(d.components,"to");TVE.ActiveElement.removeAttr("data-css"),TVE.ActiveElement.find(e.join(",")).removeAttr("data-css")},validate:function(){return _.isEmpty(this.$("#tcb-template-name").val())?(this.$m.html(TVE.icon("close")+"&nbsp;"+TVE.t.tpl_name_required).addClass("m-error"),!1):(this.$m.empty(),!0)},save_template:function(a,b){if(this.validate()){for(var c,d,e=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,f="",g=[],h=new FormData,i=TVE.ActiveElement.parent().hasClass("tcb-clear")?TVE.ActiveElement.parent().clone():TVE.ActiveElement.clone(),j=TVE._type(TVE.ActiveElement),k=0;d=e[k++];)if(d.type!==CSSRule.IMPORT_RULE);else{var l=TVE.FontManager.read_font_name(d.cssText);TVE.FontManager.is_font_used(l)&&void 0===g[l]&&(g[l]=1,f+=d.cssText)}i.wrap("<div></div>"),i=i.parent(),c=i.collect_head_css(),c[0]=f;var m=TVE.Editor_Page.content_manager.get_clean_content({},i),n=this.$("#tcb-template-category-id").val(),o=TVE.ActiveElement.color_selector()?[TVE.ActiveElement.color_selector()]:[];TVE.ActiveElement.find("[data-tve-custom-colour]").each(function(){o.push(TVE.inner_$(this).color_selector())}),h.append("template_name",this.$("#tcb-template-name").val()),h.append("template_content",m),h.append("template_category",n),h.append("post_id",TVE.CONST.post_id),h.append("custom_css",o),h.append("media_rules",JSON.stringify(c)),h.append("template_type",j),TVE.generateElementPreview(TVE.ActiveElement,this,this.execute_ajax,h)}},handle_keyup_save:function(a,b){switch(a.which){case 13:b.value&&this.save_template();break;case 27:this.prev()}},execute_ajax:function(a,b){b.append("custom","save_user_template"),b.append("action",TVE.CONST.ajax.action),b.append("nonce",TVE.CONST.nonce),jQuery.ajax({type:"POST",url:TVE.CONST.ajax_url,data:b,processData:!1,contentType:!1,success:function(b){a.$("#tcb-template-name").val(""),a.$autocomplete.val("").trigger("change"),a.$("#tcb-template-category-id").val(""),TVE.page_message(b.text),a.gotoStep(0),TVE.CONST.content_templates=b.content_templates},complete:function(){a.$save_button.removeClass("tve-disabled")},error:function(a){TVE.page_message(a.responseJSON.message,!0)}})}})},"table-borders.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({
controls_init:function(){this.controls.InnerBorders.update=function(a){this.setChecked(!a.hasClass("tve_no_inner_border")),this.component.inner_border_update()},this.controls.InnerBorders.input=function(a,b){a.toggleClass("tve_no_inner_border",!b.checked),this.component.inner_border_update()},this.controls.border_th.remove_sides().$(".border-boxes").append(this.$("#h-border")),this.controls.border_td.remove_sides().$(".border-boxes").append(this.$("#c-border"))},table_borders:function(){return c("../controls/table-borders")},inner_border_update:function(){this.$(".inner-border")[this.controls.InnerBorders.isChecked()?"show":"hide"](),this.controls.border_th.update(),this.controls.border_td.update()}})},"table.js":function(a,b,c){var d=c("../base"),e=c("../inline/table-size"),f="> .tve_table > thead > tr > th, > .tve_table > tbody > tr > td ";b.exports=d.component.extend({controls_init:function(){TVE.main.on("tve.tve_save_post",_.bind(this.sync_all_mobile_tables,this)),TVE.main.on("device_change",_.bind(function(a){a&&"mobile"===a.device&&this.sync_all_mobile_tables()},this)),this.placeholder_panel=new e({component:this,minWidth:196,no_buttons:!0}),this.controls.cellpadding.update=function(a){this.setValue(a.css("padding"))},this.controls.cellpadding.input=function(a){a.find(f).css("padding",""),a.head_css({padding:this.value()+this.getUM()},null,this.config.css_suffix)},this.controls.sortable.update=function(a){this.setChecked(a.hasClass("tve_make_sortable"))},this.controls.sortable.change=function(a,b){a.toggleClass("tve_make_sortable",b.checked)},this.controls.cell_bg.update=this.controls.header_bg.update=function(a){this.setValue(a.css("background-color"))},this.controls.header_bg.input=function(a){this.applyTo().head_css({"background-color":a},null,this.config.css_suffix,!1,"#tve_editor ")},this.controls.valign.update=function(a){var b;if(b=a.closest(".tve_table").attr("data-v"))return this.setActive(b);this.setActive("")},this.controls.valign.change=function(a,b){var c=this.getValue();a.children(".tve_table").attr("data-v",c),a.head_css({"vertical-align":c},null,this.config.css_suffix),a.find(f).removeClass("tve_valign_top tve_valign_middle tve_valign_bottom").head_css({"vertical-align":""},null,"",!1,"#tve_editor "),this.component.sync_mobile_table(a)};var a=!0;this.controls.cell_bg.input=function(b){a&&(this.component.clear_alternating_colors(),a=!1),this.applyTo().head_css({"background-color":b},null,this.config.css_suffix,!1,"#tve_editor ")},this.controls.cell_bg.change=function(b){this.input(b),a=!0},this.controls.cell_bg.cancel=function(){a=!0,b.even_rows&&this.component.controls.even_rows.input(b.even_rows),b.odd_rows&&this.component.controls.odd_rows.input(b.odd_rows)},this.controls.cell_bg.update=function(a){this.setValue(a.css("background-color"))};var b={};this.controls.odd_rows.update=this.controls.even_rows.update=function(a){var c=b[this.key()]=a.css("background-color");this.setValue(c)},this.controls.even_rows.input=this.controls.odd_rows.input=function(a){a&&(b[this.key()]=a),this.applyTo().head_css({"background-color":a},null,this.config.css_suffix,!1,"#tve_editor ")},this.controls.mobile_table.update=function(a){this.setChecked(a.hasClass("tcb-mobile-table")),this.component.$(".show-mobile-table").toggleClass("tcb-hide",!this.isChecked())},this.controls.mobile_table.input=function(a,b){a.toggleClass("tcb-mobile-table",b.checked),b.checked&&this.component.sync_mobile_table(a),TVE.Editor_Page.reposition_icons(),this.component.$(".show-mobile-table").toggleClass("tcb-hide",!b.checked)},this.controls.mobile_header_width.update=function(a){var b=a.children("table").head_css("padding-left",TVE.main.responsive.mobile.media," td",!1,".tcb-mobile-table ");b||(b="50%"),this.setValue(b)},this.controls.mobile_header_width.input=function(a,b){a.children("table").head_css({"padding-left":b.value+"% !important"},!1," td",!1,".tcb-mobile-table "),a.children("table").head_css({width:"calc("+b.value+"% - 5px) !important"},!1," td::before",!1,".tcb-mobile-table ")}},update_colors:function(){this.controls.even_rows.update(this.controls.even_rows.readFrom()),this.controls.odd_rows.update(this.controls.odd_rows.readFrom()),this.controls.cell_bg.update(this.controls.cell_bg.readFrom())},placeholder_action:function(){this.placeholder_panel.open(TVE.ActiveElement,TVE.ActiveElement.find(".tcb-inline-placeholder-action"))},manage_cells:function(){TVE.plugins.table.cell_manager(TVE.ActiveElement)},clear_alternating_colors:function(a){this.controls.odd_rows.applyTo().head_css({"background-color":""},null,this.controls.odd_rows.config.css_suffix,!1,"#tve_editor "),this.controls.even_rows.applyTo().head_css({"background-color":""},null,this.controls.even_rows.config.css_suffix,!1,"#tve_editor "),a&&this.update_colors()},reset_widths:function(){TVE.ActiveElement.find(f).css("width","").head_css({width:""},null,"",!1,"#tve_editor ")},reset_heights:function(){TVE.ActiveElement.find(f).css("height","").head_css({height:""},null,"",!1,"#tve_editor ")},disable_sort:function(){TVE.ActiveElement.children(".tve_table").removeClass("tve_make_sortable"),this.controls.sortable.setChecked(!1).disable().$("label").attr("title",TVE.t.table_sorting_disabled)},after_update:function(){var a=!1;TVE.ActiveElement.find(f).each(function(){if(parseInt(this.getAttribute("colspan")||1)>1||parseInt(this.getAttribute("rowspan")||1)>1)return a=!0,!1}),a?this.disable_sort():this.controls.sortable.enable().$("label").removeAttr("title")},sync_all_mobile_tables:function(a){a&&a.jquery||(a=TVE.Editor_Page.editor);var b=this;a.find(".tcb-mobile-table").each(function(){b.sync_mobile_table(TVE.inner_$(this))})},sync_mobile_table:function(a){if(!(a=a||TVE.ActiveElement)||!a.length||!a.hasClass("tcb-mobile-table"))return this;var b=a.find("> table > thead > tr > th");b.length||(b=a.find("> table > tbody > tr:first-child > td"));var c=["normal","none","0% 0%","auto","0"];b.each(function(b){var d=TVE.inner_$(this),e=d.find("p,"+TVE.ELEM.headings).first(),f=d.css(["background-color","background-image","background-position","background-size","border-right","vertical-align","padding"]);f=_.extend(f,e.css(["text-align","font-size","line-height","color","font-weight","font-style","font-family","text-shadow","letter-spacing"])),_.each(f,function(a,b){-1!==c.indexOf(a)&&delete f[b]}),f["justify-content"]="","left"===f["text-align"]?f["justify-content"]="flex-start !important":"right"===f["text-align"]&&(f["justify-content"]="flex-end !important"),f["align-items"]="","top"===f["vertical-align"]?f["align-items"]="flex-start !important":"bottom"===f["vertical-align"]&&(f["align-items"]="flex-end !important"),delete f["vertical-align"],a.find("> table > tbody > tr").each(function(){TVE.inner_$(this).children("td").eq(b).attr("data-th",d.text()).head_css(f,TVE.main.responsive.mobile.media,"::before",!1,".tcb-mobile-table ")})})}})},"tabs.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({edit:"active",needs_update:function(a){return!a.hasClass("thrv-tabbed-content")},migrate_element:function(a){var b=a.find(".tve_scT > ul li.tve_tS").css(["background-color"]);b["background-color"]+=" !important",a.head_css(b,null," .tve_scT > ul li.tve_tS"),a.head_css(b,null," .tve_scT > ul li:hover"),a.head_css(a.find(".tve_scT > ul li:not(.tve_tS)").css(["background-color"]),null," .tve_scT > ul li:not(.tve_tS)"),a.head_css(a.find(".tve_scT .tve_scTC").css(["background-color","border-color"]),null," .tve_scT .tve_scTC "),a.find(".tve_scT .tve_scTC").removeAttr("data-tve-custom-colour"),a.find(".tve_scT .tve_scTC p").addClass("thrv_text_element"),a.find(".tve_scT > ul li").removeAttr("data-tve-custom-colour"),a.find(".tve_scT > ul li span").addClass("thrv-inline-text tve_editable"),a.removeClass("thrv_tabs_shortcode").addClass("thrv-tabbed-content")},controls_init:function(a){var b=this;a.TabLayout.change=function(c,d){var e,f=TVE.renderers.base.read_element_props(c);"vertical"==d.value?c.find(".tve_scT").addClass("tve_vtabs"):c.find(".tve_scT").removeClass("tve_vtabs"),c.find(".tve_scT").css({"padding-left":""}),c.head_css({width:""},null," .tve_scT > ul"),c.head_css({width:""},null," .tve_scT > ul li"),b.resize(c),a.TabsWidth.update(c),e=TVE.renderers.base.read_element_props(c),b.undo_action(c,f,e)},a.TabLayout.update=function(a){a.find(".tve_scT").hasClass("tve_vtabs")?this.setValue("vertical"):this.setValue("horizontal")},a.TabsWidth.input=function(a,b){var c;a.find(".tve_vtabs").length?(c=" .tve_scT > ul",a.find(".tve_scT").css("padding-left",b.value+this.getUM())):c=" .tve_scT > ul li",a.head_css({width:b.value+this.getUM()+" !important"},null,c)},a.TabsWidth.change=function(a,b){this.input(a,b)},a.TabsWidth.update=function(a){var b;b=a.find(".tve_vtabs").length?a.find(".tve_scT > ul").outerWidth():a.find(".tve_scT > ul li").first().outerWidth(),this.setValue(b)},a.TabsWidth.afterConfig=function(){this.model.config.max=parseInt(this.applyTo().parent().width()-100)},a.DefaultTab.change=function(a,c){var d,e=TVE.renderers.base.read_element_props(a);a.find(".tve_tS").removeClass("tve_tS"),a.find("ul li:nth-child("+c.value+")").addClass("tve_tS"),a.find(".tve_scT").attr("data-selected",c.value-1),d=TVE.renderers.base.read_element_props(a),b.undo_action(a,e,d)},a.DefaultTab.update=function(a){var b,c=this;c.$el.find("select").html(""),a.find(".thrv-inline-text:not(.tve_scTC .thrv-inline-text)").each(function(a,d){var e=jQuery(d),f=e.text(),g="";e.closest("li").hasClass("tve_tS")&&(g=' selected="selected" '),b='<option class="tve-option" value="'+(a+1)+'"'+g+">"+f+"</option>",c.$el.find("select").append(b)})},a.EditTabs.change=function(c,d){b.edit=d.value,c.attr("data-edit",b.edit),a.TabBackground.update(c),a.TabBorder.update(c),b.$(".tve-advanced-controls").toggle("active"==d.value)},a.EditTabs.update=function(a){var c=a.attr("data-edit");c&&(b.edit=c)},a.TabBackground.input=function(a){var c="active"==b.edit?".tve_tS":":not(.tve_tS)";this.applyTo().head_css({"background-color":a+" !important"},null," .tve_scT > ul li"+c),"active"==b.edit&&this.applyTo().head_css({"background-color":a+" !important"},null," .tve_scT > ul li:hover")},a.TabBackground.change=function(a){this.input(a)},a.TabBackground.update=function(a){var c="active"==b.edit?".tve_tS":":not(.tve_tS)";this.setValue(a.find(".tve_scT > ul li"+c).css("background-color"))},a.TabBorder.input=function(a){var c="active"==b.edit?".tve_tS":":not(.tve_tS)";this.applyTo().head_css({"border-color":a+" !important"},null," .tve_scT > ul li"+c)},a.TabBorder.change=function(a){this.input(a)},a.TabBorder.update=function(a){var c="active"==b.edit?".tve_tS":":not(.tve_tS)";this.setValue(a.find(".tve_scT > ul li"+c).css("border-color"))},a.ContentColor.input=function(a){this.applyTo().head_css({"background-color":a},null," .tve_scT .tve_scTC")},a.ContentColor.change=function(a){this.input(a)},a.ContentColor.update=function(a){this.setValue(a.find(".tve_scT .tve_scTC").css("background-color"))},a.ContentBorder.input=function(a){this.applyTo().head_css({"border-color":a},null," .tve_scT .tve_scTC")},a.ContentBorder.change=function(a){this.input(a)},a.ContentBorder.update=function(a){this.setValue(a.find(".tve_scT .tve_scTC").css("border-color"))}},addTabs:function(){var a,b=TVE.ActiveElement,c=TVE.renderers.base.read_element_props(b),d=b.find(".tve_scT > ul li").length+1,e=["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth"],f=(e[d-1]?e[d-1]:d+"th")+" Tab",g='<li><span class="tve_scTC'+d+' thrv-inline-text tve_editable">'+f+"</span></li>",h='<div class="tve_scTC tve_scTC'+d+'" style="min-height: 241px; display: none;"></div>';b.find(".tve_scT > ul").append(g),b.find(".tve_scT").append(h),this.resize(b),a=TVE.renderers.base.read_element_props(b),this.undo_action(b,c,a),this.controls.DefaultTab.update(b)},resize:function(a){a.find(".tve_vtabs").length&&a.find(".tve_scTC").css("min-height",a.find(".tve_scT > ul").outerHeight()+40+"px")},undo_action:function(a,b,c){TVE.UndoManager.add({undo:function(){a.html(b.html)},redo:function(){a.html(c.html)}})}})},"text.js":function(a,b,c){var d=c("../base"),e=c("./shadow"),f=c("../controls/shadow"),g=e.extend({controls_init:function(){var a=this;this.collection=new Backbone.Collection,this.bindListeners(),this.tabs={panels:{}},this.tabs.panels.text=new f({collection:a.collection,simplified:!0,IS_TEXT:!0}),this.setCssAttribute({css_attribute:"text-shadow"}),this.default_shadow="none"},applyTo:function(){return this.$element},readFrom:function(){return this.$element},change:function(){var a=this.buildShadowAttribute(this.collection);if(TVE.froala.has_selection())TVE.froala.exec(a?"format.applyStyle":"format.removeStyle","text-shadow",a),this.is_during_apply&&TVE.Components.text.apply_head_css();else{TVE.froala.get_block_element().head_css({"text-shadow":a||"none"},"","",!1,"#tve_editor ")}},update:function(){this.renderShadowAttributes(this.parseCss(TVE.froala.get_css("text-shadow")))},getDefaultValues:function(){return{angle:320,color:"rgba(0, 0, 0, 0.4)",distance:3,blurr:2,spread:0}},add_shadow:function(a,b){TVE.SkipUpdate=!0;var c=this.tabs.panels.text,d=this.getDefaultValues();return this.setBackup(),c.updateControls(null,null,d),c.isOpen()?(c.onCancel(),!1):(c.open(null,b),!1)},edit_shadow:function(a,b){var c=b.getAttribute("data-index"),d=this.collection.findWhere({index:Number(c)});this.setBackup();var e=this.tabs.panels.text;return e.updateControls(d,null),e.isOpen()?(e.onCancel(),!1):(e.open(null,b),a.stopPropagation(),!1)}});b.exports=d.component.extend({controls_init:function(a){var b=this;TVE.main.off("ctrl-enter-pressed").on("ctrl-enter-pressed",function(a){TVE.ActiveElement.hasClass("thrv_text_element")&&b.control_enter_handle()}),a.shadow=new g({el:this.$(".text-shadow-component")[0]}),a.shadow.controls_init(),a.FontColor.update=function(){this.setValue(TVE.froala.get_css("color",!0,!1,"#tve_editor "))},a.FontColor.input=function(a){a=a?a.toString():"",b.doAction(a?"format.applyStyle":"format.removeStyle","color",a||"inherit",!0)},a.FontColor.change=function(a){this.input(a),b.apply_head_css()},a.FontBackground.update=function(){this.setValue(TVE.froala.get_css("background-color",!0,!1,"#tve_editor "))},a.FontBackground.input=function(a){a=a?a.toString():"",b.doAction(a?"format.applyStyle":"format.removeStyle","background-color",a||"inherit",!0)},a.FontBackground.change=function(a){this.input(a),b.apply_head_css()},a.FontSize.update=function(){this.setValue(TVE.froala.get_css("font-size",!0,!1,"#tve_editor "))},a.FontSize.input=function(a,c){TVE.BROWSER.mozilla||(b.doAction("format.applyStyle","font-size",c.value+this.getUM(),!0),b.apply_head_css())},a.FontSize.change=function(a,c){b.doAction("format.applyStyle","font-size",c.value+this.getUM(),!0),b.apply_head_css()},a.FontSize.convertUM=function(a){return this.pixel_em_conversion(a,TVE.froala.get_selection_element().parent())},a.LineHeight.update=function(){var a=TVE.froala.get_block_element(),b=a.head_css("line-height");if(b)return this.setValue(b);b=a.css("line-height"),"normal"===b&&(b="1.12em"),b&&-1!==b.indexOf("px")&&(b=parseFloat(b)/parseFloat(a.css("font-size"))+"em"),this.setValue(b)},a.LineHeight.input=function(a,b){TVE.froala.get_block_element().head_css({"line-height":b.value+this.getUM()+" !important"})},a.LineHeight.convertUM=function(a){this.pixel_em_conversion(a,TVE.froala.get_block_element())},a.LetterSpacing.update=function(){var a=TVE.froala.get_css("letter-spacing",!0,!1,"#tve_editor ");a&&"normal"!=a||(a=0),this.setValue(a)},a.LetterSpacing.input=function(a,c){b.doAction("format.applyStyle","letter-spacing",c.value+this.getUM(),!1)},a.LetterSpacing.change=function(a,c){this.input(a,c),b.apply_head_css()},a.FontFace.update=function(a){this.initial_font=TVE.froala.get_css("font-family",!0,!1,"#tve_editor "),"inherit"===this.initial_font&&(this.initial_font=TVE.getComputedStyle(TVE.froala.editor.selection.element(),"font-family",!0)),this.initial_weight=TVE.froala.get_css("font-weight");var b=TVE.froala.get_selection_element();"bold"===this.initial_weight&&(this.initial_weight=b.closest("p").css("font-weight"));var c=jQuery(TVE.froala.editor.selection.element()).find("strong");c.length?this.initial_bold=c.css("font-weight"):this.initial_bold=TVE.froala.editor.tcb.getBlockElement().head_css("font-weight",null," strong"),this.setInputValue(this.initial_font),this.readFont(a)},a.FontFace.setInputValue=function(a){void 0===a&&(a=TVE.getComputedStyle(TVE.froala.has_selection(),"fontFamily",!0)),a=a.length&&"inherit"===this.section?"Inherit: ["+a+"]":a,b.$(".font-face-input").val(a)},a.TextTransform.change=function(a,c){b.doAction("format.applyStyle","text-transform",c.getAttribute("data-value"),!0),b.apply_head_css()},a.TextTransform.update=function(a){this.setActive(TVE.froala.get_css("text-transform",!0,!1,"#tve_editor ")||"none")}},doAction:function(a,b,c,d){if(!TVE.froala.has_selection()||TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock()){var e={},f=TVE.froala.get_block_element();e[b]=d?c+" !important":c,f.head_css(e,"","",!1,"#tve_editor "),"font-size"===b&&f.removeClass("rfs rft"),(TVE.froala.editor.selection.isFull()||TVE.froala.selectionIsFullBlock())&&(e[b]="",f.find("span").head_css(e).css(e),"font-size"===b&&f.find("> span").removeClass("rfs rft"))}else TVE.froala.exec(a,b,c),"font-size"===b&&TVE.froala.get_selection_element().removeClass("rfs rft")},apply_head_css:function(){TVE.froala.has_selection()&&TVE.froala.editor.$el.find("span[style]").each(function(){var a=TVE.inner_$(this),b=TVE.CSS_Rule_Cache.cssToObject(a.attr("style"),!0);a.head_css(b),"desktop"!==TVE.main.device&&this.removeAttribute("style")})},openFonts:function(a,b){return b=b.parentElement.getElementsByClassName("tcb-icon-edit")[0],this.controls.FontFace.open(a,b),this.controls.FontFace.readFont(a),!1},typefocus_control:function(){return c("../controls/text/typefocus")},clear_formatting:function(){if(TVE.froala.has_selection())return TVE.froala.exec("commands.clearFormatting"),!1;var a=TVE.froala.get_block_element();a.removeAttr("data-css"),a.removeClass(function(a,b){return(b.match(/(^|\s)ttfm\S+/g)||[]).join(" ")}),a.find("span, font").each(function(a){var b=jQuery(this);b.replaceWith(b.text())}),TVE.Components.text.update(),this.controls.shadow.update(),this.controls.FontColor.update()},control_enter_handle:function(){var a=jQuery(TVE.ActiveElement.find(".fr-element")).html(),b=TVE.ActiveElement.froalaEditor("selection.element").outerHTML,c=TVE.ActiveElement.froalaEditor("selection.element"),d=TVE.ActiveElement.froalaEditor("selection.endElement"),e=TVE.ActiveElement.froalaEditor("selection.get"),f=TVE.ActiveElement.froalaEditor("html.get",!0),g=a.substring(a.indexOf(b)+b.length,a.length),h=a.substring(0,a.indexOf(b)),i=(g.match(/<\/\w*>/g)||[]).length-(g.match(/<[^\/][\w\d\s]*>/g)||[]).length;g=this.remove_tags_without_content_after_split(g),h=this.remove_tags_without_content_after_split(h),f=f.replace(new RegExp(e.anchorNode.textContent,"g"),"");var j="";j=0===i?"<p class=''>"+jQuery("<div></div>").append(d).html()+"</p>":this.rebuild_html_after_split(c,i)+jQuery("<div></div>").append(d).html(),TVE.ActiveElement.html(j+g),TVE.ActiveElement.html(this.remove_tags_without_content_after_split(TVE.ActiveElement.html())),TVE.Editor_Page.before_action().duplicate_element(TVE.ActiveElement).after_action(),TVE.ActiveElement.html(h),TVE.froala.force_focus(TVE.ActiveElement,!1)},rebuild_html_after_split:function(a,b){for(var c="",d="",e=0;e<b;e++){var f=jQuery(a).parent(),g=f.attr("data-css"),h=f.attr("style");d="<"+a.parentElement.nodeName.toLowerCase(),void 0!==g&&(d=d+' data-css="'+g+'"'),""!==a.parentNode.classList.toString()&&(d=d+' class="'+a.parentNode.classList.toString()+'"'),void 0!==h&&(d=d+' style="'+h+'"'),d+=" >",a=a.parentElement,c=d+c}return c},remove_tags_without_content_after_split:function(a){for(var b=a.replace(/<(\w*)[^\>]*>(<br>)*<\/\1>/g,"");a.length>b.length;)a=b,b=b.replace(/<(\w*)[^\>]*>(<br>)*<\/\1>/g,"");return b}})},"toc.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({extra_states:!0,controls_init:function(){this.controls.HeaderColor.update=function(){this.setValue(this.applyTo().css("color"))},this.controls.HeaderColor.input=function(a){this.applyTo().head_css({color:a+" !important"})},this.controls.HeadBackground.update=function(){this.setValue(this.applyTo().css("background-color"))},this.controls.HeadBackground.input=function(a){this.applyTo().head_css({"background-color":a+""})},this.controls.Headings.update=function(a){this.uncheckAll();var b=a.attr("data-headers"),c=b?b.split(","):[];_.each(c,function(a,b,c){this.setChecked(a)},this)},this.controls.Headings.input=function(a,b){var c=this.get_checked_inputs(),d=c.join(",");if(c.length>this.max_headings)return TVE.page_message(tcb_main_const.i18n.OnlyThreeHeadingsSelected,-1),b.checked=!1,!1;a.attr("data-headers",d)},this.controls.Columns.update=function(a){var b=a.attr("data-columns");this.setValue(b)},this.controls.Columns.input=function(a,b){a.attr("data-columns",b.value),this.component.controls.Headings.update_content(a)}}})},"toggle.js":function(a,b,c){var d=c("../base");b.exports=d.component.extend({controls_init:function(a){this.controls.HoverColor.change=function(a){this.applyTo().head_css({background:a+"! important"},null," .tve_faq:hover").attr("data-hover-color",a)},this.controls.HoverColor.update=function(a){var b=a.attr("data-hover-color");if(!b){a.attr("class").split(" ").forEach(function(a){a.indexOf("tve_")>-1&&"tve_draggable"!==a&&(b=a.replace("tve_",""))})}this.setValue(b)}},toggle:function(){return c("../controls/toggle")},close_editor:function(){return this.controls.Toggle.close_editor(),TVE.main.toggle_navigation(!1),!1}})},"typography.js":function(a,b,c){var d=c("../base"),e=c("./shadow"),f=c("../controls/shadow"),g=e.extend({controls_init:function(){var a=this;this.collection=new Backbone.Collection,this.bindListeners(),this.tabs={panels:{}},this.tabs.panels.text=new f({collection:a.collection,simplified:!0}),this.setCssAttribute({css_attribute:"text-shadow"})},applyTo:function(){return this.$element},readFrom:function(){return this.$element},setTarget:function(a){this.$element=a},update:function(){this.collection.reset(),e.prototype.update.call(this)},getDefaultValues:function(){return{angle:320,color:"rgba(0, 0, 0, 0.4)",distance:3,blurr:2,spread:0}},add_shadow:function(a,b){TVE.SkipUpdate=!0;var c=this.tabs.panels.text,d=this.getDefaultValues();return this.setBackup(),c.updateControls(null,null,d),c.isOpen()?(c.onCancel(),!1):(c.open(null,b),!1)},edit_shadow:function(a,b){var c=b.getAttribute("data-index"),d=this.collection.findWhere({index:Number(c)});this.setBackup();var e=this.tabs.panels.text;return e.updateControls(d,null),e.isOpen()?(e.onCancel(),!1):(e.open(null,b),a.stopPropagation(),!1)}});b.exports=d.component.extend({extra_states:!0,controls_init:function(a){function b(){var a="";return this.$('.tve-btn.active[data-style="text-decoration"]').each(function(){a+=(a?" ":"")+this.dataset.value}),a||"none"}var c=this;a.TextShadow=new g({el:this.$(".text-shadow-component")[0]}),a.TextShadow.controls_init(),a.FontSize.input=function(a,b){this.applyTo().head_css({"font-size":b.value+this.getUM()},!1,this.config.css_suffix,!1,this.config.css_prefix)},a.FontSize.update=function(){this.setValue(this.applyTo().head_css("font-size",!1,this.config.css_suffix,!0,this.config.css_prefix))},a.FontColor.input=function(a){var b=this.config.important?" !important":"";this.applyTo().head_css({color:""},!1,this.config.old_suffix,!1,this.config.css_prefix),this.applyTo().head_css({color:a+b},!1,this.config.css_suffix,!1,this.config.css_prefix)},a.FontColor.update=function(){this.setValue(this.applyTo().head_css("color",!1,this.config.css_suffix,!0,this.config.css_suffix))},a.LineHeight.input=function(a,b){this.applyTo().head_css({"line-height":b.value+this.getUM()},!1,this.config.css_suffix,!1,this.config.css_prefix)},a.LineHeight.update=function(a){var b=this.applyTo().head_css("line-height",!1,this.config.css_suffix,!1,this.config.css_prefix);b||(b=a.css("line-height"))&&-1!==b.indexOf("px")&&(b=parseFloat(b)/parseFloat(a.css("font-size"))+"em"),"normal"===b&&(b="1.12em"),this.setValue(b)},a.LetterSpacing.input=function(a,b){a.head_css({"letter-spacing":b.value+this.getUM()},!1,this.config.css_suffix,!0,this.config.css_prefix)},a.LetterSpacing.update=function(){this.setValue(this.applyTo().head_css("letter-spacing",!1,this.config.css_suffix,!0,this.config.css_prefix))},a.FontFace.update=function(a){this.initial_font=this.applyTo().head_css("font-family",!1,this.config.css_suffix,!0,this.config.css_prefix),this.initial_weight=this.applyTo().head_css("font-weight",!1,this.config.css_suffix,!0,this.config.css_prefix),this.initial_bold=this.applyTo().head_css("font-weight",!1," strong",!0),this.setInputValue(this.initial_font),this.readFont(a)},a.FontFace.setInputValue=function(a){void 0!==a&&a||(this.section="inherit",a=this.applyTo().css("font-family")),a=a.length&&"inherit"===this.section?"Inherit: ["+a+"]":a,c.$(".font-face-input").val(a)},a.TextAlign.change=function(a,b){var c={};this.config.property&&this.config.property_val?c[this.config.property]=this.config.property_val[b.getAttribute("data-value")]:c["text-align"]=b.getAttribute("data-value"),a.head_css(c,!1,this.config.css_suffix,!0,this.config.css_prefix)},a.TextAlign.update=function(){var a;this.config.property&&this.config.property_val?(a=this.applyTo().head_css(this.config.property,!1,this.config.css_suffix,!0),a=_.invert(this.config.property_val)[a]):(a=this.applyTo().head_css("text-align",!1,this.config.css_suffix,!0),a="start"===a?"left":a),this.setActive(a)},a.TextStyle.change=function(a,c){var d=c.dataset.style,e=c.classList.contains("active"),f={},g={};g[d]="",f[d]=e?c.getAttribute("data-value"):"",d&&"text-decoration"===d?f[d]=b.call(this):e||(f[d]=c.dataset.off),f[d]&&(f[d]+=" !important"),a.head_css(g,!1,this.config.old_suffix,!0,this.config.css_prefix),a.head_css(f,!1,this.config.css_suffix,!0,this.config.css_prefix)},a.TextStyle.update=function(a){var b=[];_.each(this.model.config.buttons,function(c){var d=a.css(c.data.style);d&&-1!==d.indexOf(c.value)&&b.push(c.value),d&&"bold"===c.value&&parseInt(d)>=500&&b.push(c.value)}),this.setActive(b)},a.TextTransform.change=function(a,b){a.head_css({"text-transform":b.getAttribute("data-value")},!1,this.config.css_suffix,!0,this.config.css_prefix)},a.TextTransform.update=function(a){this.setActive(a.css("text-transform")||"none")},_.each(["p","h1","h2","h3"],function(b){a[b+"_spacing"].$(".width-input").attr("placeholder","auto"),a[b+"_spacing"].$(".width-input").focusout(function(){a[b+"_spacing"].update()}),a[b+"_spacing"].input=function(a,b){var c=b.value,d=this.getUM();"auto"!==c&&""!==c||(d="",c="auto");var e={margin:"0px 0px "+c+d+" 0px !important"},f={padding:"0px !important"};"auto"===b.value&&(f={padding:""},e={margin:""}),a.head_css(e,!1,this.config.css_suffix,!1,this.config.css_prefix),a.head_css(f,!1,this.config.css_suffix,!1,this.config.css_prefix)},a[b+"_spacing"].update=function(a){var b=this.applyTo().head_css("margin-bottom",null,this.config.css_suffix,!1,this.config.css_prefix);b?("auto"===b&&this.$(".tve-input").val("auto"),this.setValue(b.replace("!important",""))):a.length?(b=parseInt(a.css("margin-bottom"))+parseInt(a.css("padding-bottom"))+"px",this.setValue(b)):this.$(".tve-input").val("auto")},a[b+"_spacing"].convertUM=a[b+"_spacing"].pixel_em_conversion})},openFonts:function(a,b){return b=b.parentElement.getElementsByClassName("tcb-icon-edit")[0],this.controls.FontFace.open(a,b),this.controls.FontFace.readFont(a),!1}})},"wordpress.js":function(a,b,c){TVE.WordPressContent=c("../modals/wordpress-content");var d=c("../base");b.exports=d.component.extend({controls_init:function(a){this.wordPressContentInstance=TVE.WordPressContent.get_instance(TVE.modal.get_element("wordpress-content")),TVE.inner_$(".thrv_custom_html_shortcode ").each(function(a,b){var c=jQuery(this);c.height()<=10&&0===c.find("img").length?c.append('<div class="tve_shortcode_overlay"><span>No preview available.</span></div>'):c.find("iframe").length&&c.append('<div class="tve_iframe_cover"></div>')})},edit_wordpress_content:function(){this.placeholder_action()},placeholder_action:function(){this.wordPressContentInstance.open()}})}},controls:{"api-connections.js":function(a,b,c){var d,e=c("../base"),f=c("../modals/api-connections"),g=c("../../models/api");b.exports=e.control.extend({template:TVE.tpl("controls/lead-generation/api-connections"),before_initialize:function(){this.connectionsModal=new f({el:TVE.modal.get_element("api-connections")})},after_initialize:function(){this.$connected_apis=this.$(".connected-apis"),this.$button=this.$("button")},serviceConnect:function(){this.connectionsModal.open({component:this.component})},update:function(a){switch(a=a.length?a:TVE.ActiveElement,a.data("lg").get("type")){case"custom-html":this.renderCustomHTML();break;case"api":default:this.renderConnections()}a.data("lg").removeCallbacks("write","type"),a.data("lg").registerCallback("write","type",this.update,this),this.component.after_update()},renderCustomHTML:function(){this.$el.addClass("greyish"),this.$button.show().attr("data-fn","editCustomCode").html(TVE.icon("paper-plane")+TVE.t.EditHTML),this.$connected_apis.empty()},editCustomCode:function(){this.connectionsModal.open({form:!0,component:this.component})},renderConnections:function(){var a=this.applyTo().data("lg").get("apis");this.$button.attr("data-fn","serviceConnect").html(TVE.icon("paper-plane")+TVE.t.ConnectForm),this.$connected_apis.removeClass("padding-top-10").show(),this.$el.removeClass("greyish"),Object.keys(a).length?(this.$button.hide(),this.$connected_apis.empty(),_.each(a,function(a,b){var c=new d({model:new g({key:b,name:b})});this.$connected_apis.append(c.$el)},this)):(this.$el.addClass("greyish"),this.$button.show(),this.$connected_apis.addClass("padding-top-10").html("<p>"+TVE.t.NoConnections+"</p>")),this.component.toggle_service_button()},input:function(){},disconnect:function(a,b){var c=b.getAttribute("data-api"),d=a.data("lg").get("apis");delete d[c],a.data("lg").set({apis:d,write:"apis"}),a.data("lg").doCallbacks("write","type"),0===Object.keys(d).length&&a.data("lg").set({write:"reset_fields"})},edit:function(a,b){var c=b.getAttribute("data-api");this.connectionsModal.open({api:c,component:this.component})}}),d=e.base_view.extend({template:TVE.tpl("controls/lead-generation/connected-api"),className:"api-box margin-bottom-10",tagName:"div"})},background:{"gradient-pattern.js":function(a,b,c){var d=c("./panel-base"),e=c("../input"),f=c("../../../libs/gradient-builder"),g=c("../../../libs/tinycolor"),h=c("../color-picker");b.exports=d.extend({template:TVE.tpl("controls/gradient-pattern"),key:function(){return"gradient-pattern"},before_initialize:function(){this.defaults(),this.patterns=[{angle:"135deg"},{angle:"45deg"},{angle:"90deg",gutter1:"2px",gutter2:"4px"},{angle:"0deg"},{size:"3px 3px",type:"repeating-radial-gradient",angle:"circle at center center",gutter1:"1px",gutter2:"100%"}].map(function(a){return a.css=f(this.build_node(a.type,a.angle,null,a.gutter1,a.gutter2,a.size)),a},this)},defaults:function(){return this.values={opacity:70,index:0,color1:"rgb(240, 243, 243)"},this},select:function(a,b){return TVE.SKIP_CSS_STATE=!0,this.$(".pattern-item").removeClass("selected"),b.classList.add("selected"),this.values.index=parseInt(b.getAttribute("data-index")),this.change(),!1},init_controls:function(){var a=this;this.controls={opacity:new e({el:this.$(".opacity-input")[0],model:this.opacity_options()}),color1:new h({el:this.$(".color1")[0],model:this.color_options()})},this.controls.opacity.input=this.controls.opacity.change=function(){TVE.SKIP_CSS_STATE=!0,a.values.opacity=this.getValue(),a.change()},
this.controls.color1.input=this.controls.color1.change=function(b){TVE.SKIP_CSS_STATE=!0,a.values.color1=b?b.toString():"transparent",a.change()}},opacity_options:function(){return{config:{name:TVE.t.opacity,um:"%",default:"100",min:0,max:100}}},color_options:function(){return{config:{options:{output:"object",showInput:!1,showGradient:!1,showAlpha:!1}}}},get_default_data:function(){return this.defaults(),this.dom(),this.flag_dom_skip=!0,this._get_default_data()},_get_default_data:function(){return this.build_node(this.patterns[this.values.index])},build_node:function(a,b,c,d,e,f){"object"==typeof a&&(b=a.angle,c=a.color1,d=a.gutter1,e=a.gutter2,f=a.size,a=a.type),c=c||this.values.color1;var h=g(c);return c&&"transparent"!==c&&h.setAlpha(this.values.opacity/100),{type:a||"repeating-linear-gradient",orientation:b||"135deg",colorStops:[{type:"literal",transparent:"transparent"===c&&"transparent",value:h},{type:"literal",transparent:"transparent"===c&&"transparent",value:h,length:d||"3px"},{type:"literal",transparent:"transparent",value:"transparent",length:d||"3px"},{type:"literal",transparent:"transparent",value:"transparent",length:e||"6px"}],size:f||"auto auto",repeat:"repeat"}},change:function(){this.model.set(this.build_node(this.patterns[this.values.index])),this.collection.trigger("change")},input:function(){},read:function(){var a=this.model.get("real_type")||this.model.get("type"),b=f(this.model.get("orientation")),c=this;_.every(this.patterns,function(d,e){return d.type=d.type||"repeating-linear-gradient",d.angle=d.angle||"135deg",d.type!==a||b!==d.angle||(c.values.index=e,!1)});var d=this.model.get("colorStops");c.values.color1=d[0].transparent||d[0].value.toHex(),this.values.opacity=.7,"transparent"!==c.values.color1&&(this.values.opacity=d[0].value.getAlpha()),this.values.opacity=Math.round(100*this.values.opacity)},dom:function(){return this.$(".pattern-item").removeClass("selected").get(this.values.index).classList.add("selected"),this.controls.opacity.setValue(this.values.opacity),this.controls.color1.setValue(this.values.color1),this}})},"gradient.js":function(a,b,c){var d=c("./panel-base"),e=(c("../../../libs/gradient-builder"),c("../../../libs/tinycolor"),c("../../../libs/gradient-picker"));b.exports=d.extend({template:_.template('<div class="gradient-layer"></div>'),key:function(){return"gradient"},init_controls:function(){this.picker=new e({el:this.$(".gradient-layer")[0]}).on("change",_.bind(this.on_change,this))},_get_default_data:function(){return this.picker.defaults()},on_change:function(a){this.model.set(a)},dom:function(){this.picker.setValue(this.model.toJSON())},onOpen:function(){this.picker.reflow(),this.picker.render_favorites()},input:function(){}})},"image.js":function(a,b,c){var d=c("./panel-base"),e=c("../file");b.exports=d.extend({template:TVE.tpl("controls/background-image"),key:function(){return"url"},init_controls:function(){this.picker=new e({labels:{choose:TVE.t.ChooseImage},config:{preselect_full_size:!0},el:this.$(".image-picker")[0]}),this.picker.on("select",_.bind(this.on_select,this)),this.picker.on("remove",_.bind(this.on_remove,this))},on_select:function(a){this.model.set("value",a.url),this.change()},on_remove:function(){this.model.set("value",""),this.change()},prop:function(a,b){var c=this.$(b).val().split(":"),d={};d[c[0]]=c[1],"size"!==c[0]||"auto"!==c[1]&&"cover"!==c[1]?this.$(".bg-image-position-area").addClass("tcb-disabled"):this.$(".bg-image-position-area").removeClass("tcb-disabled"),this.model.set(_.extend({size:"auto auto",repeat:"no-repeat"},d)),this.change()},set_position:function(a,b){var c=this.$(b).attr("data-value"),d=c.split(":");this.model.set({position:d[0]+" "+d[1]}),this.$(".bg-image-control").removeClass("active"),this.$('.bg-image-control[data-value="'+c+'"]').addClass("active"),this.change()},static:function(a,b){this.model.set({attachment:b.checked?"fixed":"scroll"}),this.change()},get_default_data:function(){return{type:"url",value:"",size:"cover"}},dom:function(){var a=null;this.model.get("value")&&(a={url:this.model.get("value")}),this.picker.set(a),this.$("#bg-static").prop("checked","fixed"===this.model.get("attachment"));var b=this.$("#bg-image-prop"),c=b.find("option").first().val();return"cover"===this.model.get("size")?(c="size:cover",this._update_image_position_canvas()):"auto"===this.model.get("size")||this.model.get("position")&&-1!==this.model.get("position").indexOf("center")?(c="size:auto",this._update_image_position_canvas()):"repeat"===this.model.get("repeat")&&(c="repeat:repeat"),b.val(c),this},_update_image_position_canvas:function(){if(this.$(".bg-image-position-area").removeClass("tcb-disabled"),this.$(".bg-image-control").removeClass("active"),this.model.get("position"))if(-1!==this.model.get("position").indexOf("center"))this.$('.bg-image-control[data-value="50%:50%"]').addClass("active");else if(-1!==this.model.get("position").indexOf("0px 0px"))this.$('.bg-image-control[data-value="0%:0%"]').addClass("active");else{var a=this.model.get("position").replace(" ",":");this.$('.bg-image-control[data-value="'+a+'"]').addClass("active")}else this.$('.bg-image-control[data-value="0%:0%"]').addClass("active")},validate:function(){return!!this.model.get("value")||(TVE.page_message(TVE.t.anim.img_missing,!0),!1)}})},"panel-base.js":function(a,b,c){var d=c("../drop-panel");b.exports=d.extend({before_initialize:function(){this.defaults()},after_initialize:function(){this.init_controls()},defaults:function(){return this.values={},this},init_controls:function(){},update:function(){},get_default_data:function(){return this.defaults(),this._get_default_data()},change:function(){this.collection.trigger("change")},reset:function(a){if(this.model=a,this.flag_dom_skip)return delete this.flag_dom_skip,this;this.read(),this.dom()},read:function(){},dom:function(){},cancel:function(){TVE.SKIP_CSS_STATE=!0,TVE.UndoManager.temp.delete(),this.model.get("__new")?this.model.destroy():this.model.restoreState()},apply:function(){TVE.SKIP_CSS_STATE=!1,this.model.unset("__new")}})},"solid.js":function(a,b,c){var d=c("./panel-base"),e=(c("../../../libs/tinycolor"),c("../color-picker"));b.exports=d.extend({template:_.template('<div class="gradient-solid-picker"></div>'),key:function(){return"solid"},init_controls:function(){var a=this;this.color=new e({el:this.$(".gradient-solid-picker")[0],model:this.color_options()}),this.color.input=function(b){TVE.SKIP_CSS_STATE=!0,a.model.get("colorStops")[0].value=b||"transparent",a.model.get("colorStops")[1].value=b||"transparent",a.change()}},input:function(a){},color_options:function(){return{config:{options:{output:"object",showInput:!0,showGradient:!1,showAlpha:!0,flat:!0,showButtons:!1}}}},_get_default_data:function(){return{type:"solid",real_type:"linear-gradient",colorStops:[{type:"literal",value:"#000"},{type:"literal",value:"#000"}]}},onOpen:function(){this.color.colorPicker.spectrum("reflow"),this.color.setValue(this.model.get("colorStops")[0].value),this.color.render_favorites()}})},"video.js":function(a,b,c){!function(a){var d=c("../icon-label-switch"),e=c("../../components/animation/video-popup");b.exports=d.extend({cls:"tcb-video-background-el",parent_cls:"tcb-video-background-parent",default_model:function(){return new Backbone.Model({device:TVE.t.video_background})},render:function(){return d.prototype.render.apply(this,arguments),this.$el.append(TVE.tpl("controls/background-video")()),this},update:function(a){if(!this.$el.hasClass("control-hide")){var b=a.hasClass(this.cls);this.model=new Backbone.Model(b?this.read():{config:{}}),this.video_settings.set_model(this.model),this.isChecked()!==b&&(this.setChecked(b),this.update_controls(b))}},update_controls:function(a){this.$el.toggleClass("expanded",a)},input:function(a,b){this.$el.hasClass("control-hide")||(void 0===a&&(a=this.isChecked()),this.$el.toggleClass("expanded",a),a?this.apply():(b||TVE.Editor_Page.before_action(),this.clear(),b||TVE.Editor_Page.after_action()))},clear:function(a){a=void 0!==a?a:this.applyTo(),a.removeClass(this.cls).find("> iframe,> video,> script,> .wistia_embed").remove(),a.parent().removeClass(this.parent_cls)},after_initialize:function(){this.video_settings=new e({config:{}}),this.$el.append(this.video_settings.$el.addClass("video-options")),this.$(".tcb-dark").removeClass("tcb-dark"),this.$(".extra-settings").remove(),this.video_settings.on("change",_.bind(this.apply,this)),this.$("input[type=checkbox]").prop("checked",!1)},apply:function(){var a=this.video_settings.get_embed_code("background"),b=this.applyTo();return TVE.Editor_Page.before_action(),this.clear(b),a?(b.addClass(this.cls).prepend(a),b.parent().addClass(this.parent_cls),-1!==a.indexOf("tcb-yt-bg")&&TVE.inner.window.TCB_Front.playBackgroundYoutube(b.find("> .tcb-yt-bg")),TVE.Editor_Page.after_action(),this):this},read:function(){var a=this.applyTo(),b={p:{}},c=a.find("> .wistia_embed").first(),d=a.find("> video.tcb-bg-video").first(),e=a.find("> iframe").first(),f=a.find("> .tcb-yt-bg").first();if(c.length)b.s="wistia",b.p={id:c.attr("data-id"),url:"https://wistia.com/embed/"+c.attr("data-id")};else if(d.length)b.s="custom",b.p={id:d.attr("data-id"),title:d.attr("data-title")};else if(f.length)b.s="youtube",b.p={id:f.attr("data-yt-id"),url:f.attr("data-url")};else if(e.length){b.s=e.attr("data-provider"),b.p={url:e.attr("src")};var g=new RegExp("/video/(.+?)\\?");b.p.url.match(g)&&(b.p.id=RegExp.$1)}return{config:b}}})}(jQuery)}},"borders.js":function(a,b,c){var d=c("../base"),e=c("../controls/input"),f=c("../controls/button-group"),g=c("../controls/color-picker");b.exports=d.control.extend({template:TVE.tpl("controls/borders"),sides:["top","left","right","bottom"],config:{},initialize:function(){this.render(),this.controls={Color:new g({el:this.$el.find(".tve-border-color"),model:{config:{options:{showInput:!0,showGradient:!1}}}}),Width:new e({el:this.$el.find(".tve-border-width"),model:{config:{stepSize:3,name:"",min:0,um:"PX"}}}),Style:new f({el:this.$el.find(".tve-border-style"),model:{config:{name:"",buttons:[{icon:"",text:"NONE",value:"none",default:!0},{icon:"solid",value:"solid"},{icon:"dashed",value:"dashed"},{icon:"dotted",value:"dotted"}]}}})},this.controls_init(this.controls)},controls_init:function(a){var b=this;this.controls.Width.input=function(a,c){c.value=this.prepareValue(c.value,"px"),b.controls.Color.getValue()||b.controls.Color.setValue("#000"),b.controls.Style.getValue()&&"none"!==b.controls.Style.getValue()||b.controls.Style.setActive("solid"),0===parseInt(c.value)&&b.controls.Style.setActive("none"),b.change(a)},this.controls.Width.update=function(){var a=this.readFrom().css(b.style("width"));""==a&&(a=0),this.setValue(parseInt(a))},this.controls.Style.input=function(a,c){b.controls.Color.getValue()||b.controls.Color.setValue("#000");var d=parseInt(b.controls.Width.getValue());!isNaN(d)&&parseInt(d)||b.controls.Width.setValue("1"),"none"===c.getAttribute("data-value")&&b.controls.Width.setValue("0"),b.change(a)},this.controls.Style.update=function(){var a=this.readFrom().css(b.style("style"));this.setActive(a)},this.controls.Color.input=function(){var a=parseInt(b.controls.Width.getValue());!isNaN(a)&&parseInt(a)||b.controls.Width.setValue("1"),b.controls.Style.getValue()&&"none"!==b.controls.Style.getValue()||b.controls.Style.setActive("solid"),b.change(this.applyTo())},this.controls.Color.update=function(){var a=this.readFrom().css(b.style("color"));this.setValue(a)}},setConfig:function(a,b){d.control.prototype.setConfig.apply(this,arguments);var c=arguments;_.each(this.controls,function(a){a.setConfig.apply(a,c)})},change:function(a){var b={},c=""===this.border_side?"border":"border-"+this.border_side,d=this.config.important?" !important":"",e=this.controls.Color.getValue(),f=this.controls.Style.getValue();e||(e="transparent"),b[c]="none"===f?"none":this.controls.Width.getValue()+"px "+f+" "+e+d,this.apply_css(this.applyTo(),b,this.config)},apply_css:function(a,b,c){a.head_css(b,null,c.css_suffix,!1,c.css_prefix)},update:function(){this.border_side="",this.$el.find(".tve-border-side").removeClass("active").filter(".default").addClass("active"),this.controls.Width.update(),this.controls.Color.update(),this.controls.Style.update()},borderSide:function(a,b){this.border_side=b.getAttribute("data-value"),this.$el.find(".tve-border-side").removeClass("active"),b.className+=" active",this.controls.Width.update(),this.controls.Color.update(),this.controls.Style.update()},style:function(a){var b=a;return this.border_side&&""!=this.border_side&&(b=this.border_side+"-"+b),b="border-"+b},input:function(){}})},button:{"style.js":function(a,b,c){var d=c("../style-picker");b.exports=d.extend({prev_btn_data:{},css:{"background-color":"",color:"","font-weight":"","border-bottom":"","border-top":"","border-left":"","border-right":"","border-radius":"","box-shadow":"","text-shadow":"","background-image":"","background-size":"","background-attachment":"","background-position":"","background-repeat":""},container_class:function(){return"row middle-xs padding-right-10 padding-left-5 padding-bottom-5 tcb-button-style-picker"},read_from_element:function(){var a=this.applyTo(),b=a.attr("data-button-style"),c=this.model.config.default;return b&&(c=b),c},render_button_saved_templates:function(){var a=TVE.CONST.content_templates.filter(function(a){return"button"===a.type});if(0!==a.length){var b="";_.each(a,function(a,c){a.media[TCB_Main.responsive.desktop.media]&&(b+=a.media[TCB_Main.responsive.desktop.media])}),b=b.replace(/#tve_editor/g,".tcb-button-style-picker"),this.$el.find(".tcb-element-templates").html(TVE.tpl("controls/button/style-templates")({tpls:a,media_css:b}))}},item_template:function(){return TVE.tpl("controls/button/style-picker")},input:function(a){if(-1!==this.model.selected.indexOf("tcb-saved-button-template-")){var b=parseInt(this.model.selected.replace("tcb-saved-button-template-","")),c=TVE.CONST.content_templates.find(function(a){return a.id===b}),d=TVE.$(TVE.Editor_Page.content_manager.process_saved_template("",TVE.$(c.content),c.media)),e=d.attr("data-css");a.html(d.html()),a.attr("data-css",e).attr("data-button-style",this.model.selected),a.find(".tcb-button-icon").html(this.prev_btn_data.icon),-1!==this.prev_btn_data._class.indexOf("tcb-with-icon")&&(a.find(".tcb-button-icon").remove(),a.find("a.tcb-button-link").prepend('<span class="tcb-button-icon">'+this.prev_btn_data.icon+"</span>")),a.find(".tcb-button-text").text(this.prev_btn_data.primary_text),a.find(".tcb-secondary-text").remove(),this.prev_btn_data.secondary_text.length&&a.find(".tcb-button-texts").append('<span class="tcb-secondary-text thrv-inline-text">'+this.prev_btn_data.secondary_text+"</span>"),a.find("a.tcb-button-link").attr("href",this.prev_btn_data.anchor_href),TVE.Editor_Page.reposition_icons()}else{var f=this.constructObject(this.model.selected);a.head_css(f.default,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("hover"),a.head_css(f.hover,null,this.model.css_suffix,!0,this.model.css_prefix),TVE.state_manager.set_state("")}a.attr("data-button-style",this.model.selected)},cancel:function(a){a.attr("data-button-style",this.prev_btn_data._data_button_style).attr("class",this.prev_btn_data._class).attr("data-css",this.prev_btn_data._data_css),a.html(this.prev_btn_data._inner_html),a.head_css(this.prev_btn_data._head_css,null,this.model.css_suffix),this.model.selected=this.model.selected_old},onOpen:function(a){this.render_button_saved_templates();var b={};for(var c in this.css)b[c]=a.head_css(c,null,this.model.css_suffix);this.prev_btn_data._head_css=b,this.prev_btn_data._inner_html=TVE.Editor_Page.content_manager.get_clean_content({},a),this.prev_btn_data._data_button_style=void 0===a.attr("data-button-style")?"":a.attr("data-button-style"),this.prev_btn_data._data_css=void 0===a.attr("data-css")?"":a.attr("data-css"),this.prev_btn_data._class=a.attr("class"),this.prev_btn_data.secondary_text=a.find(".tcb-secondary-text").text(),this.prev_btn_data.primary_text=a.find(".tcb-button-text").text(),this.prev_btn_data.icon=a.find(".tcb-button-icon").html(),this.prev_btn_data.anchor_href=a.find("a").attr("href")},apply:function(a){TVE.Components.background.update(),TVE.Components.borders.update(),TVE.Components.button.update(),TVE.Components.animation.setConfig({to:".tcb-button-link"}),TVE.Components.animation.update(),this.prev_btn_data={}},constructObject:function(a){var b=_.clone(this.css),c=_.clone(this.css);switch(a){case"default":b.color="#FFF",b["background-color"]="#1abc9c";break;case"ghost":b["background-color"]="rgba(26, 188, 156, 0.01) !important",b.color="#1abc9c !important",b["border-bottom"]="1px solid #1abc9c",b["border-top"]="1px solid #1abc9c",b["border-left"]="1px solid #1abc9c",b["border-right"]="1px solid #1abc9c",c["background-color"]="#1abc9c !important",c.color="#FFF !important";break;case"rounded":b["border-radius"]="8px";break;case"full_rounded":b["border-radius"]="200px";break;case"gradient":b["background-image"]="linear-gradient(0deg, rgb(17, 142, 117) 0%, rgb(44, 216, 145) 100%)",b["background-size"]="auto",b["background-attachment"]="scroll",b["background-position"]="0px 0px !important",b["background-repeat"]="no-repeat !important",c["background-image"]="linear-gradient(90deg, rgb(17, 142, 117) 0%, rgb(26, 188, 156) 100%)";break;case"elevated":b["box-shadow"]="rgba(0, 0, 0, 0.35) 0px 2px 5px 0px",c["box-shadow"]="rgba(0, 6, 8, 0.35) 0px 9px 5px 0px";break;case"border_1":b["border-bottom"]="4px solid rgb(15, 147, 124)",b["border-radius"]="4px";break;case"border_2":b["border-bottom"]="4px solid rgb(15, 147, 124)",b["border-radius"]="10px",b["font-weight"]="bold !important",b["text-shadow"]="rgba(0, 0, 0, 0.5) 0px 1px 2px"}return{default:b,hover:c}}})}},"button-group.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/button-group"),toggle:!1,initialize:function(a){this.model&&this.render(),a.toggle&&(this.toggle=a.toggle)},_click:function(a,b){if(this.toggle&&-1!==b.className.indexOf("active"))return b.classList.remove("active"),this.change(a,b),this.trigger("change"),!1;this.model.config.checkbox?b.classList.toggle("active"):(this.clearActive(),b.classList.add("active")),this.change(a,b),this.trigger("change")},setActive:function(a){if(this.model.config.checkbox||this.clearActive(),jQuery.isArray(a)&&this.model.config.checkbox)this.$(".tve-btn").each(function(){this.classList[-1!==a.indexOf(this.dataset.value)?"add":"remove"]("active")});else{var b=this.$el.find('.tve-btn[data-value="'+a+'"]');b.length?b.addClass("active"):this.$el.find(".default").addClass("active")}},removeActive:function(a){this.$el.find('.tve-btn[data-value="'+a+'"]').removeClass("active")},getValue:function(){return this.$(".tve-btn.active").attr("data-value")||null},clearActive:function(){this.$el.find(".tve-btn").removeClass("active")}})},"button-panel-group.js":function(a,b,c){!function(a){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/button-panel-group"),initialize:function(a){if(a.model&&a.model.config?this.data=a.model.config:a.config?this.data=a.config:this.data=a,!this.data||!this.data.buttons)throw new Error("Panel group with no button defined");_.each(this.data.buttons,function(a){if(!a.panel)throw new Error("Missing button panel")}),d.control.prototype.initialize.apply(this,arguments),this.init_panels()},icon:function(a){return TVE.icon(a.icon,a.icon_type||"inline")},init_panels:function(){this.panels={},_.each(this.data.buttons,function(a,b){a.panel.on("close",_.bind(this.on_close,this)),this.panels[b]=a.panel},this)},on_close:function(){this.$(".tve-btn").removeClass("active")},panel:function(a){return"function"==typeof a.getAttribute?this.panels[a.getAttribute("data-panel")]:this.panels[a]},close_panels:function(a){if(a.length){var b=this;a.each(function(){b.panel(this).onCancel()})}},tab_click:function(a,b){var c=this.panel(b);return b.classList.toggle("active"),b.classList.contains("active")?(this.close_panels(this.$(b).siblings(".active").removeClass("active")),this.trigger("open",c,b.getAttribute("data-panel")),c.open(this.applyTo(),b),!1):(c.onCancel(),!1)}})}(jQuery)},"checkbox.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/checkbox"),initialize:function(a){"function"==typeof this.before_initialize&&this.before_initialize(a),this.render(),"function"==typeof this.after_initialize&&this.after_initialize(a)},isChecked:function(){return this.$el.find(".tve-checkbox").is(":checked")},setChecked:function(a){return this.$el.find(".tve-checkbox").prop("checked",!!a),this},check:function(a,b){this.change(a,b)},disable:function(){return this.$(".tve-checkbox").prop("disabled",!0),this.$("label").addClass("disabled"),this},enable:function(){return this.$(".tve-checkbox").prop("disabled",!1),this.$("label").removeClass("disabled"),this}})},"color-picker.js":function(a,b,c){!function(a){var d=c("../base"),e=c("./input"),f=c("../../libs/favorite-colors"),g=c("../../libs/tinycolor");b.exports=d.control.extend({template:TVE.tpl("controls/color-picker"),events:{"keyup .color-input":"onColorEnter"},defaults:{output:"object",showGradient:!0,showInput:!0,allowEmpty:!0,showAlpha:!0,preferredFormat:"rgb",important:!1,showFavorites:!0},initialize:function(b){if(this.render(),a.spectrum){var c=a.extend({},this.defaults,this.$el.data(),this.model.config.options||{}),d=this;this.important=this.model.config.important?"!important":"",this.model.config.label=this.model.config.label||TVE.t.Color,this.colorPicker=this.$(".color-picker"),this.$input=this.$(".color-input");var g=c.change,h=c.move;a.extend(!0,c,{move:function(a){d.favorites&&d.favorites.on_color_change(a),h&&h(a),TVE.SKIP_CSS_STATE=!0,d.onInput(a)},change:function(a){if(d.favorites&&d.favorites.on_color_change(a),g)return g(a);TVE.SKIP_CSS_STATE=!1,d.onChange(a)},appendTo:"#tcb-drop-panels",show:_.bind(function(){c.flat&&this.$el.parents(".drop-panel").length||(this.$(".color-picker-input").addClass("drop-panel-focus"),TVE.main.$(".tve-panel").addClass("drop-panel-open"),TVE.main.scroll_panel_to(this.colorPicker.spectrum("container"))),this.favorites.render()},this),hide:c.hide||_.bind(function(){c.flat||this.$el.parents(".drop-panel").length||(this.$(".color-picker-input").removeClass("drop-panel-focus"),TVE.main.$(".tve-panel").removeClass("drop-panel-open"))},this),cancel:function(){d.cancel()}}),c.showAlpha&&(c.alpha_input=new e({model:{config:{name:TVE.t.opacity+":",um:"%",min:0,max:100,maxlength:5}}}),c.alpha_input.$(".input-control").addClass("small")),c.showPalette=!1,c.showFavorites&&(c.showSaveButton=!0,this.favorites=new f,c.saveFavorite=_.bind(this.favorites.add_color,this.favorites),this.favorites.color_picker=this),this.colorPicker.spectrum(c),c.showInput?this.$(".sp-replacer").addClass("has-input"):this.$input.hide(),c.showFavorites&&this.favorites.$el.appendTo(this.colorPicker.spectrum("container")),this.colorPicker.find(".sp-choose").on("click",function(a){d.onChange()}),"function"==typeof b.input&&(this.input=b.input),"function"==typeof b.change&&(this.change=b.change),this.options=c}},input:function(a){},onInput:function(a){TVE.SkipUpdate=!0,this.$input.val(a),this.input(this.getStyle(a))},onChange:function(a){TVE.SkipUpdate=!1,this.$input.val(a),this.change(this.getStyle(a))},setValue:function(a,b){null!==a&&(a=new g(a),0===a.getAlpha()&&(a=null)),this.colorPicker.spectrum("set",a,b),this.$input.val(a)},setAlpha:function(a){var b=this.colorPicker.spectrum("get");b.setAlpha(a),this.setValue(b)},getStyle:function(a){return"object"===this.options.output?a:{"background-color":a+this.important}},getValue:function(){return this.colorPicker.spectrum("get")},read_background:function(a){a=a||this.applyTo(),this.setValue(a.css("background-color")||"transparent")},read_css:function(a,b){b=b||this.applyTo(),this.setValue(b.css(a)||"transparent")},onColorEnter:function(a){13===a.keyCode&&(TVE.SkipUpdate=!0,this.colorPicker.spectrum("set",a.target.value),this.input(this.getValue()))},change:function(a){this.input(a)},reflow:function(){this.colorPicker.spectrum("reflow")},save_favorite:function(a){return this.favorites.add_color(a),!1},render_favorites:function(){this.favorites.render()},cancel:function(){}})}(jQuery)},"corners.js":function(a,b,c){var d=c("../base"),e=c("../controls/input");b.exports=d.control.extend({template:TVE.tpl("controls/corners"),corners:["top-left","top-right","bottom-left","bottom-right"],initialize:function(){this.render(),this.controls={BorderRadius:new e({el:this.$el.find(".tve-corner-value"),model:{config:{min:0,um:"PX"}}})},this.controls_init(this.controls)},controls_init:function(a){var b=this;this.controls.BorderRadius.update=function(){var a=this.readFrom(),c=a.css(b.style());void 0===c&&(c=0),this.setValue(parseInt(c))},this.controls.BorderRadius.input=function(a,c){var d={},e=""===b.current_corner?"border-radius":b.style();c.value=this.prepareValue(c.value,"px"),d[e]=c.value+"px"+(this.config.important?" !important":""),d.overflow="hidden",b.apply_css(this.applyTo(),d,this.config)}},apply_css:function(a,b,c){a.head_css(b,null,c.css_suffix,!1,c.css_prefix)},corner:function(a,b){this.current_corner=b.getAttribute("data-value"),this.$el.find(".tve-corner").removeClass("active"),b.className+=" active",this.controls.BorderRadius.update()},setConfig:function(a,b,c){void 0!==a&&jQuery.extend(!0,this.config,a),this.controls.BorderRadius.setConfig.apply(this.controls.BorderRadius,arguments)},update:function(){this.current_corner="",this.$el.find(".tve-corner").removeClass("active").filter(".default").addClass("active"),this.controls.BorderRadius.update()},style:function(a){return void 0===a&&(a=this.current_corner),"border-"+a+"-radius"},input:function(){}})},countdown:{"style.js":function(a,b,c){b.exports=c("../style-picker").extend({item_template:function(){return TVE.tpl("controls/countdown/style-picker")},container_class:function(){return"row middle-xs padding-left-5 padding-right-5 padding-bottom-5"},update:function(a){for(var b=a.attr("class").split(" "),c=this.model.config.default,d=0;d<b.length;d++)if("tve_countdown_"==b[d].substr(0,14)){c=b[d];break}this.$(".tve-select-item").removeClass("active").filter("[data-value="+c+"]").addClass("active"),this.model.selected_old=c,this.component.$el.find(".style-change-input").val(this.getLabel(c))},input:function(a){a.removeClass(function(a,b){return(b.match(/(^|\s)tve_countdown_\S+/g)||[]).join(" ")}),a.addClass(this.model.selected),this.component.trigger_change_date()},cancel:function(a){a.removeClass(this.model.selected).addClass(this.model.selected_old),this.model.selected=this.model.selected_old,this.component.trigger_change_date()},apply:function(a){this.undo_manager_api(a,this.model)},undo_manager_api:function(a,b){var c=b.selected,d=b.selected_old;TVE.UndoManager.add({undo:function(){a.removeClass(c).addClass(d)},redo:function(){a.removeClass(d).addClass(c)}})}})}},credit:{"cards.js":function(a,b,c){var d=c("../drop-panel");b.exports=d.extend({template:TVE.tpl("controls/cards-change"),render_item:function(a,b){return this.item_template()({key:a,label:b.label?b.label:b,value:b})},item_template:function(){return _.template('<div class="col-xs-6 card-item tcb-truncate"><label class="tcb-checkbox"><input type="checkbox" class="tve-checkbox click" data-fn="clicked" id="<#=value.identifier#>-tcb-card" value="<#=value.identifier#>"/><span><#=value.label#></span></label></div>')},clicked:function(a,b){var c=a.attr("data-cards").split(","),d={};if(b.checked)c.push(b.value);else{var e=c.indexOf(b.value);e>-1&&c.splice(e,1)}a.attr("data-cards",c),_.each(this.renderer.cards,function(a,b){_.contains(c,b)&&(d[b]=a)},this),this.model.selected=d,this.input(a,b)},input:function(a){this.renderer.set_data({cards:this.model.selected}).render_to(a)},read_from_element:function(){var a=this.applyTo().attr("data-cards"),b=a.split(","),c={};return _.each(this.renderer.cards,function(a,d){var e=!1;_.contains(b,d)&&(c[d]=a,e=!0),this.$("#"+d+"-tcb-card").prop("checked",e)},this),this.renderer.set_data({cards:c}),c},update:function(){var a=this.read_from_element();this.model.selected=a,this.model.selected_old=a},cancel:function(a){this.model.selected=this.model.selected_old,this.renderer.set_data({cards:this.model.selected_old}).render_to(a),this.renderer.clear_undo_snapshot(),this.read_from_element()},onOpen:function(a){this.update(),this.renderer.take_undo_snapshot(a)},apply:function(a){this.renderer.render_to(a,!0),this.collection.trigger("reset-for-preview")}})},"style.js":function(a,b,c){b.exports=c("../style-picker").extend({read_from_element:function(){var a=this.applyTo().attr("data-style");return this.renderer.set_data({style:a}),this.showHideMonochromeColorPicker(a),a},container_class:function(){return"row middle-xs padding-left-5 padding-right-10"},item_template:function(){return _.template('<div class="col-xs-12 credit-item"><div class="tve-select-item click" data-fn="select" data-value="<#=key #>"><#=value.html#></div></div>')},input:function(a){this.renderer.set_data({style:this.model.selected}).render_to(a)},cancel:function(a){this.model.selected=this.model.selected_old,this.renderer.set_data({style:this.model.selected_old}).render_to(a),this.renderer.clear_undo_snapshot()},onOpen:function(a){this.renderer.take_undo_snapshot(a)},apply:function(a){this.renderer.render_to(a,!0),this.showHideMonochromeColorPicker(a.attr("data-style")),this.collection.trigger("reset-for-preview")},showHideMonochromeColorPicker:function(a){this.parent_control.component.controls.monochrome_background.$el.toggleClass("tcb-hidden","style4"!==a)}})}},"custom-menu":{"menu-direction.js":function(a,b,c){var d=c("../../base");b.exports=d.control.extend({template:TVE.tpl("controls/custom-menu/menu-display"),update:function(){this.$("select").val(this.component.model.get("dir"))},changeDirection:function(a,b){var c=b.value;this.component.changeConfig("dir",c,!0),"tve_vertical"==c?(this.component.controls.ChildBackground.$el.hide(),this.component.controls.HoverChildBackground.$el.hide()):(this.component.controls.ChildBackground.$el.show(),this.component.controls.HoverChildBackground.$el.show())}})},"select-menu.js":function(a,b,c){var d=c("../../base");b.exports=d.control.extend({template:TVE.tpl("controls/custom-menu/select-menu"),update:function(){this.$("select").val(this.component.model.get("menu_id"))},changeMenu:function(a,b){this.component.changeConfig("menu_id",b.value,!0)}})}},"date-picker.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/date-picker"),initialize:function(){this.render(),this.$el.find(".tve-input-control").datepicker({dateFormat:"dd-mm-yy",beforeShow:function(a,b){jQuery("#ui-datepicker-div").addClass("tve-datepicker")}}),TVE.main.on("clear_focus",_.bind(function(){this.$el.find(".tve-input-control").datepicker("hide")},this))},changed:function(){this.input(this.applyTo(),this.$el.find(".tve-input-control").val())},date_trigger_click:function(){this.$el.find(".tve-input-control").datepicker("show")},setValue:function(a,b,c){this.$el.find(".tve-input-control").datepicker("setDate",new Date(a,b,c))}})},decoration:{"decoration.js":function(a,b,c){var d=c("./slanted"),e=c("./pointer"),f=c("./divider"),g=c("../../base");b.exports=g.control.extend({template:TVE.tpl("controls/decoration/decoration"),controls:{},side:"bottom",screens:["tablet-","mobile-"],responsive:{desktop:{media:"(min-width: 300px)",rule_index:0},tablet:{media:"(max-width: 1023px)",rule_index:1},mobile:{media:"(max-width: 767px)",rule_index:2}},after_initialize:function(){var a=this;this.controls={slanted:new d({el:this.$(".tve-slanted-control"),model:{config:{}},component:a}),pointer:new e({el:this.$(".tve-pointer-control"),model:{config:{}},component:a}),divider:new f({el:this.$(".tve-divider-control"),model:{config:{}},component:a})},
this.controls.slanted.component=a,this.controls.pointer.component=a,this.controls.divider.component=a,this.controls.none={},this.controls.none.update=function(){a.removeClip()},this.$(".tve-sub-control").hide(),this.$(".decoration-type select").val("none")},update:function(a){this.$element=a,this.setSide(this.side,!0)},getScreen:function(){var a=TVE.main.device+"-";return"desktop-"==a&&(a=""),a},getPreviousScreen:function(){var a,b=this.getScreen();return-1!==this.screens.indexOf(b)&&"tablet-"==(a="tablet-"==b?"":"tablet-")&&(a=0==this.$element.find("[data-screen="+a+"]").length?"":a),a},clipSelector:function(a){return".clip-path-"+this.getScreen()+a},removeClip:function(){var a=this.$element.find(this.clipSelector(this.side));a.length&&a.find("polygon").attr("points","0 0, 0 1, 1 1, 1 0")},chooseType:function(a,b){this.checkSVG();var c=TVE.renderers.base.read_element_props(a);if(this.$(".tve-sub-control").hide(),this.$(".tve-"+b.value+"-control").show(),a.find(this.clipSelector(this.side)).attr("decoration-type",b.value),this.controls[b.value].update(),!0!==b.ignore_change){var d=TVE.renderers.base.read_element_props(a);TVE.UndoManager.add({undo:function(){a.html(c.html)},redo:function(){a.html(d.html)}})}},checkSVG:function(){var a="none"!=this.$(".tve-select").val();!this.$element.find(".tve-decoration-svg").length&&a&&this.addSVG(),!this.$element.find(this.clipSelector(this.side)).length&&a&&this.addClipPath();var b=this.$element.attr("data-clip-id");TVE.Editor_Page.editor.find('*[data-clip-id="'+b+'"]').length>1&&this.changeIds(b)},changeIds:function(a){var b=this.generateID();this.$element.attr("data-clip-id",this.$element.attr("data-clip-id").replace(a,b)),this.$element.find(".decoration-clip").each(function(c){var d=jQuery(this);d.attr("id",d.attr("id").replace(a,b)),d.attr("class",d.attr("class").replace(a,b)),d.attr("clip-path")&&d.attr("clip-path",d.attr("clip-path").replace(a,b))});var c,d;for(var e in this.responsive)d="desktop"==e?"":e+"-",(c=this.$element.find('*[data-screen="'+d+'"]').first().attr("id"))&&this.$element.head_css({"clip-path":"url(#"+c+")"},this.responsive[e].media)},addClipPath:function(){var a=this.$element.attr("data-clip-id"),b=this.getScreen(),c=b?"[data-screen="+this.getScreen()+"]":"";a||(a=this.generateID(),this.setClipID(a));var d=this.buildClipID(a),e=this.$element.find(".tve-decoration-svg defs ").find(".decoration-clip"+c+":not([clip-path])");0==e.length&&this.$element.find(".tve-decoration-svg .decoration-clip ").length?this.copyScreenDecorations(b,d):(this.$element.find(".tve-decoration-svg defs").append(this.buildClipPath(d)),e.attr("clip-path","url(#"+d+")"))},copyScreenDecorations:function(a,b){if(-1!==this.screens.indexOf(a))var c=this.getPreviousScreen(),d=c?"[data-screen="+c+"]":"";var e,f,g=this.$element.find(".tve-decoration-svg defs").find(".decoration-clip"+d),h=this,i=!0;g.each(function(){e=jQuery(this).clone(),f=e.attr("id").replace("clip-"+c,"clip-"+a),e.attr("id",f),e.attr("class",e.attr("class").replace("clip-path-"+c,"clip-path-"+a)),e.attr("clipPathUnits","objectBoundingBox"),e.attr("data-screen",a),e.attr("clip-path")&&e.attr("clip-path",e.attr("clip-path").replace("clip-"+c,"clip-"+a)),i&&(h.$element.head_css({"clip-path":"url(#"+f+")"}),i=!1),h.$element.find(".tve-decoration-svg defs").append(e)})},buildClipPath:function(a,b){var c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"clipPath"),e=document.createElementNS(c,"polygon"),b=b||this.getScreen();return d.setAttributeNS(null,"id",a),d.setAttributeNS(null,"class","decoration-clip clip-path-"+b+this.side),d.setAttributeNS(null,"clipPathUnits","objectBoundingBox"),d.setAttributeNS(null,"data-screen",b),e.setAttributeNS(null,"points","0 0, 0 1, 1 1, 1 0"),d.appendChild(e),d},buildClipID:function(a){return"clip-"+this.getScreen()+this.side+"-"+a},setClipID:function(a){var b=this.buildClipID(a);this.applyTo().head_css({"clip-path":"url(#"+b+")"}),this.$element.attr("data-clip-id",a)},generateID:function(){return Math.random().toString(16).slice(2)},addSVG:function(){this.$element.append('<svg width="0" height="0" class="tve-decoration-svg"><defs></defs></svg>')},decorationSide:function(a,b){this.setSide(b.getAttribute("data-value")),this.$el.find(".tve-decoration-side").removeClass("active"),b.className+=" active",this.setSelector(a,!0)},setSelector:function(a,b){var c=this.getScreen(),d=a.find(".clip-path-"+c+this.side).length>0?c:this.getPreviousScreen(),e=a.find(".clip-path-"+d+this.side).attr("decoration-type");e||(e="none"),this.$(".tve-select").val(e),this.chooseType(a,{value:e,ignore_change:b})},setSide:function(a,b){this.side=a,b||this.checkSVG(),this.controls.slanted.setSide(a),this.controls.pointer.setSide(a),this.controls.divider.setSide(a),this.setSelector(this.applyTo(),!0)}})},"divider.js":function(a,b,c){var d=c("../../base"),e=c("../slider");b.exports=d.control.extend({order:["top","left","bottom","right"],controls:{},defaultPoints:"0 0, 0 1, 1 1, 1 0",style:"zigzag",side:"bottom",sizes:{top:{width:null,height:null},left:{width:null,height:null},bottom:{width:null,height:null},right:{width:null,height:null}},template:TVE.tpl("controls/decoration/divider"),after_initialize:function(){var a=this;this.controls.WidthSlider=new e({el:this.$el.find(".tve-divider-width"),model:{config:{default:"10",min:"0",max:"100",label:"Width",um:["%"]}}}),this.controls.HeightSlider=new e({el:this.$el.find(".tve-divider-height"),model:{config:{default:"10",min:"0",max:"100",label:"Height",um:["%"]}}}),this.controls.WidthSlider.input=this.controls.HeightSlider.input=function(b,c){var d,e,f,g,h,i,j=a.order.indexOf(a.side),k=a.getScreen();if(d=j-1<0?"right":a.order[j-1],e=j+1>3?"top":a.order[j+1],f=j+2>3?a.order[j-2]:a.order[j+2],a.checkSVG(),h=b.find(".clip-path-"+k+d).attr("pointer-height")/100,g=b.find(".clip-path-"+k+e).attr("pointer-height")/100,i=b.find(".clip-path-"+k+f).attr("pointer-height")/100,h=h?Number(h):0,g=g?Number(g):0,i=i?Number(i):0,a.sizes[a.side].width=Number(a.controls.WidthSlider.value(!1)),a.sizes[a.side].height=Number(a.controls.HeightSlider.value(!1)),b.find(".clip-path-"+k+a.side).attr("pointer-width",a.sizes[a.side].width).attr("pointer-height",a.sizes[a.side].height).attr("style",a.style),b.find(".clip-path-"+k+a.side+" ellipse").remove(),!a.sizes[a.side].width||!a.sizes[a.side].height)return void b.find(".clip-path-"+k+a.side+" polygon").attr("points",a.defaultPoints);a[a.style][a.side](b,a,h,g),b.find(".clip-path-"+k+d).attr("style")==a.style&&h&&(b.find(".clip-path-"+k+d+" ellipse").remove(),a[a.style][d](b,a,i,a.controls.HeightSlider.value(!1)/100)),b.find(".clip-path-"+k+e).attr("style")==a.style&&g&&(b.find(".clip-path-"+k+e+" ellipse").remove(),a[a.style][e](b,a,a.controls.HeightSlider.value(!1)/100,i))}},curves:{bottom:function(a,b,c,d){var e,f,g,h,i=b.sizes.bottom.height,j=b.sizes.bottom.width,k=j?Math.round(100/j):100,l=b.getScreen();e=((1-(c+d))/(2*k)).toFixed(6),h=1-i/100,f=i/100;for(var m=0;m<k;m++)g=(2*m+1)*e+c,a.find(".clip-path-"+l+"bottom").append(b.curves.buildEllipse(g,h,e,f));a.find(".clip-path-"+l+"bottom polygon").attr("points",b.curves.buildBindingBox(0,0,1,1-f))},top:function(a,b,c,d){var e,f,g,h,i=b.sizes.top.height,j=b.sizes.top.width,k=j?Math.round(100/j):100,l=b.getScreen();e=((1-(c+d))/(2*k)).toFixed(6),h=i/100,f=i/100;for(var m=0;m<k;m++)g=(2*m+1)*e+d,a.find(".clip-path-"+l+"top").append(b.curves.buildEllipse(g,h,e,f));a.find(".clip-path-"+l+"top polygon").attr("points",b.curves.buildBindingBox(0,f,1,1))},left:function(a,b,c,d){var e,f,g,h,i=b.sizes.left.height,j=b.sizes.left.width,k=j?Math.round(100/j):100,l=b.getScreen();f=((1-(c+d))/(2*k)).toFixed(6),g=i/100,e=i/100;for(var m=0;m<k;m++)h=(2*m+1)*f+c,a.find(".clip-path-"+l+"left").append(b.curves.buildEllipse(g,h,e,f));a.find(".clip-path-"+l+"left polygon").attr("points",b.curves.buildBindingBox(e,0,1,1))},right:function(a,b,c,d){var e,f,g,h,i=b.sizes.right.height,j=b.sizes.right.width,k=j?Math.round(100/j):100,l=b.getScreen();f=((1-(c+d))/(2*k)).toFixed(6),g=1-i/100,e=i/100;for(var m=0;m<k;m++)h=(2*m+1)*f+d,a.find(".clip-path-"+l+"right").append(b.curves.buildEllipse(g,h,e,f));a.find(".clip-path-"+l+"right polygon").attr("points",b.curves.buildBindingBox(0,0,1-e,1))},buildEllipse:function(a,b,c,d){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttributeNS(null,"cx",a),e.setAttributeNS(null,"cy",b),e.setAttributeNS(null,"rx",c),e.setAttributeNS(null,"ry",d),e},buildBindingBox:function(a,b,c,d){return a+" "+b+", "+a+" "+d+", "+c+" "+d+", "+c+" "+b}},zigzag:{bottom:function(a,b,c,d){for(var e,f,g=b.sizes.bottom.height,h=b.sizes.bottom.width,i="",j="",k="",l=h?Math.round(100/h):100,m=((1-(c+d))/l).toFixed(6),n=b.getScreen(),o=0;o<2*l+1;o++)f=o%2?1:1-g/100,e=Number((m/2).toFixed(6))*o+c,k+=e+" "+f+", ";i=d?" "+(1-d)+"  "+(1-g/100)+", 1 "+(1-g/100)+", 1 0":" 1 0",j=c?"0 0, 0 "+(1-g/100)+", "+c+" "+(1-g/100)+", ":"0 0, ",0===Number(h)?a.find(".clip-path-"+n+"bottom polygon").attr("points",b.defaultPoints):a.find(".clip-path-"+n+"bottom polygon").attr("points",j+k+i)},top:function(a,b,c,d){for(var e,f,g=b.sizes.top.height,h=b.sizes.top.width,i="",j="",k="",l=h?Math.round(100/h):100,m=((1-(c+d))/l).toFixed(6),n=b.getScreen(),o=0;o<2*l+1;o++){f=o%2?0:0+g/100,e=1-(Number((m/2).toFixed(6))*o+c);k+=e+" "+f+(o+2>2*l+1?"":", ")}i=d?", "+d+"  "+g/100+", 0 "+g/100:", 0 0",j=c?"0 1, 1 1, 1 "+g/100+", "+(1-c)+" "+g/100+", ":"0 1, 1 1,",0===Number(h)?a.find(".clip-path-"+n+"top polygon").attr("points",b.defaultPoints):a.find(".clip-path-"+n+"top polygon").attr("points",j+k+i)},left:function(a,b,c,d){for(var e,f,g=b.sizes.left.height,h=b.sizes.left.width,i="",j=h?Math.round(100/h):100,k=((1-(c+d))/j).toFixed(6),l=b.getScreen(),m=0;m<2*j+1;m++){e=m%2?0:g/100,f=Number((k/2).toFixed(6))*m+c;i+=e+" "+f+(m+2>2*j+1?"":", ")}0===Number(h)?a.find(".clip-path-"+l+"left polygon").attr("points",b.defaultPoints):a.find(".clip-path-"+l+"left polygon").attr("points",g/100+" 0, "+g/100+" "+c+", "+i+", 0 1, 1 1, 1 0")},right:function(a,b,c,d){for(var e,f,g=b.sizes.right.height,h=b.sizes.right.width,i="",j=h?Math.round(100/h):100,k=((1-(c+d))/j).toFixed(6),l=b.getScreen(),m=0;m<2*j+1;m++){e=m%2?1:1-g/100,f=1-(Number((k/2).toFixed(6))*m+c);i+=e+" "+f+(m+2>2*j+1?"":", ")}0===Number(h)?a.find(".clip-path-"+l+"right polygon").attr("points",b.defaultPoints):a.find(".clip-path-"+l+"right polygon").attr("points","0 0, 0 1,"+(1-g/100)+" 1,"+(1-g/100)+" "+(1-c)+", "+i+", "+(1-g/100)+" "+d+", "+(1-g/100)+" 0")}},getScreen:function(){return this.component.getScreen()},getPreviousScreen:function(){return this.component.getPreviousScreen()},checkSVG:function(){return this.component.checkSVG()},update:function(){var a=this.applyTo(),b=this.getScreen(),c=a.find(".clip-path-"+b+this.side).length>0?b:this.getPreviousScreen(),d=a.find(".clip-path-"+c+this.side).attr("style"),e=a.find(".clip-path-"+c+this.side).attr("pointer-height"),f=a.find(".clip-path-"+c+this.side).attr("pointer-width");d&&(this.style=d),"divider"==a.find(".clip-path-"+c+this.side).attr("decoration-type")&&(this.controls.WidthSlider.setValue(f||5),this.controls.HeightSlider.setValue(e||5,!0)),this.$(".btn-inline.active").removeClass("active"),this.$(".tve-divider-"+this.style).addClass("active")},setSide:function(a){this.side=a,this.update()},setStyle:function(a,b){if(-1===b.className.indexOf("active")){var c=this.getScreen();this.$(".btn-inline.active").removeClass("active"),b.classList.add("active"),this.style=b.getAttribute("data-style");this.applyTo().find(".clip-path-"+c+this.side).attr("style",this.style)}this.update()}})},"pointer.js":function(a,b,c){var d=c("../../base"),e=c("../checkbox"),f=c("../slider");b.exports=d.control.extend({order:["top","left","bottom","right"],pointerOrder:["first","peak","last"],controls:{},defaultPoints:"0 0, 0 1, 1 1, 1 0",template:TVE.tpl("controls/decoration/pointer"),inverted:!1,pointerCoords:{first:{},peak:{},last:{}},after_initialize:function(){var a=this;this.controls.InvertedDecoration=new e({el:this.$el.find(".tve-pointer-inverted-angle"),model:{config:{label:TVE.t.ReversePointer}}}),this.controls.InvertedDecoration.change=function(b,c){var d=a.getScreen();a.inverted=c.checked,b.find(".clip-path-"+d+a.side).attr("data-inverted",c.checked),c.value=b.find(".clip-path-"+d+a.side).attr("pointer-width"),a.controls.WidthSlider.input(b,c)},this.controls.WidthSlider=new f({el:this.$el.find(".tve-pointer-width"),model:{config:{default:"5",min:"0",max:"90",label:"Width",um:["%"]}}}),this.controls.HeightSlider=new f({el:this.$el.find(".tve-pointer-height"),model:{config:{default:"5",min:"0",max:"90",label:"Height",um:["%"]}}}),this.controls.WidthSlider.input=this.controls.HeightSlider.input=function(b,c){var d=a.getScreen();switch(b.find(".clip-path-"+d+a.side+" ellipse").remove(),a.side){case"bottom":a.changeBottom(b);break;case"right":a.changeRight(b);break;case"top":a.changeTop(b);break;case"left":a.changeLeft(b)}}},setSide:function(a){this.side=a,this.update()},getScreen:function(){return this.component.getScreen()},getPreviousScreen:function(){return this.component.getPreviousScreen()},checkSVG:function(){return this.component.checkSVG()},changeBottom:function(a){var b,c=this.controls.WidthSlider.value(!1)/100,d=this.controls.HeightSlider.value(!1)/100,e=this.processPath(this.defaultPoints),f=this.pointerCoords,g=this.getScreen();this.inverted?(b=f.first.y=f.last.y=e.bottom.y=e.left.y,f.peak.y=b-d,f.peak.x=.5):(b=e.left.y-d,f.first.y=f.last.y=e.left.y=e.bottom.y=b,f.peak.y=1,f.peak.x=.5),f.first.x=(1-c)/2,f.last.x=(1-c)/2+c,this.checkSVG(),a.find(".clip-path-"+g+this.side).attr("pointer-width",100*c).attr("pointer-height",100*d).attr("style",""),a.find(".clip-path-"+g+this.side+" polygon").attr("points",this.rebuildPath(e,f))},changeRight:function(a){var b,c=this.controls.WidthSlider.value(!1)/100,d=this.controls.HeightSlider.value(!1)/100,e=this.processPath(this.defaultPoints),f=this.pointerCoords,g=this.getScreen();this.inverted?(e.right.x=f.first.x=f.last.x=e.bottom.x,f.peak.x=1-d,f.peak.y=.5):(b=e.bottom.x-d,f.first.x=f.last.x=e.bottom.x=e.right.x=b,f.peak.x=1,f.peak.y=.5),f.last.y=(1-c)/2,f.first.y=(1-c)/2+c,this.checkSVG(),a.find(".clip-path-"+g+this.side).attr("pointer-width",100*c).attr("pointer-height",100*d),a.find(".clip-path-"+g+this.side+" polygon").attr("points",this.rebuildPath(e,f))},changeTop:function(a){var b,c=this.controls.WidthSlider.value(!1)/100,d=this.controls.HeightSlider.value(!1)/100,e=this.processPath(this.defaultPoints),f=this.pointerCoords,g=this.getScreen();this.inverted?(e.right.y=f.first.y=f.last.y=e.top.y,f.peak.y=d,f.peak.x=.5):(b=e.right.y+d,f.first.y=f.last.y=e.top.y=e.right.y=b,f.peak.y=0,f.peak.x=.5),f.last.x=(1-c)/2,f.first.x=(1-c)/2+c,this.checkSVG(),a.find(".clip-path-"+g+this.side).attr("pointer-width",100*c).attr("pointer-height",100*d),a.find(".clip-path-"+g+this.side+" polygon").attr("points",this.rebuildPath(e,f))},changeLeft:function(a){var b,c=this.controls.WidthSlider.value(!1)/100,d=this.controls.HeightSlider.value(!1)/100,e=this.processPath(this.defaultPoints),f=this.pointerCoords,g=this.getScreen();this.inverted?(f.first.x=f.last.x=e.left.x=e.top.x,f.peak.x=d,f.peak.y=.5):(b=e.top.x+d,f.first.x=f.last.x=e.top.x=e.left.x=b,f.peak.x=0,f.peak.y=.5),f.first.y=(1-c)/2,f.last.y=(1-c)/2+c,this.checkSVG(),a.find(".clip-path-"+g+this.side).attr("pointer-width",100*c).attr("pointer-height",100*d),a.find(".clip-path-"+g+this.side+" polygon").attr("points",this.rebuildPath(e,f))},processPath:function(a){var b=a.split(", "),c=[],d=[],e=0,f=this;return b.forEach(function(a){d=a.split(" "),c[f.order[e]]={x:Number(d[0]),y:Number(d[1])},e++}),c},update:function(){var a=this.applyTo(),b=this.getScreen(),c=a.find(".clip-path-"+b+this.side).length>0?b:this.getPreviousScreen(),d=a.find(".clip-path-"+c+this.side).attr("pointer-height"),e=a.find(".clip-path-"+c+this.side).attr("pointer-width");this.inverted=a.find(".clip-path-"+c+this.side).attr("data-inverted"),"pointer"==a.find(".clip-path-"+c+this.side).attr("decoration-type")&&(this.controls.WidthSlider.setValue(e||5),this.controls.HeightSlider.setValue(d||5),this.controls.InvertedDecoration.setChecked(this.inverted,!0))},rebuildPath:function(a,b){var c=[],d=this;return this.order.forEach(function(e,f){f==d.order.indexOf(d.side)&&d.pointerOrder.forEach(function(a,d){void 0!==b[a].x&&c.push(b[a].x+" "+b[a].y)}),void 0!==a[e].x&&c.push(a[e].x+" "+a[e].y)}),c.join(", ")}})},"slanted.js":function(a,b,c){var d=c("../../base"),e=c("../checkbox"),f=c("../slider");b.exports=d.control.extend({order:["top","left","bottom","right"],controls:{},defaultPoints:"0 0, 0 1, 1 1, 1 0",template:TVE.tpl("controls/decoration/slanted"),inverted:"",after_initialize:function(){var a=this;this.controls.InvertedDecoration=new e({el:this.$el.find(".tve-inverted-angle"),model:{config:{label:TVE.t.ChangeDirection}}}),this.controls.InvertedDecoration.change=function(b,c){var d=a.getScreen();a.inverted=c.checked,b.find(".clip-path-"+d+a.side).attr("data-inverted",c.checked),c.value=b.find(".clip-path-"+d+a.side).attr("slanted-angle"),a.controls.AngleSlider.input(b,c)},this.controls.AngleSlider=new f({el:this.$el.find(".tve-slanted-angle"),model:{config:{default:"5",min:"0",max:"100",label:"Tilt",um:["%"]}}}),this.controls.AngleSlider.input=function(b,c){var d=a.defaultPoints,e=a.processPath(d),f=Number(c.value),g=a.getScreen();switch(b.find(".clip-path-"+g+a.side+" ellipse").remove(),a.side){case"bottom":f<=0?(e[a.next_side].x=1,e[a.next_side].y=0,e[a.side].x=1,e[a.side].y=1):a.inverted?(e[a.prev_side].x=0,e[a.prev_side].y=(1-Math.tan(f*Math.PI/180)).toFixed(4),e[a.side].x=1,e[a.side].y=1):(e[a.side].x=Math.tan((90-f)*Math.PI/180).toFixed(4),e[a.side].y=0,e[a.next_side].x=1,e[a.next_side].y=0);break;case"right":f>=90?(e[a.next_side].x=0,e[a.next_side].y=1,e[a.side].x=0,e[a.side].y=1):a.inverted?(e[a.prev_side].x=(1-Math.tan(f*Math.PI/180)).toFixed(4),e[a.prev_side].y=1,e[a.side].x=1,e[a.side].y=0):(e[a.side].x=(1-Math.tan(f*Math.PI/180)).toFixed(4),e[a.side].y=0,e[a.next_side].x=0,e[a.next_side].y=0);break;case"top":f>=90?(e[a.next_side].x=1,e[a.next_side].y=1,e[a.side].x=1,e[a.side].y=1):a.inverted?(e[a.prev_side].x=1,e[a.prev_side].y=Math.tan(f*Math.PI/180).toFixed(4),e[a.side].x=0,e[a.side].y=0):(e[a.side].x=0,e[a.side].y=Math.tan(f*Math.PI/180).toFixed(4),e[a.next_side].x=0,e[a.next_side].y=1);break;case"left":f>=90?(e[a.next_side].x=0,e[a.next_side].y=0,e[a.side].x=0,e[a.side].y=0):a.inverted?(e[a.prev_side].x=Math.tan(f*Math.PI/180).toFixed(4),e[a.prev_side].y=0,e[a.side].x=0,e[a.side].y=1):(e[a.side].x=Math.tan(f*Math.PI/180).toFixed(4),e[a.side].y=1,e[a.next_side].x=1,e[a.next_side].y=1)}a.checkSVG(),b.find(".clip-path-"+g+a.side).attr("slanted-angle",f).attr("style",""),b.find(".clip-path-"+g+a.side+" polygon").attr("points",a.rebuildPath(e)),b.attr("data-value-type","percent")}},setSide:function(a){this.side=a;var b=this.order.indexOf(this.side);this.next_side=this.order[b+1],b==this.order.length-1&&(this.next_side=this.order[0]),this.prev_side=this.order[b-1],0==b&&(this.prev_side=this.order[this.order.length-1])},getScreen:function(){return this.component.getScreen()},getPreviousScreen:function(){return this.component.getPreviousScreen()},checkSVG:function(){return this.component.checkSVG()},update:function(){this.$element=this.applyTo();var a=this.getScreen(),b=this.$element.find(".clip-path-"+a+this.side).length>0?a:this.getPreviousScreen(),c=this.$element.find(".clip-path-"+b+this.side).attr("slanted-angle"),d=this.$element.find(".clip-path-"+b+this.side).attr("data-inverted"),e="percent"!=this.$element.attr("data-value-type"),c=e?10*Number(c)/9:Number(c);this.controls.InvertedDecoration.setChecked(!(!d||"false"==d)),this.inverted=this.controls.InvertedDecoration.isChecked(),this.controls.AngleSlider.setValue(c||5,!0)},rebuildPath:function(a){var b=[];return this.order.forEach(function(c){void 0!==a[c].x&&b.push(a[c].x+" "+a[c].y)}),b.join(", ")},processPath:function(a){var b=a.split(", "),c=[],d=[],e=0,f=this;return b.forEach(function(a){d=a.split(" "),c[f.order[e]]={x:Number(d[0]),y:Number(d[1])},e++}),c}})}},divider:{"style.js":function(a,b,c){b.exports=c("../style-picker").extend({item_template:function(){return TVE.tpl("controls/divider/style-picker")},update:function(){var a=this.applyTo().find("hr"),b=a.attr("class").split(" "),c=this.model.config.default,d=b.indexOf("tve_sep");d>-1&&b.splice(d,1),1===b.length&&(c=b[0]),this.$(".tve-select-item").removeClass("active").filter("[data-value="+c+"]").addClass("active"),this.model.selected_old=c,this.component.$el.find(".style-change-input").val(this.getLabel(c))},container_class:function(){return"row middle-xs padding-left-5 padding-right-10"},input:function(a){var b=a.find("hr");b.removeClass(function(a,b){return(b.match(/(^|\s)tve_sep-\S+/g)||[]).join(" ")}),b.addClass(this.model.selected),a.attr("data-style",this.model.selected),this.component.addDividerHeadCss(a)},cancel:function(a){a.find("hr").removeClass(this.model.selected).addClass(this.model.selected_old),this.model.selected=this.model.selected_old,a.attr("data-style",this.model.selected),this.component.addDividerHeadCss(a)},apply:function(a){this.component.addDividerHeadCss(a),this.undo_manager_api(a,this.model)},undo_manager_api:function(a,b){var c=this,d=b.selected,e=b.selected_old;TVE.UndoManager.add({undo:function(){a.attr("data-style",e),a.find("hr").removeClass(d).addClass(e),c.component.addDividerHeadCss(a)},redo:function(){a.attr("data-style",d),a.find("hr").removeClass(e).addClass(d),c.component.addDividerHeadCss(a)}})}})}},"drop-panel.js":function(a,b,c){!function(a){var d=c("../base"),e=1,f=d.control.extend({_template:TVE.tpl("controls/drop-panel"),key:function(){return this.$el.data("view")||e++},initialize:function(b){a.extend(!0,this,b),void 0===this.template&&this.model.config.template&&(this.template=TVE.tpl(this.model.config.template)),this.template||(this.template=a.noop),this.append_element(b),this.$el.data("dp-instance",this).on("click",function(a){a.stopPropagation()}),d.control.prototype.initialize.apply(this,arguments),b&&b.no_buttons&&this.$el.addClass("panel-bare"),this.__drop_panel_height=this.$(".drop-panel").outerHeight(),this.hide()},append_element:function(){this.setElement(a("<div>",{id:"tcb-drop-"+(this.$el.data("view")||this.key()),class:"tcb-drop-panel",html:this._template(),"data-view":this.key()}).appendTo(TVE.main.$dropPanels)[0])},render:function(){return this.$(".popup-content").html(this.template()),this},open:function(a,b){return f.close_all(),this.visible=!0,TVE.main.$cpanel.find(".tve-panel").addClass("drop-panel-open"),TVE.$document.on("keydown.drop_panel",_.bind(function(a){27===a.which&&(this.onCancel(),TVE.$document.off("keydown.drop_panel"))},this)),this.show(),this.position(b),this.onOpen(a,b,this.$el),TVE.main.scroll_panel_to(this.$(".drop-panel")),!1},isOpen:function(){return this.$el.is(":visible")},hide:function(a,b){this.visible=!1,TVE.main.$cpanel.find(".tve-panel").removeClass("drop-panel-open"),this.last_target&&this.last_target.removeClass("drop-panel-focus"),this.$el.hide(),this.$(".color-picker").spectrum("hide"),this.trigger("close"),this.onClose(a,b)},isVisible:function(){return this.visible},show:function(){return this.$el.show(),this},position:function(b){if(b){var c=a(b),d=c.offset();this.$el.css({top:d.top-TVE.main.$scrollbar.offset().top+TVE.main.$scrollbar.scrollTop()+"px"}),this.$(".tcb-panel-arrow").css({left:d.left-TVE.panel_offset.left+c.outerWidth()/2+"px"}),this.last_target=c.addClass("drop-panel-focus")}},onCancel:function(a,b){this.isVisible()&&(this.hide(a,b),this.cancel(a,b))},onApply:function(a,b){!0===this.validate(a,b)&&(this.apply(a,b),this.hide(a,b))},validate:function(){return!0},cancel:function(){throw new Error(this.key()+": Cancel function not implemented for this drop panel!!!")},apply:function(){},onOpen:function(a,b){},onClose:function(a,b){}},{close_all:function(){TVE.main.$dropPanels.add("#inline-drop-panels").find(".tcb-drop-panel").filter(":visible").each(function(){var b=a(this).data("dp-instance");b&&b.onApply(b.applyTo())})}});b.exports=f}(jQuery)},"element-states.js":function(a,b,c){var d=c("../base").base_view,e="tcb-hidden";b.exports=d.extend({template:TVE.tpl("element-states"),initialize:function(){d.prototype.initialize.apply(this,arguments),this.dom={dropdown:this.$(".drop-content").addClass(e),states:this.$(".state-section").filter(".state-default").removeClass(e).end()},this.$el.hasClass("tcb-relative")||this.$el.addClass("tcb-relative"),this.s="default"},disable:function(){this.$el.addClass("tcb-hidden"),this.disabled=!0},enable:function(){this.$el.removeClass("tcb-hidden"),delete this.disabled},toggle_dropdown:function(){if(this.disabled)return!1;this.dom.dropdown.toggleClass(e)},state_select:function(a){if(this.disabled)return!1;var b=a.currentTarget.dataset.state;if(this.dom.dropdown.addClass(e),b===this.s)return!1;switch(this.s=b,this.trigger("state_change",b),b){case"hover":TVE.page_message(TVE.t.hover_info_message,-2)}return TVE.inner.$body.on("keyup.state_cancel",jQuery.proxy(function(a){if(27===a.which)return this.done()},this)),this.update_dom(b),!1},update_dom:function(a){return a=void 0===a?"default":a,this.dom.states.addClass(e).filter(".state-"+("default"===a?a:"edit")).removeClass(e),TVE.main.set_element_name(null,"default"!==a?": "+a.toUpperCase():null),this.$("li").removeClass("selected").filter('[data-state="'+a+'"]').addClass("selected"),!1},done:function(){return TVE.inner.$body.off("keyup.state_cancel"),this.trigger("done"),this.s="default",this.$(".drop-content").addClass(e),this.update_dom(),!1}})},"file.js":function(a,b,c){var d=c("../base"),e=c("../../libs/file-picker");b.exports=d.control.extend({ICONS:{image:"image2",video:"video"},template:TVE.tpl("util/file-picker"),config:{type:"image",preselect_full_size:!1},labels:{choose:TVE.t.ChooseFile,title:TVE.t.Files},initialize:function(a){this.labels=_.defaults(a.labels||{},this.labels),this.config=_.defaults(a.config||{},this.config),this.selection=null,this.picker=new e({title:this.labels.title,library:{type:this.config.type},preselect_full_size:this.config.preselect_full_size}).on_select(this._select,this),a.template_name&&(this.template=TVE.tpl(a.template_name)),this.render()},open_media:function(){this.picker.open()},set:function(a){this.selection=_.extend({},a),this.selection&&!this.selection.title&&this.default_title(),this.render()},get:function(){return this.selection||{}},_select:function(a,b){this.selection=a,this.render(),this.trigger("select",a,b)},remove:function(){return this.trigger("remove"),this.selection=null,this.render(),!1},preview_icon:function(){return TVE.icon(this.ICONS[this.config.type]||this.ICONS.image)},default_title:function(){return this.selection&&this.selection.url?(this.selection.title=this.selection.url.replace(/\/$/,"").split("/").pop(),this.selection.title||(this.selection.title="[no title]"),this):this}})},"font-manager.js":function(a,b,c){!function(a){var d=c("./drop-panel");b.exports=d.extend({before_initialize:function(){this.fonts=TVE.CONST.fonts,this.fonts.google.fonts=TVE.FontManager.get_google_fonts(),this.section=!1},after_initialize:function(){var a=[],b=this,c=this.$(".tve-google-font-select").css("width","204px");_.each(this.fonts.google.fonts,function(b,c){a.push({key:c,value:b.family,label:b.family})}),c.autocomplete({source:a,delay:100,minLength:0,appendTo:c.parent(),open:function(){return c.autocomplete("widget").css({display:"block"}),!1},select:function(a,c){b.google.update(b,c.item.key,!0),a.stopPropagation()}}).autocomplete("widget").addClass("tcb-suggest tcb-dark tcb-fonts tcb-absolute").css("max-width","204px"),c.bind("click",function(){c.autocomplete("search")}),this.imported_fonts=TVE.FontManager.get_imported_fonts(),0===this.fonts.custom.fonts.length&&this.$('.tve-font-select  option[value="custom"]').attr("disabled","disabled").hide()},sourceChange:function(a,b){this.showSection(b.value,!0),"inherit"===b.value&&this.inherit.update(this),TVE.main.scroll_panel_to(this.$(".drop-panel"))},showSection:function(a,b){this.$(".font-section").hide(),this.section=a,this.$('.font-section[data-section="'+a+'"]').show(),b&&this[this.section].reset()},readFont:function(){var a,b=this.initial_font,c=this.initial_weight,d="inherit";b&&(b=b.replace(/"/g,""),_.each(this.fonts.google.fonts,function(c,e){if(c.family==b)return d="google",void(a=e)}),_.each(this.fonts.safe.fonts,function(c,e){if(c.family==b)return d="safe",void(a=e)}),_.each(this.fonts.custom.fonts,function(e,f){if(e.family==b&&e.regular_weight==c)return d="custom",void(a=f)})),this.$(".tve-font-select").val(d),"inherit"!==d&&""!==a&&(this[d].setValue(a),this[d].update(this,a,!1)),this.showSection(d)},googleRecommended:function(){},google:{update:function(b,c,d){var e=b.fonts.google.fonts[c],f=this,g="latin",h=TVE.FontManager.get_imported_fonts();this.fonts=b.fonts.google.fonts,this.$font=b.$(".tve-google-font-select"),this.$weight=b.$(".tve-google-weigh-select").empty(),this.$bold=b.$(".tve-google-bold-select").empty(),this.$subsets=b.$(".tve-google-subsets-select").empty(),this.$font.data("key",c),e&&(_.each(e.variants,function(b,c){!isNaN(b)&&b<400&&f.$weight.append(a("<option>",{value:b,text:b}))}),b.last_initial_weight=b.initial_weight,(void 0===b.initial_weight||"bold"===b.initial_weight||""===b.initial_weight||parseInt(b.initial_weight)>500)&&void 0!==h[e.family]&&(b.initial_weight=h[e.family].variants[0]),this.$weight.append(a("<option>",{value:400,text:"400"})).val(b.initial_weight||"400"),void 0!==b.initial_bold&&""!==b.initial_bold||void 0!==h[e.family]&&(b.initial_bold=h[e.family].variants[1],b.last_bold_weight=b.initial_bold),_.each(e.variants,function(c,d){!isNaN(c)&&c>400&&f.$bold.append(a("<option>",{value:c,text:c})).val(b.initial_bold)}),0===this.$bold.find("option").length&&this.$bold.append(a("<option>",{value:"",text:"Bold"}).prop("selected",!0)),_.each(e.subsets,function(b){f.$subsets.append(a("<option>",{value:b,text:b}))}),b.imported_fonts[e.family]&&(g=b.imported_fonts[e.family].subsets),f.$subsets.val(g),b.setInputValue(this.fonts[c].family),d&&this.css(b))},validate:function(){var a=this.data();return!(!a.family||!a.subsets)&&a.variants.length>0},data:function(){return{family:this.fonts[this.$font.data("key")].family,variants:[this.$weight.val(),this.$bold.val()].filter(function(a){return a&&a.trim().length>0}),subsets:this.$subsets.val()}},css:function(a){var b=this.$font.data("key"),c=this.data();return TVE.FontManager.import_font(c),a.initial_bold=this.$bold.val(),a.initial_weight=this.$weight.val(),a.imported_fonts[c.family]=c,a.set(this.fonts[b].family,a.initial_weight,a.initial_bold),this.fonts[b].family},reset:function(){this.$font&&this.$font.val(""),this.$weight&&this.$weight.val(""),this.$subsets&&this.$subsets.val("")},setValue:function(a){this.$font&&this.$font.val(this.fonts[a].family)}},safe:{update:function(a,b,c){this.$select=a.$(".tve-safe-font-select"),this.font=a.fonts.safe.fonts[b].family,this.validate()&&(a.setInputValue(this.font),c&&this.css(a))},validate:function(){return this.font&&this.font.trim().length>0},css:function(a){return a.set(this.font),this.font},reset:function(){this.$select&&this.$select.val("")},setValue:function(a){this.$select&&this.$select.val(a)}},inherit:{update:function(a){this.css(a)},validate:function(){return!0},css:function(a){a.set("inherit")},reset:function(){}},custom:{update:function(a,b,c){this.fonts=a.fonts.custom.fonts,this.$select=a.$(".tve-custom-font-select"),this.font=this.fonts[b],this.validate()&&c&&this.css(a)},validate:function(){return!(!this.font||!this.font.family)},css:function(a){var b=a.applyTo(),c=b.clone(),d=!1;if(TVE.froala.has_selection())TVE.froala.exec("format.apply","span",{class:this.font.class});else{
if(b.hasClass("thrv_wrapper")||b.hasClass("tve-cb")||b.hasClass("tve-page-section-in")||b.hasClass("tcb-col")){var e=[];(b.is(".thrv_text_element")||b.find(".thrv_text_element").length>0)&&(e=jQuery.merge(e,b.find(TVE.ELEM.text))),b.find(".thrv-inline-text").length>0&&(e=jQuery.merge(e,b.find(".thrv-inline-text"))),b=jQuery(e)}else d=!0;b.removeClass(function(a,b){return(b.match(/(^|\s)ttfm\S+/g)||[]).join(" ")}),b.addClass(this.font.class)}return d?TVE.Components["lp-fonts"].update():c.is(TVE.TEXT_BLOCK)||TVE.froala.has_selection()?TVE.Components.text.update():TVE.Components.typography.update(),this.font.family},setValue:function(a){this.$select&&this.$select.val(a)},reset:function(){}},set:function(a,b,c){TVE.SkipUpdate=!0;var d=this.applyTo();if(void 0===a&&(a="inherit"),-1!==a.indexOf(",")){var e="",f=a.split(",");TVE.froala.has_selection()?_.each(f,function(a,b){a=a.trim(),e+=a+","}):_.each(f,function(a,b){a=a.trim(),-1!==a.indexOf(" ")&&(a=" "+a+" "),e+=a+","}),a=e.slice(0,-1)}else-1!==a.indexOf(" ")&&(a='"'+a+'"');if(this.model.config.tinymce)if(TVE.froala.has_selection())TVE.froala.exec("format.applyStyle","font-family",a),void 0!==b&&TVE.froala.exec("format.applyStyle","font-weight",b),this.component.apply_head_css&&this.component.apply_head_css();else{var g={"font-family":a+"!important","font-weight":""};void 0!==b&&(g["font-weight"]=b),TVE.froala.get_block_element().head_css(g,"","",!1,"#tve_editor "),void 0!==c&&TVE.froala.get_block_element().head_css({"font-weight":c},!1," strong")}else this.writeCSS(d,a,b,c)},writeCSS:function(a,b,c,d){var e=a.head_css("font-weight",!1,this.config.css_suffix,!0,this.config.css_prefix),f={"font-family":b};void 0!==c&&""!==c&&(f["font-weight"]=c),a.has(".tve_lg_submit")&&("bold"===e||parseInt(e)>=500)&&(f["font-weight"]=e),a.head_css(f,!1,this.config.css_suffix,!0,this.config.css_prefix),void 0!==d&&""!==d&&a.head_css({"font-weight":d},!1," strong")},cancel:function(a){void 0!==this.is_update_end&&!1===this.is_update_end&&(this.is_update_end=!0),this.set(this.initial_font,this.last_initial_weight,this.last_bold_weight),this.setInputValue(this.initial_font),this.update()},apply:function(a){if(this.validate()){TVE.SKIP_CSS_STATE=!1;var b=this[this.section].css(this);this.initial_font=b,this.setInputValue(b),this.hide()}},input:function(a,b){this.change(a,b)},validate:function(){return this[this.section].validate()},change:function(a,b){var c=b.getAttribute("data-font");this.validate()&&(TVE.SKIP_CSS_STATE=!0,this.setInputValue(this[c].css(this)))},fontChange:function(a,b){var c=b.getAttribute("data-font");"function"==typeof this[c].update&&this[c].update(this,b.value,!0)}})}(jQuery)},"icon-label-switch.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/icon-label-switch"),initialize:function(a){this.template_model=a.template_model||this.default_model(),this.render(),this.after_initialize&&this.after_initialize()},trigger_click:function(a,b){this.$el.find('input[type="checkbox"]').trigger("click")},clicked:function(a,b){this.setLabel(b.checked),this.change(b.checked)},isChecked:function(){return this.$('input[type="checkbox"]').is(":checked")},setChecked:function(a){this.setLabel(a),this.$el.find('input[type="checkbox"]').prop("checked",a)},setDisabled:function(a){a?this.$el.find(".tcb-device-switch-label").html(TVE.t.Disabled.toUpperCase()):this.setLabel(this.$('input[type="checkbox"]:checked').length),this.$el.find('input[type="checkbox"]').prop("disabled",a)},setLabel:function(a){var b='<span style="color:#4bb35e" >'+TVE.t.Visible.toUpperCase()+"</span>";a||(b=TVE.t.Hidden.toUpperCase()),this.$el.find(".tcb-device-switch-label").html(b)},render:function(){this.$el.html(this.template({model:this.template_model}))},default_model:function(){return new Backbone.Model({})}})},image:{"style.js":function(a,b,c){b.exports=c("../style-picker").extend({item_template:function(){return TVE.tpl("controls/image/style-picker")},container_class:function(){return"row middle-xs margin-right-0 margin-left-0 padding-right-10 padding-left-5"},update:function(){for(var a=this.applyTo(),b=a.attr("class").split(" "),c=this.model.config.default||"no_style",d=0;d<b.length;d++)if("img_style_"==b[d].substr(0,10)){c=b[d];break}this.$(".tve-select-item").removeClass("active").filter("[data-value="+c+"]").addClass("active"),this.model.selected_old=c,this.component.$("#tcb-image-style-name").val(this.getLabel(c))},input:function(a,b){a.removeClass(function(a,b){return(b.match(/(^|\s)img_style_\S+/g)||[]).join(" ")}),"no_style"!==this.model.selected&&a.addClass(this.model.selected)},apply:function(a,b){this.model.selected&&this.component.$("#tcb-image-style-name").val(this.getLabel(this.model.selected)),this.undo_manager_api(a,this.model)},cancel:function(a,b){this.model.selected&&"no_style"!==this.model.selected&&a.removeClass(this.model.selected),this.model.selected_old&&"no_style"!==this.model.selected_old&&a.addClass(this.model.selected_old),this.undo_manager_api(a,this.model)},undo_manager_api:function(a,b){var c=this,d=b.selected&&"no_style"!==b.selected?b.selected:"",e=b.selected_old&&"no_style"!==b.selected_old?b.selected_old:"";TVE.UndoManager.add({undo:function(){this.undo_redo()},redo:function(){this.undo_redo()},undo_redo:function(){a.is('[class*="img_style_"]')?(a.removeClass(d).addClass(e),TVE.ActiveElement&&c.update()):(a.addClass(d).removeClass(e),TVE.ActiveElement&&c.update())}})}})}},"image-picker.js":function(a,b,c){var d=c("../base"),e=c("../../libs/file-picker");b.exports=d.control.extend({template:TVE.tpl("controls/image"),initialize:function(){this.render(),this.picker=(new e).on_select(this.change_image,this),this.picker.on_cancel(this.on_cancel,this)},open:function(){return this.image_selected=!1,this.picker.open(),!1},change_placeholder:function(){this.placeholder=!0,this.open()},on_cancel:function(){this.placeholder&&(delete this.placeholder,TVE.main.clear_focus())},change_image:function(a,b){this.image_selected=!0;var c=this.applyTo().find("img"),d={};if(0===c.length&&(this.applyTo().html('<span class="tve_image_frame"><img class="tve_image" alt=""/></span>'),c=this.applyTo().find("img")),c.removeClass(function(a,b){return b.split(" ").filter(function(a){return 0===a.indexOf("wp-image-")}).join(" ")}),b&&b.id&&c.addClass("wp-image-"+b.id),c.removeAttr("sizes").removeAttr("srcset"),this.align_image(a.align),d.width=a.width,d.height=a.height,d.alt=a.alt,d.title=a.title,d["data-id"]=b.id,a.caption){var e=c.closest(".tve_image_caption");e.find(".wp-caption-text").remove(),e.append('<p class="thrv-inline-text wp-caption-text">'+a.caption+"</p>")}d.src=this.picker.clean_url(a.url),c.attr(d),this.placeholder&&(TVE.Editor_Page.focus_element(TVE.ActiveElement.removeClass("tcb-elem-placeholder edit_mode")),delete this.placeholder),this.trigger("change",a)},align_image:function(a){$element=this.applyTo(),$element.head_css({float:"none"}),$element.head_css({clear:"none"},null," + div"),$element.removeAttr("data-clear"),"none"!=a&&("center"!=a?($element.head_css({float:a}),$element.head_css({clear:"both"},null," + div"),$element.attr("data-clear","both")):$element.head_css({"margin-left":"auto","margin-right":"auto"}))}})},"image-size.js":function(a,b,c){var d=c("./max-width");b.exports=d.extend({convertUM:function(a){var b=this.applyTo(!0),c=b.parentNode,d=this.$el.find(".tve-input, .tve-slider"),e=TVE.convertUM(b,a,c,this.model.config.css);d.val(e)},afterConfig:function(){var a=this.applyTo().parent();this.model.config.max=parseInt((a.is("a")?a.parent():a).width())}})},"input-multiple.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/input-multiple"),after_initialize:function(a){this.listenTo(this.model.get("list_items"),"remove",this.changeCollection),this.listenTo(this.model.get("list_items"),"change",this.changeCollection)},changeCollection:function(){this.change(this.applyTo(),this.model.get("list_items").toJSON())},render:function(){if(this.model instanceof Backbone.Model==!1){var a=this.model.config;this.model=new Backbone.Model({top_text:a.top_text,add_button_text:a.add_button_text,remove_title:a.remove_title,list_label:a.list_label,list_items:new Backbone.Collection(a.list_items)})}this.$el.html(this.template({model:this.model})),0===this.model.get("list_items").length?this.add_input_row():this.model.get("list_items").each(this.renderOne,this)},renderOne:function(a){var b=new e({model:a,config:this.model});this.$el.find(".tcb-input-multiple-holder").append(b.render().el)},add_input_row:function(){var a=new Backbone.Model({value:""});this.model.get("list_items").add(a),this.renderOne(a)},resetCollection:function(a){this.model.get("list_items").reset(a),this.render()}});var e=d.base_view.extend({template:TVE.tpl("controls/input-multiple-item"),initialize:function(a){this.config=a.config,this.model=a.model},render:function(){return this.$el.html(this.template({value:this.model.get("value"),label:this.config.get("list_label"),remove_title:this.config.get("remove_title")})),this},_remove:function(a,b,c){this.model.destroy(),this.remove()},_changed:function(a,b,c){this.model.set({value:b.value}),this.config.get("list_items").trigger("change")}})},"input-search.js":function(a,b,c){!function(a){var d=c("./input");b.exports=d.extend({initialize:function(){var b,c,d=this;this.render(),this.$el.find(".tve-input").autocomplete({source:function(e,f){return b===e.term?void f(c):/^https?:/.test(e.term)||-1!==e.term.indexOf(".")?(d.$text.val(e.term),f()):(a.post(tcb_main_const.ajax_url,{action:"tve_find_quick_link_contents",json:"1",q:e.term},function(a){c=a,f(a)},"json"),void(b=e.term))},focus:function(a,b){a.preventDefault()},select:function(a,b){d.$el.find(".tve-input").val(b.item.url)}}).data("ui-autocomplete")._renderItem=function(b,c){return a('<li role="option" id="mce-tcb-autocomplete-'+c.id+'">').append("<span>"+c.label+'</span>&nbsp;<span class="tcb-link-type">'+c.type+"</span>").appendTo(b)}}})}(jQuery)},"input.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/input"),initialize:function(){var a=this,b=this.model.config.stepSize||1;this.render(),this.model.config.um&&this.$el.find(".input-um").show(),this.$input=this.$el.find("input"),this.$input.on("focus",function(){this.select()}),this.$el.find(".handle").tve_draggable({stepSize:b,start:function(){a.currentValue=isNaN(a.getValue())?0:parseInt(a.getValue())},move:function(b){var c=a.currentValue+parseInt(b);void 0!==a.model.config.min&&(c=c<a.model.config.min?a.model.config.min:c),void 0!==a.model.config.max&&(c=c>a.model.config.max?a.model.config.max:c),a.setValue(c,!1,!0)},stop:function(){a.$input.trigger("change")}})},getValue:function(){return this.$input.val()},setValue:function(a,b,c){this.validate(a)&&(this.$input.val(a),b&&this.$input.trigger("change"),c&&this.$input.trigger("input"))},up:function(){this.setValue(this.getValue()- -1,!0,!0)},down:function(){this.setValue(this.getValue()-1,!0,!0)},validate_and_change:function(){return this.$input.removeClass("has-error"),this.validate(this.$input.val())?this.change.apply(this,arguments):(this.$input.addClass("has-error").focus(),!1)},setValueDirectly:function(a){this.$input.removeClass("has-error").val(a)},validate:function(a){return a=parseFloat(a),!isNaN(a)&&(!(void 0!==this.model.config.min&&this.model.config.min>a)&&!(void 0!==this.model.config.max&&this.model.config.max<a))},input_class:function(){return this.model.config&&this.model.config.input_class?this.model.config.input_class:""}})},"knob.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/knob"),initialize:function(a){a.template&&(this.template=a.template),this.render();var b=this;1===this.model.config.um.length&&this.$el.find(".input-um").show(),this.model.config.default&&b.setValue(this.model.config.default,!1);var c;this.$(".tve-knob").tve_draggable({start:function(a,d,e){var f=b.$(".tve-knob").offset();width=b.$(".tve-knob").outerWidth(),b.knobX=isNaN(f.left)?0:f.left+width/2,b.knobY=isNaN(f.top)?0:f.top+width/2,c=TVE.SKIP_CSS_STATE},move:function(a,c,d,e,f,g){var h=b.getKnobValue(g.pageX,g.pageY);TVE.SKIP_CSS_STATE=!0,b.setValue(h,!0)},stop:function(){TVE.SKIP_CSS_STATE=c}}),this.$(".handle").tve_draggable({start:function(){b.currentValue=parseInt(b.value()),isNaN(b.currentValue)&&(b.currentValue=0)},move:function(a){var c=b.currentValue+parseInt(a);void 0!==b.model.config.min&&(c<b.model.config.min&&(c+=b.model.config.max-1),c=c<b.model.config.min?b.model.config.min:c),void 0!==b.model.config.max&&(c>b.model.config.max&&(c-=b.model.config.max),c=c>b.model.config.max?b.model.config.max:c),b.setValue(c,!0)}}),this.$("input[type=text]").on("focus",function(){this.select()})},getKnobValue:function(a,b){var c=Math.floor(this.angle(this.knobX,this.knobY,a,b));return void 0!==this.model.config.min&&(c=c<this.model.config.min?this.model.config.min:c),void 0!==this.model.config.max&&(c=c>this.model.config.max?this.model.config.max:c),c},value:function(){return this.$(".tve-input").val()},onChange:function(a,b){var c=parseInt(b.value);void 0!==this.model.config.min&&(c=c<this.model.config.min?this.model.config.min:c),void 0!==this.model.config.max&&(c=c>this.model.config.max?this.model.config.max:c),this.setValue(c),TVE.SkipUpdate=!1,TVE.SKIP_CSS_STATE=!0,this.change(a,b)},onInput:function(a,b){this.$el.find("input").val(b.value),TVE.SkipUpdate=!0,this.input(a,b)},setValue:function(a,b){a=parseFloat(a),a==parseInt(a)&&(a=parseInt(a)),isNaN(a)&&(a=0),this.$el.find(".tve-input").val(a),this.$(".tve-knob").css("transform","rotate("+-a+"deg)"),b&&this.$el.find(".tve-input").trigger("change")},up:function(){this.setValue(this.value(!1)- -1,!0)},down:function(){this.setValue(this.value(!1)-1,!0)},angle:function(a,b,c,d){var e=d-b,f=c-a,g=Math.atan2(e,f);return g*=180/Math.PI,g<0&&(g=360+g),360-g}})},"label-input.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/label-input"),render:function(){if(this.model instanceof Backbone.Model==!1){var a=this.model.config;this.model=new Backbone.Model({label:a.label,extra_attrs:a.extra_attrs,label_col_x:a.label_col_x,placeholder:a.placeholder})}this.$el.html(this.template({model:this.model}))},getValue:function(){return this.$(".tve-input-control").val()},changed:function(a,b){this.change(this.applyTo(),b)},setValue:function(a){this.$(".tve-input-control").val(a)}})},"landing-page":{"lp-text-borders.js":function(a,b,c){var d=c("../borders");b.exports=d.extend({controls_init:function(a){d.prototype.controls_init.call(this);var b=this;this.controls.Width.update=function(){var a=TVE.readLandingPageCSS(b.get_selector(),b.style("width"));""==a&&(a=0),this.setValue(parseInt(a))},this.controls.Style.update=function(){var a=TVE.readLandingPageCSS(b.get_selector(),b.style("style"));this.setActive(a)},this.controls.Color.update=function(){var a=TVE.readLandingPageCSS(b.get_selector(),b.style("color"));this.setValue(a)}},apply_css:function(a,b){var c=TVE.ActiveElement.attr("data-apply");_.each(c.split(","),function(a,c){a=a.trim(),a="h"===a.charAt(0)?'[data-tag="'+a+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(a,b)},this)},get_selector:function(){var a=TVE.ActiveElement.attr("data-apply"),b=a.split(",")[0].trim();return b="h"===b.charAt(0)?'[data-tag="'+b+'"] ':"."+TVE.ActiveElement.attr("data-element-class")}})},"lp-text-corners.js":function(a,b,c){var d=c("../corners");b.exports=d.extend({controls_init:function(a){d.prototype.controls_init.call(this);var b=this;this.controls.BorderRadius.update=function(){var a=TVE.readLandingPageCSS(b.get_selector(),b.style());void 0===a&&(a=0),this.setValue(parseInt(a))}},apply_css:function(a,b){var c=TVE.ActiveElement.attr("data-apply");_.each(c.split(","),function(a,c){a=a.trim(),a="h"===a.charAt(0)?'[data-tag="'+a+'"] ':"."+TVE.ActiveElement.attr("data-element-class"),TVE.writeLandingPageCSS(a,b)},this)},get_selector:function(){var a=TVE.ActiveElement.attr("data-apply"),b=a.split(",")[0].trim();return b="h"===b.charAt(0)?'[data-tag="'+b+'"] ':"."+TVE.ActiveElement.attr("data-element-class")}})}},"lead-generation":{"submit-style.js":function(a,b,c){b.exports=c("../button/style").extend({apply:function(a){TVE.Components.background.update(),TVE.Components.borders.update(),TVE.Components.button.update(),TVE.Components.lead_generation_submit.update(),this.prev_btn_head_css={}},constructObject:function(a){var b=_.clone(this.css),c=_.clone(this.css);switch(a){case"default":b.color="#FFF",b["background-color"]="#1abc9c";break;case"ghost":b["background-color"]="rgba(26, 188, 156, 0.01) !important",b.color="#1abc9c !important",b["border-bottom"]="1px solid #1abc9c",b["border-top"]="1px solid #1abc9c",b["border-left"]="1px solid #1abc9c",b["border-right"]="1px solid #1abc9c",c["background-color"]="#1abc9c !important",c.color="#FFF !important";break;case"rounded":b["border-radius"]="8px";break;case"full_rounded":b["border-radius"]="200px";break;case"gradient":b["background-image"]="linear-gradient(0deg, rgb(17, 142, 117) 0%, rgb(44, 216, 145) 100%)",b["background-size"]="auto",b["background-attachment"]="scroll",b["background-position"]="0px 0px !important",b["background-repeat"]="no-repeat !important",c["background-image"]="linear-gradient(90deg, rgb(17, 142, 117) 0%, rgb(26, 188, 156) 100%)";break;case"elevated":b["box-shadow"]="rgba(0, 0, 0, 0.35) 0px 2px 5px 0px",c["box-shadow"]="rgba(0, 6, 8, 0.35) 0px 9px 5px 0px";break;case"border_1":b["border-bottom"]="4px solid rgb(15, 147, 124)",b["border-radius"]="4px";break;case"border_2":b["border-bottom"]="4px solid rgb(15, 147, 124)",b["border-radius"]="10px",b["font-weight"]="bold !important",b["text-shadow"]="rgba(0, 0, 0, 0.5) 0px 1px 2px"}return{default:b,hover:c}}})}},"link.js":function(a,b,c){var d=c("../base"),e=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i;b.exports=d.control.extend({template:TVE.tpl("util/link"),className:"tcb-link-search",after_initialize:function(a){this.href="",this.$autocomplete=this.$(".tcb-link-suggest"),this.$el.addClass(this.className),this.hide_preview=a.hide_preview||!1,this.search_lightbox=!!a.search_lightbox,this.ignore_settings=!!a.ignore_settings,this.hide_preview&&this.$(".url-preview").remove(),this.bind()},get_full_url:function(a){return a=void 0!==a?a:this.href,!a||/^(?:[a-z]+:|#|\?|\.|\/)/.test(a)||e.test(a)||(a="http://"+a),a},bind:function(){var a,b,c=this;this.$autocomplete.autocomplete({appendTo:this.$el,source:function(d,e){if(a===d.term)return void e(b);if(/^https?:/.test(d.term)||-1!==d.term.indexOf("."))return c.trigger("directurl",d),e();var f={q:d.term,search_lightbox:c.search_lightbox?1:0,ignore_settings:c.ignore_settings?1:0};TVE.ajax("post_search","post",f).done(function(a){b=a,e(a)}),a=d.term},focus:function(a,b){a.preventDefault()},select:function(a,b){return c.href=c.get_full_url(b.item.url),c.$autocomplete.val(c.href),c._dom(),c.trigger("select",b.item),!1},minLength:2,delay:300,position:{my:"left top+2"},messages:{noResults:void 0!==window.uiAutocompleteL10n?window.uiAutocompleteL10n.noResults:"",results:function(a){if(void 0!==window.uiAutocompleteL10n)return a>1?window.uiAutocompleteL10n.manyResults.replace("%d",a):window.uiAutocompleteL10n.oneResult}}}),this.$autocomplete.data("ui-autocomplete")._renderItem=function(a,b){return jQuery('<li role="option" id="mce-tcb-autocomplete-'+b.id+'">').append('<div class="post-name">'+b.label+'</div><span class="tcb-post-type">'+(b.post_type_name?b.post_type_name:b.type)+"</span>").appendTo(a)},this.$autocomplete.autocomplete("widget").addClass("tcb-suggest tcb-fixed-200 tcb-full-width"),c.$autocomplete.on("focus",function(){var a=c.$autocomplete.val();a&&!/^https?:/.test(a)&&c.$autocomplete.autocomplete("search")}).on("keyup",function(){c.href=c.get_full_url(this.value),c.$(".url-preview").text(c.href)[c.href?"show":"hide"]()}).on("change",function(){c.href=c.get_full_url(this.value),c._dom(),c.trigger("linkchange",c.href)})},_dom:function(){this.$(".url-preview").text(this.href)[this.href?"show":"hide"]()},set_link:function(a){this.href=this.get_full_url(a),this.$autocomplete.val(a),this._dom()},get_link:function(){return this.href},focus:function(){return this.$autocomplete.focus(),this}})},"list.js":function(a,b,c){b.exports=c("../base").base_view.extend({template:TVE.tpl("util/list"),className:"tcb-list",initialize:function(a){if(!a.items)return void console.error("items are required when instantiating a list");this.collection=new Backbone.Collection,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.$el.addClass(this.className),this.set_items(a.items),(a.value||a.selected)&&this.select(a.value||a.selected)},select:function(a){var b=a,c=this.$("li.item").removeClass("selected"),d="";if(_.isObject(a)?(b=a.currentTarget.getAttribute("data-value"),a.currentTarget.classList.add("selected"),this.trigger("change",b)):c.filter('[data-value="'+a+'"]').addClass("selected"),b){var e=this.collection.findWhere({id:parseInt(b)}),f=this.$el.closest(".action-settings").attr("data-action");if(!e)return this.select(0);f&&"tl_state_switch"!==f&&"tl_state_lightbox"!==f&&(d='<a class="blue-text edit-link" href="'+e.get("edit_url")+'" target="_blank">'+("thrive_lightbox"==f?TVE.t.EditLightBox:TVE.t.EditThriveBox)+"</a>");var g=": <strong>"+e.get("title")+"</strong>"+d,h=this.decodeHtml(e.get("title"));this.$(".selected-item").html(TVE.t.Selected+g),this.$(".list-filter").val(h),this.$(".list-container").hide()}else this.$(".selected-item").html("");this.value=b},decodeHtml:function(a){var b=document.createElement("textarea");return b.innerHTML=a,b.value},set_items:function(a){_.each(a,function(b,c){a[c].id=parseInt(a[c].id)}),this.collection.reset(a)},get_value:function(){return this.value},set_value:function(a){return this.select(a),this},filter:function(a,b){if(27===a.which)return b.value="",this.filter_string=b.value,this.$("li.item").show().length?this.$("li.no-entry").hide():this.$("li.no-entry").show(),!1;var c=this;this.filter_string=b.value,clearTimeout(this.filter_timeout),this.$(".list-container").show(),this.filter_timeout=setTimeout(function(){var a=c.$("li.item");jQuery.trim(b.value).length&&(a=c.$("li.item").hide().filter(function(){return c.$(this).text().toLowerCase().indexOf(b.value.toLowerCase())>=0})),a.show(),a.length?c.$("li.no-entry").hide():c.$("li.no-entry").show()},100)},render:function(){return this.$el.html(this.template({collection:this.collection,filter_string:this.filter_string||""})),this.collection.length?this.$("li.no-entry").hide():this.$("li.no-entry").show(),this},clear_input:function(){this.$("input").val(""),this.$(".tcb-scroll").removeAttr("style")}})},"margin-padding.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/margin-padding"),sides:["top","left","right","bottom"],link:!1,initialize:function(){var a=this;this.render();var b;this.$el.find(".handle").tve_draggable({stepSize:2,start:function(c,d){a.currentValue=isNaN(a.getValue(c,d))?0:a.parse(a.getValue(c,d)),b=TVE.SKIP_CSS_STATE},move:function(b,c,d,e,f){TVE.SKIP_CSS_STATE=!0,f||a.link?_.each(a.sides,function(b){a.setValue(c,a.parse(a.value(c,b))+e,b,!0)}):a.setValue(c,a.currentValue+a.parse(b),d,!0),"margin"===c&&TVE.Editor_Page.reposition_icons()},stop:function(c,d,e,f,g){TVE.SKIP_CSS_STATE=!1,g||a.link?_.each(a.sides,function(b){a.setValue(d,a.parse(a.value(d,b))+f,b,!0)}):a.setValue(d,a.currentValue+a.parse(c),e,!0),TVE.SKIP_CSS_STATE=b,TVE.Editor_Page.reposition_icons()}})},change:function(a,b){var c=b.getAttribute("data-style"),d=b.getAttribute("data-side"),e=this.getUM(),f={},g=this.prepare_config(),h=this;this.error(this.validate(c,d)),this.link?_.each(this.sides,function(a){f[c+"-"+a]=b.value+e+"!important",h.setValue(c,b.value,a)}):f[c+"-"+d]=b.value+e+"!important",this.find_element(c,a).head_css(f,null,g[c+"_suffix"],!1,this.config.css_prefix)},umChange:function(a,b){this.convertUM(b.value)},convertUM:function(a){var b=this.applyTo(),c=TVE.ActiveElement.parent()[0],d=this;this.$el.find(".tve-input").each(function(){var e=this.getAttribute("data-side"),f=this.getAttribute("data-style")+TVE.ucFirst(e),g=TVE.getComputedStyle(b[0],f);switch(a){case"rem":g=parseFloat(g/TVE.rem_size()).toFixed(1);break;case"%":var h;h=-1===["left","right"].indexOf(e)?"height":"width",g=parseInt(100*g/TVE.getComputedStyle(c,h));break;case"px":default:g=parseInt(g)}this.value=g,d.change(b,this)})},update:function(a){var b,c,d=this,e=[],f=[],g=this.find_element("margin",this.applyTo()),h=this.find_element("padding",this.applyTo()),i=this.prepare_config();_.each(this.sides,function(a){f.push("margin-"+a),e.push("padding-"+a)}),b=g.head_css(f,null,i.margin_suffix,!0,this.config.css_prefix),c=h.head_css(e,null,i.padding_suffix,!0,this.config.css_prefix),_.each(this.sides,function(a){var e=b["margin-"+a].replace("!important","");d.setValue("margin","auto"===e?e:d.parse(e),a),d.setValue("padding",d.parse(c["padding-"+a]),a)})},linkInput:function(a,b){this.link=-1===b.className.indexOf("active"),b.classList.toggle("active")},keyup:function(a,b,c){var d=38===c.keyCode?1:40===c.keyCode?-1:0;d&&(b.value=this.parse(isNaN(b.value)?0:b.value)+d,this.change(a,b))},value:function(a,b){if(-1!==this.sides.indexOf(b))return this.$el.find(".tve-input."+b+'[data-style="'+a+'"]').val()},getValue:function(a,b,c){if(-1!==this.sides.indexOf(b)&&a){var d,e=this.prepare_config();return d=this.find_element(a,this.applyTo()).head_css(a+"-"+b,null,e[a+"_suffix"],!0),"auto"===(d=d.replace("!important",""))?d:(""==d&&(d=0),void 0===c&&(d=this.parse(d),isNaN(d)&&(d=0)),d)}},setValue:function(a,b,c,d){if("padding"===a&&b<0&&(b=0),-1!==this.sides.indexOf(c)&&(this.$el.find(".tve-input."+c+'[data-style="'+a+'"]').val(b),this.error(this.validate(a,c)),d)){var e={},f=this.prepare_config(),g=this.find_element(a,this.applyTo()).css(a+"-"+c,"");e[a+"-"+c]=b+(isNaN(b)?"":this.getUM())+"!important",g.head_css(e,null,f[a+"_suffix"],!1,this.config.css_prefix),TVE.Editor_Page.reposition_icons()}},validate:function(a,b){var c=this.$el.find(".tve-input."+b+'[data-style="'+a+'"]').val();return("margin"!==a||"auto"!==c)&&(c=c.replace(this.getUM(),""),isNaN(c))},parse:function(a){return a="rem"===this.getUM()?parseFloat(a):parseInt(a)},error:function(a){this.$el.find(".error")[a?"show":"hide"]()},getUM:function(){return this.$el.find(".um").val()},disable_control:function(a){this.$('[data-style="'+a+'"]').addClass("control-hide")},find_element:function(a,b){return void 0===this.config[a+"_to"]?b:this.config[a+"_to"]?TVE.ActiveElement.find(this.config[a+"_to"]):TVE.ActiveElement},prepare_config:function(){return{margin_suffix:this.config.margin_suffix?this.config.margin_suffix:this.config.css_suffix,padding_suffix:this.config.padding_suffix?this.config.padding_suffix:this.config.css_suffix}}})},"max-width.js":function(a,b,c){var d=c("./slider");b.exports=d.extend({convertUM:function(a){var b=this.applyTo(!0),c=b.parentNode,d=this.$el.find(".tve-input, .tve-slider"),e=TVE.getComputedStyle(b,"maxWidth"),f=TVE.getComputedStyle(c,"width");switch(e="string"==typeof e&&-1!==e.indexOf("%")?parseFloat(e)*this.model.config.max/100:e||f,a){case"vw":e=parseFloat(100*e/document.documentElement.clientWidth).toFixed(1);break;case"%":e=parseFloat(100*e/TVE.getComputedStyle(c,"width")).toFixed(1);break;case"px":default:e=parseInt(e)}d.val(e)},isDefault:function(){var a=this.$el.find(".tve-input").val(),b=this.$(".width-input");return void 0!==b&&b.attr("placeholder","auto"),"auto"===a||"none"===a},umChange:function(a,b){var c=b.getAttribute("data-value");this.$('.tve-input-um[data-value="'+c+'"]').hasClass("active")||(this.setUM(c),this.isDefault()||(this.convertUM(c),this.change(this.applyTo(),this.$el.find(".tve-input")[0])))},setUM:function(a){-1!==this.model.config.um.indexOf(a)&&(this.$el.find(".tve-input-um.active").removeClass("active"),this.$el.find('.tve-input-um[data-value="'+a+'"]').addClass("active"),this.umInit())},onInput:function(a,b){b.value=this.prepareValue(b.value,this.getUM()),this.$el.find("input").val(b.value),TVE.SkipUpdate=!0,this.input(a,b)},setValue:function(a,b){var c=this.$el.find(".tve-input"),d=this.$el.find(".tve-slider");void 0!==a&&isNaN(a)&&0===a.indexOf("auto")?(this.setUM("px"),c.val("auto"),d.val(this.model.config.max)):(this.setUM(this.readUM(a)),a=parseFloat(a),isNaN(a)&&(a="auto"),c.val(a),"auto"===a?d.val(this.model.config.max):d.val(a),b&&c.trigger("input"))},update:function(){var a=this.applyTo(),b=a.head_css("max-width")||a.css("max-width");"none"===b&&(b="auto"),this.setValue(b)},input:function(a,b){var c=this.getUM(),d=b.value;("auto"===d||isNaN(d)||""===d)&&(c="",d="none"),a.head_css({"max-width":d+c+(this.config.important?" !important":"")},!1,this.config.css_suffix,!0,this.config.css_prefix),TVE.Editor_Page.reposition_icons(a)},change:function(a,b){var c=this.getUM(),d=b.value;("auto"===d||isNaN(d)||""===d)&&(c="",d="none"),a.head_css({"max-width":d+c+(this.config.important?" !important":"")},!1,this.config.css_suffix,!0,this.config.css_prefix),TVE.Editor_Page.reposition_icons(a)},afterConfig:function(){this.model.config.max=parseInt(this.applyTo().parent().css("width"))}})},"modal-picker.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/modal-picker"),update:function(a){},setModal:function(a){this.modal=a},onModalSave:function(a){this.change(this.applyTo(),a)},_getModal:function(){return this.modal},updateValue:function(a){a&&0!==a.length||(a=tcb_main_const.i18n.none),this.$("input").val(a)},openModal:function(){var a={top:"20%"};this.listenTo(this._getModal(),"save",this.onModalSave),this._getModal().open(a)}})},"multiple-checkbox.js":function(a,b,c){var d=c("./checkbox");b.exports=d.extend({template:TVE.tpl("controls/multiple-checkbox"),render:function(){this.$el.html(this.template({item:this.model.config})),this._render_inputs()},_render_inputs:function(){var a=this.$(".tve-inputs-wrapper"),b=TVE.tpl("controls/checkbox/input");_.each(this.model.config.inputs,function(c,d,e){var f=b({item:new Backbone.Model(c)});a.append(f)},this)},setChecked:function(a,b){void 0===b&&(b=!0),this.$('input[name="'+a+'"]').prop("checked",!!b)},uncheckAll:function(){this.$("input:checked").prop("checked",!1)},get_checked_inputs:function(){var a=[];return this.$("input:checked").each(function(b,c){a.push(c.getAttribute("name"))}),a}})},"position-from.js":function(a,b,c){var d=c("../base"),e=c("../controls/input");b.exports=d.control.extend({template:TVE.tpl("controls/position-from"),css:{},sides:["top","right","bottom","left"],styles:{},initialize:function(){this.render(),this.$vertical=this.$(".vertical"),this.$horizontal=this.$(".horizontal");var a=new e({el:this.$vertical.find(".tve-control"),model:{config:{type:"number",um:"PX"}}}),b=new e({el:this.$horizontal.find(".tve-control"),model:{config:{type:"number",um:"PX"}}});a.input=a.change=b.input=b.change=this.change.bind(this),this.state("default")},state:function(a){this.$(".state").slideUp(),this.$('.state[data-state="'+a+'"]').slideDown(),"edit"===a&&TVE.main.scroll_panel_to(this.$('.state[data-state="edit"] button'))},edit:function(a){this.update(a),this.current=Object.assign({},this.css),this.state("edit")},save:function(){this.setValue(this.css),this.state("default")},cancel:function(){this.styles=Object.keys(this.current),this.setValue(this.current),this.state("default"),TVE.Editor_Page.reposition_icons()},setValue:function(a){var b=this.applyTo(),c=this,d={},e={};_.each(this.sides,function(b){-1===c.styles.indexOf(b)?e[b]="":d[b]=a[b]}),b.head_css(e),b.head_css(d)},positionChange:function(a,b){this.$(".position").removeClass("active"),b.className+=" active";var c=b.dataset.value,d=c.split("|");this.styles=d,this.css={},this.css[d[0]]="0px",this.css[d[1]]="0px",this.setValue(this.css),
this.setPosition(c),TVE.Editor_Page.reposition_icons()},parse:function(a){return a&&"auto"!==a?(a=parseInt(a),a=isNaN(a)?0:a):"auto"},setPosition:function(a){if(!a)return void this.$(".toggle-position").hide();this.$(".toggle-position").show();var b=a.split("|");this.$vertical.find(".input-label").html(TVE.ucFirst(b[0])),this.$vertical.find("input").val(this.parse(this.css[b[0]])).attr("data-style",b[0]),this.$horizontal.find(".input-label").html(TVE.ucFirst(b[1])),this.$horizontal.find("input").val(this.parse(this.css[b[1]])).attr("data-style",b[1])},update:function(a){a=a||this.applyTo();var b=this.parse(a.head_css("top")),c=this.parse(a.head_css("bottom")),d=this.parse(a.head_css("left")),e=this.parse(a.head_css("right")),f="";this.css={top:"auto",bottom:"auto",left:"auto",right:"auto"},"auto"!==c&&(f="bottom",this.css.bottom=c+this.um()),"auto"!==b&&(f="top",this.css.top=b+this.um()),f&&"auto"!==e&&(f+="|right",this.css.right=e+this.um()),f&&"auto"!==d&&(f+="|left",this.css.left=d+this.um()),this.styles=f?f.split("|"):[],this.$(".position").removeClass("active"),this.$('.position[data-value="'+f+'"]').addClass("active"),this.setPosition(f)},change:function(a,b){this.css[b.dataset.style]=b.value+this.um(),this.setValue(this.css),TVE.Editor_Page.reposition_icons()},input:function(a,b){this.change(a,b)},um:function(){return"px"}})},"preview-list.js":function(a,b,c){var d=c("./drop-panel");b.exports=c("../base").control.extend({_sortable:!1,initialize:function(a){this.$el.addClass("tcb-preview-list"),this.tpl=a.tpl||"controls/preview-list-item",a.model&&a.model.config&&a.model.config.sortable&&this.sortable(!0)},has_settings_icon:function(){return this.model&&this.model.config&&this.model.config.settingsIcon},attach_collection:function(a){if(this.collection)throw new Error("Collection already attached (preview list instance)");this.collection=a,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"change",this.render)},update:function(){this.collection.DURING_UPDATE=!0,this.collection.reset(this.get_items(this.readFrom())),delete this.collection.DURING_UPDATE},get_items:function(a){throw new Error("Preview list: get_items not implemented")},render:function(){this._sortable&&this.$el.data("ui-sortable")&&this.$el.sortable("destroy"),this.$el.empty();var a=!1,b=!0;this.collection.each(function(c,d){if(this.collection.prepare_item&&(c.attributes=this.collection.prepare_item(c.attributes)),c.index=d,c.get("__new"))return!0;a=!0,this.$el.append(TVE.tpl(this.tpl,{view:this,item:c})),c.get("icon")||(b=!1)},this),a?this._sortable&&this.$el.sortable({axis:"y",handle:".preview-list-sort-handle",update:_.bind(this.order_changed,this)}):this.$el.html(TVE.tpl(this.tpl,{no_item:!0})),b||(this.$(".item-icon").remove(),this.$(".col-xs-2").removeClass("col-xs-2").addClass("col-xs-3"))},order_changed:function(a,b){var c=b.item.index();if(c!==parseInt(b.item.data("index"))){var d=this.collection.at(parseInt(b.item.data("index")));this.collection.remove(d,{silent:!0}),this.collection.add(d,{at:c,silent:!0}),this.collection.trigger("change")}},item_remove:function(a,b){return this.collection.remove(this.collection.at(parseInt(b.getAttribute("data-index")))),d.close_all(),!1},item_click:function(a,b){return this.trigger("item_click",this.collection.at(parseInt(b.getAttribute("data-index"))),b),!1},sortable:function(a){return this._sortable=void 0===a||a,this}})},rating:{"rating-value.js":function(a,b,c){b.exports=c("../../base").control.extend({template:TVE.tpl("controls/rating-value"),after_initialize:function(a){this.$max=this.$(".rating-max"),this.$value=this.$(".rating-value"),this.renderer=a.component.renderer;for(var b="",c="",d=.5;d<=this.model.config.max_size;d+=.5)c+='<option value="'+d+'">'+d+"</option>",parseInt(d)==d&&(b+='<option value="'+d+'">'+d+"</option>");this.$value.html(c).val(this.model.config.default_value),this.$max.html(b).val(this.model.config.default_max)},enable_disable:function(){var a=this;this.$max.find("option").each(function(){this.disabled=parseFloat(this.value)<a.renderer.data.value}),this.$value.find("option").each(function(){this.disabled=parseFloat(this.value)>a.renderer.data.max})},option_changed:function(){this.update_renderer(),this.enable_disable(),this.change()},change:function(){this.renderer.render_to(this.applyTo(),!0)},update_renderer:function(){this.renderer.set_data({value:parseFloat(this.$value.val()),max:parseFloat(this.$max.val())})},update:function(a){this.$max.val(a.attr("data-max")),this.$value.val(a.attr("data-value")),this.enable_disable(),this.update_renderer()}})},"style.js":function(a,b,c){var d=c("../style-picker");b.exports=d.extend({read_from_element:function(){var a=this.applyTo().data("style");return this.renderer.set_data({style:a}),a},item_template:function(){return _.template('<div class="col-xs-6 rating-item"><div class="tve-select-item click" data-fn="select" data-value="<#=key #>"><#=value.html#></div></div>')},input:function(a){this.renderer.set_data({style:this.model.selected}).render_to(a)},cancel:function(a){this.model.selected=this.model.selected_old,this.renderer.set_data({style:this.model.selected_old}).render_to(a),this.renderer.clear_undo_snapshot()},onOpen:function(a){this.renderer.take_undo_snapshot(a)},apply:function(a){this.renderer.render_to(a,!0)}})}},"responsive-video":{"style.js":function(a,b,c){b.exports=c("../style-picker").extend({no_style_class:"rv_style_none",item_template:function(){return TVE.tpl("controls/responsive-video/style-picker")},container_class:function(){return"row middle-xs margin-left-0 margin-right-0 padding-left-5 padding-right-10"},update:function(){for(var a=this.applyTo(),b=a.attr("class").split(" "),c=this.model.config.default||this.no_style_class,d=0;d<b.length;d++)if("rv_style_"==b[d].substr(0,9)){c=b[d];break}this.$(".tve-select-item").removeClass("active").filter("[data-value="+c+"]").addClass("active"),this.model.selected_old=c,this.component.$("#responsive-video-style-name").val(this.getLabel(c))},input:function(a,b){a.removeClass(function(a,b){return(b.match(/(^|\s)rv_style_\S+/g)||[]).join(" ")}),this.model.selected!==this.no_style_class&&a.addClass(this.model.selected)},apply:function(a,b){this.model.selected&&this.component.$("#responsive-video-style-name").val(this.getLabel(this.model.selected)),this.undo_manager_api(a,this.model)},cancel:function(a,b){this.model.selected&&this.model.selected!==this.no_style_class&&a.removeClass(this.model.selected),this.model.selected_old&&this.model.selected_old!==this.no_style_class&&a.addClass(this.model.selected_old),this.undo_manager_api(a,this.model)},undo_manager_api:function(a,b){var c=this,d=b.selected&&b.selected!==this.no_style_class?b.selected:"",e=b.selected_old&&b.selected_old!==this.no_style_class?b.selected_old:"";TVE.UndoManager.add({undo:function(){this.undo_redo()},redo:function(){this.undo_redo()},undo_redo:function(){a.is('[class*="rv_style_"]')?(a.removeClass(d).addClass(e),TVE.ActiveElement&&c.update()):(a.addClass(d).removeClass(e),TVE.ActiveElement&&c.update())}})}})},"video.js":function(a,b,c){var d=c("../../components/responsive-video/video-controls"),e=c("../../base"),f=c("../../../libs/tinycolor");b.exports=e.control.extend({activeElement:null,videoOverlaySVG:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><title>play</title><path fill="#fff" d="M18.659 4.98c-0.889-1.519-2.12-2.75-3.593-3.614l-0.047-0.025q-2.298-1.341-5.020-1.341t-5.019 1.341c-1.52 0.889-2.751 2.12-3.614 3.593l-0.025 0.047q-1.341 2.298-1.341 5.020t1.341 5.020c0.889 1.519 2.12 2.75 3.593 3.614l0.047 0.025q2.298 1.341 5.020 1.341t5.020-1.341c1.519-0.889 2.75-2.12 3.614-3.593l0.025-0.047q1.341-2.298 1.341-5.020t-1.341-5.020zM15 10.716l-7.083 4.167c-0.118 0.074-0.262 0.117-0.416 0.117-0 0-0 0-0.001 0h0c-0.153-0.002-0.296-0.040-0.422-0.107l0.005 0.002q-0.417-0.247-0.417-0.729v-8.333q0-0.482 0.417-0.729 0.43-0.234 0.833 0.013l7.084 4.167q0.416 0.234 0.416 0.716t-0.416 0.716z"></path></svg>',update:function(a){this.activeElement=a;var b=this,c=this.get_attribute("type"),d=this.get_attribute("start-time");if(this.model=new Backbone.Model(this.read()),this.video_settings.set_model(this.model),a.hasClass("tcb-elem-placeholder")&&(this.$(".v-source").val("youtube").trigger("change"),this.set_attribute("type","youtube",a)),void 0===d||"0"===d?this.$(".tve-time-control input").val(0):(this.$('.tve-time-control[data-time="Minute"] input').val(parseInt(d/60)),this.$('.tve-time-control[data-time="Second"] input').val(parseInt(d%60))),this.$("#r-v-checkbox-settings-"+c).find('input[type="checkbox"]').each(function(a){var c=this.getAttribute("data-elem-attr"),d=this.getAttribute("data-elem-attr-val");this.checked=!1,b.get_attribute(c)===d&&(this.checked=!0),"autoplay"===c&&b.show_hide_video_thumbnail_options(this.checked)}),this.activeElement.find(".video_overlay ").hasClass("video_overlay_image")){var e=this.activeElement.find(".video_overlay ").css("background-image"),f="1234567";e=e.replace("url(","").replace(")","").replace(/\"/gi,""),e.length>0&&(f=e.split("/").slice(-1)[0]),this.video_settings.set_thumbnail({id:_.random(1,1e3),title:f})}else this.video_settings.set_thumbnail(null);this.show_hide_provider_options(c)},read:function(){var a=this.applyTo(),b={p:{}},c=a.find("video.tcb-responsive-video").first(),d=a.find("iframe").first();if(c.length){var e=c.find("source");b.s="custom",b.p={id:c.attr("data-id"),title:c.attr("data-title"),attachment:{id:c.attr("data-id"),title:c.attr("data-title"),url:e.attr("src"),mime:e.attr("type")}}}else d.length&&(b.s=this.get_attribute("type"),b.p={c:this.get_attribute("video-color"),id:d.attr("data-code"),url:this.get_attribute("url")});return{config:b}},input:function(a,b){},clear:function(a){a=void 0!==a?a:this.applyTo(),a.removeClass("tcb-elem-placeholder"),a.find(".tcb-inline-placeholder-action").remove(),a.find(".tve_responsive_video-no_video").remove(),a.find(".tve_responsive_video_container").removeAttr("style"),a.find("iframe,video,script,.wistia_embed").remove()},after_initialize:function(a){this.video_settings=new d({config:{component_controls:a.component.controls}}),this.$el.append(this.video_settings.$el.addClass("video-options")),this.video_settings.on("change",_.bind(this.apply,this)),this.video_settings.on("start-time-changed",_.bind(this.start_time_changed,this)),this.video_settings.on("color-change",_.bind(this.color_changed,this)),this.video_settings.on("thumbnail-changed",_.bind(this.thumbnail_changed,this)),this.video_settings.on("thumbnail-removed",_.bind(this.thumbnail_removed,this))},extra_settings_changed:function(a,b){var c=b.getAttribute("data-elem-attr"),d=b.checked?b.getAttribute("data-elem-attr-val"):b.getAttribute("data-elem-attr-val-unchecked");this.set_attribute(c,d),"autoplay"===c&&this.show_hide_video_thumbnail_options(b.checked),this.apply()},start_time_changed:function(a){var b=parseInt(this.$('.tve-time-control[data-time="Minute"]').find("input").val()),c=parseInt(this.$('.tve-time-control[data-time="Second"]').find("input").val());this.set_attribute("start-time",60*b+c,a),this.apply()},color_changed:function(a){this.set_attribute("video-color",a.toRgbString()),this.apply()},thumbnail_changed:function(a){this.set_attribute("overlay",1),this.activeElement.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+this.videoOverlaySVG+"</span>"),this.activeElement.find(".video_overlay").css({"background-image":"url('"+a.url+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"}).attr({"data-width":a.width,"data-height":a.height})},thumbnail_removed:function(){this.set_attribute("overlay",0),this.activeElement.find(".video_overlay").removeClass("video_overlay_image").html(""),this.activeElement.find(".video_overlay").removeAttr("data-width").removeAttr("data-height").removeAttr("style")},show_hide_provider_options:function(a){this.$(".responsive-video-time-settings").hide(),this.$(".r-v-checkbox-settings").hide(),"youtube"!==a&&"wistia"!==a||this.$(".responsive-video-time-settings").show(),this.$('.r-v-checkbox-settings[data-setting="'+a+'"]').show()},show_hide_video_thumbnail_options:function(a){var b=this.$el.find(".tcb-responsive-video-thumbnail");a?(this.video_settings.videoThumbnail.file_picker.remove(),b.addClass("tcb-hidden")):b.removeClass("tcb-hidden")},video_provider_changed:function(a,b,c){TVE.removeDataAttributes(a),this.$(".tve_provider_url").val(""),this.activeElement.hasClass("tcb-elem-placeholder")||(this.clear(this.activeElement),a.find(".tve_responsive_video_container").append('<div class="tve_responsive_video-no_video">'+TVE.icon("video-player","svg","editor")+"</div>")),this.$('input[type="checkbox"]:hidden').each(function(){this.checked=!1}),this.video_settings.videoThumbnail.file_picker.remove(),this.$(".tcb-responsive-video-thumbnail").removeClass("tcb-hidden"),this.show_hide_provider_options(b.value),this.set_attribute("type",b.value,a)},apply:function(a){var b=this.applyTo(),c=this.video_settings.get_embed_code("responsive",this.queryString(this.get_attribute("type")));return this.clear(b),c?(b.find(".tve_responsive_video_container").append(c),this.set_attribute("url",this.$el.find(".tve_provider_url:visible").val()),this):(b.find(".tve_responsive_video_container").append('<div class="tve_responsive_video-no_video">'+TVE.icon("video-player","svg","editor")+"</div>"),this)},queryString:function(a){var b,c="?",d=new f(this.get_attribute("video-color"));switch(a){case"youtube":b=["rel="+(void 0===this.get_attribute("rel")?"1":this.get_attribute("rel")),"modestbranding="+(void 0===this.get_attribute("modestbranding")?"0":this.get_attribute("modestbranding")),"controls="+(void 0===this.get_attribute("controls")?"1":this.get_attribute("controls")),"showinfo="+(void 0===this.get_attribute("showinfo")?"1":this.get_attribute("showinfo")),"fs="+(void 0===this.get_attribute("fs")?"1":this.get_attribute("fs")),"wmode=transparent"],void 0!==this.get_attribute("start-time")&&"0"!==this.get_attribute("start-time")&&b.push("start="+this.get_attribute("start-time")),c+=b.join("&");break;case"wistia":b=["chromeless=false","controlsVisibleOnLoad="+(void 0===this.get_attribute("onload-controls")?"true":"1"===this.get_attribute("onload-controls")),"playbar="+(void 0===this.get_attribute("play-bar")?"true":"1"===this.get_attribute("play-bar")),"fullscreenButton="+(void 0===this.get_attribute("fs")?"true":"1"===this.get_attribute("fs")),"playerColor="+(void 0===this.get_attribute("video-color")?"fff":d.toHex()),"videoFoam=true"];var e=this.get_attribute("embed_type");void 0!==this.get_attribute("start-time")&&"0"!==this.get_attribute("start-time")&&"popover"!==e&&b.push("time="+this.get_attribute("start-time")),"popover"===e?(b.push("popover=true popoverAnimateThumbnail=true"),c+=b.join(" ")):c+=b.join("&");break;case"vimeo":b=["portrait="+(void 0===this.get_attribute("modestbranding")?"1":this.get_attribute("modestbranding")),"title="+(void 0===this.get_attribute("showinfo")?"1":this.get_attribute("showinfo")),"color="+(void 0===this.get_attribute("video-color")?"fff":d.toHex()),"byline="+(void 0===this.get_attribute("byline")?"1":this.get_attribute("byline"))],c+=b.join("&");break;case"custom":c="",void 0!==this.get_attribute("controls")&&"1"!==this.get_attribute("controls")||(c+=' controls="controls" '),void 0!==this.get_attribute("loop")&&"1"===this.get_attribute("loop")&&(c+=" loop ");break;default:c=""}return c},get_attribute:function(a){return this.activeElement.attr("data-"+a)},set_attribute:function(a,b,c){c=void 0===c?this.activeElement:c,c.attr("data-"+a,b)}})}},"select-multiple.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/select-multiple"),initialize:function(a){var b=this;this.render(),this.$select=this.$el.find("select"),this.$select.data("select2")&&this.$select.select2("destroy"),void 0===a.model.config.no_results&&(a.model.config.no_results="No Results Found"),void 0!==a.model.config.remote&&(!0===a.model.config.remote?this.$select.select2({minimumInputLength:a.model.config.min_input_length,multiple:!0,tags:a.model.config.tags,ajax:{url:TVE.CONST.ajax_url,type:"POST",dataType:"json",data:function(b){return{term:b.term,action:TVE.CONST.ajax.action,custom:a.model.config.custom_ajax,nonce:TVE.CONST.nonce}},delay:250,processResults:function(a){return{results:a}},cache:!0},language:{noResults:function(){return a.model.config.no_results}}}):this.$select.select2({tags:a.model.config.tags,multiple:!0,minimumInputLength:a.model.config.min_input_length,data:a.model.config.data,language:{noResults:function(){return a.model.config.no_results}},escapeMarkup:function(a){return a}}),this.$select.on("select2:select",function(a){jQuery(this).select2("data");b.changed(jQuery(this).select2("data"))}).on("select2:unselect",function(a){b.changed(jQuery(this).select2("data")),a.params.originalEvent&&a.params.originalEvent.stopPropagation()}))},changed:function(a){this.change(this.applyTo(),a)},getValue:function(){return this.$select.val()},setValue:function(a){this.$select.val(a).trigger("change")},setValueRemote:function(a){var b=[];this.$select.empty(),_.each(a,function(a){b.push(a.id),this.$select.append('<option value="'+a.id+'">'+a.text+"</option>")},this),this.$select.val(b).trigger("change")}})},"select.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/select"),initialize:function(a){"function"==typeof this.before_initialize&&this.before_initialize(a),this.render(),"function"==typeof this.after_initialize&&this.after_initialize(a),this.$select=this.$el.find("select")},changed:function(a,b){this.change(this.applyTo(),b)},getValue:function(){return this.$select.val()},setValue:function(a){this.$select.val(a)}})},"shadow.js":function(a,b,c){var d=(c("../base"),c("./color-picker")),e=c("./knob"),f=c("./slider"),g=c("./drop-panel");b.exports=g.extend({template:TVE.tpl("controls/shadow"),after_initialize:function(a){function b(a){var b=c.model.get("angle");c.model.set("distance",a.value),c.model.set("horizontal",Math.round(a.value*Math.cos(b*(Math.PI/180)))),c.model.set("vertical",Math.round(-a.value*Math.sin(b*(Math.PI/180)))),c.change(!0)}var c=this;this.IS_TEXT=a.IS_TEXT,this.controls={ShadowColor:new d({el:this.$el.find(".tve-shadow-color"),model:{config:{default:"rgba(0,0,0,0.4)",options:{showInput:!0,showGradient:!0},icon:!0}}}),ShadowDistance:new f({el:this.$el.find(".tve-shadow-distance"),model:{config:{default:"3",min:"0",max:"100",label:"Distance",um:["px"]}}}),ShadowBlur:new f({el:this.$el.find(".tve-shadow-blur"),model:{config:{default:"2",min:"0",max:"100",label:"Blur",um:["px"]}}}),ShadowAngle:new e({el:this.$el.find(".tve-shadow-angle"),model:{config:{default:"320",min:"0",max:"359",label:"Angle",um:["DEG"]}}})},this.controls.ShadowDistance.input=function(a,d){c.IS_TEXT&&TVE.BROWSER.mozilla||b(d)},this.IS_TEXT&&TVE.BROWSER.mozilla&&(this.controls.ShadowDistance.change=function(a,c){b(c)}),this.controls.ShadowAngle.input=this.controls.ShadowAngle.change=function(a,b){var d=c.model.get("distance");c.model.set("angle",b.value),c.model.set("horizontal",Math.round(d*Math.cos(b.value*(Math.PI/180)))),c.model.set("vertical",Math.round(-d*Math.sin(b.value*(Math.PI/180)))),c.change(!0)},this.controls.ShadowColor.change=this.controls.ShadowColor.input=function(a){c.model.set("color",a),c.change(!0)},this.controls.ShadowBlur.input=function(a,b){c.IS_TEXT&&TVE.BROWSER.mozilla||(c.model.set("blur",b.value),c.change(!0))},this.IS_TEXT&&TVE.BROWSER.mozilla&&(this.controls.ShadowBlur.change=function(a,b){c.model.set("blur",b.value),c.change(!0)}),this.simplified||(this.controls.ShadowSpread=new f({el:this.$el.find(".tve-shadow-spread"),model:{config:{default:"0",min:"-50",max:"50",label:"Spread",um:["px"]}}}),this.controls.ShadowSpread.input=this.controls.ShadowSpread.change=function(a,b){c.model.set("spread",b.value),c.change(!0)})},update:function(){},getCollection:function(){return this.collection},setCollection:function(a){this.collection=a},updateControls:function(a,b,c){this.model=null,a?this.model=a:(this.config=c,this.model=this.getDefaultModel(b),this.collection.add(this.model),this.collection.trigger("change-attributes")),this.toSettings(this.model),this.controls.ShadowAngle.setValue(this.model.get("angle")),this.controls.ShadowDistance.setValue(this.model.get("distance")),this.model.get("color")&&this.controls.ShadowColor.setValue(this.model.get("color")),this.controls.ShadowBlur.setValue(this.model.get("blur")),this.simplified||this.controls.ShadowSpread.setValue(this.model.get("spread"))},change:function(a){this.collection.trigger("change-attributes",a)},toSettings:function(a){var b=a.get("horizontal"),c=a.get("vertical"),d=Math.ceil(Math.sqrt(Math.pow(b,2)+Math.pow(c,2))),e=Math.floor(this.getAngle(b,c));this.model.set("distance",d),this.model.set("angle",e)},getAngle:function(a,b){var c=Math.atan2(b,a);return c*=180/Math.PI,c<0&&(c=360+c),360-c},getDefaultModel:function(a){var b,c,d,e,f,g=new Backbone.Model;return this.config.angle?(b=this.config.distance,c=this.config.color,d=this.config.angle,e=this.config.spread,f=this.config.blurr):(b=this.controls.ShadowDistance.getDefault(),c=this.controls.ShadowColor.getDefault(),d=this.controls.ShadowAngle.getDefault(),e=this.controls.ShadowSpread.getDefault(),f=this.controls.ShadowBlur.getDefault()),g.set("blur",f),this.simplified||g.set("spread",e),g.set("color",c),g.set("inner","inner"==a?"inset":""),g.set("index","new"),g.set("distance",b),g.set("angle",d),g.set("horizontal",Math.round(b*Math.cos(d*(Math.PI/180)))),g.set("vertical",Math.round(-b*Math.sin(d*(Math.PI/180)))),g},cancel:function(){this.collection.trigger("cancel-changes",this.model)},apply:function(){this.collection.trigger("apply-changes")}})},"slider.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/slider"),initialize:function(){this.render(),this.umInit();var a=this;1===this.model.config.um.length&&this.$(".input-um").show();var b,c=this.$(".tve-input");this.$(".handle").tve_draggable({start:function(){a.currentValue=isNaN(a.value(!1))?0:parseInt(a.value(!1)),b=TVE.SKIP_CSS_STATE},move:function(b){var d=a.currentValue+parseInt(b);void 0!==c.attr("min")&&(d=d<c.attr("min")?c.attr("min"):d),void 0!==c.attr("max")&&(d=d>c.attr("max")?c.attr("max"):d),TVE.SKIP_CSS_STATE=!0,a.setValue(d+a.getUM(),!0)},stop:function(){TVE.SKIP_CSS_STATE=b,a.$(".tve-input").trigger("change")}}),this.$("input[type=text]").on("focus",function(){this.select()})},umInit:function(){if(this.model.config.um&&this.model.config.um.length){var a=this.model.config,b=this.getUM().toLowerCase(),c=this.$(".tve-input, .tve-slider"),d=0,e="",f=1;switch(b){case"px":d=a.min||d,e=a.max,f=a.step||f;break;case"em":e=8,f=.05;break;case"vw":case"vh":e=100,d=0,f=.1;break;case"deg":e=90,d=0,f=.1;break;case"%":e=100}c.attr("min",d),c.attr("max",e),c.attr("step",f),this.isDefault&&this.isDefault()&&c.filter(".tve-slider").val(e)}},umChange:function(a,b){var c=b.getAttribute("data-value");this.$('.tve-input-um[data-value="'+c+'"]').hasClass("active")||(this.setUM(c),0!==this.readFrom().length&&(this.convertUM(c),this.change(this.applyTo(),this.$(".tve-input")[0])))},convertUM:function(a){var b,c=this.readFrom()[0],d=c==TVE.ActiveElement[0]?TVE.ActiveElement.parent()[0]:TVE.ActiveElement[0],e=this.$(".tve-input, .tve-slider"),f=TVE.froala.has_selection();TVE.ActiveElement.hasClass("thrv-tabbed-content")&&(d=TVE.ActiveElement.find(".tve_scT > ul")[0],c=TVE.ActiveElement.find(".tve_scT > ul li")[0]),f&&(c=f,d=TVE.ActiveElement[0]),b=TVE.convertUM(c,a,d,this.model.config.css),e.val(b)},pixel_em_conversion:function(a,b){void 0===b&&(b=this.readFrom());var c,d=this.$(".tve-input"),e=parseFloat(d.val()),f=parseInt(b.css("font-size"));switch(isNaN(e)&&(e=0),a){case"em":c=(e/f).toFixed(2);break;case"px":c=parseInt(e*f);break;default:c=e*f}d.add(this.$(".tve-slider")).val(c)},setUM:function(a){-1!==this.model.config.um.indexOf(a)&&(this.$(".tve-input-um.active").removeClass("active"),this.$('.tve-input-um[data-value="'+a+'"]').addClass("active"),this.umInit())},value:function(a){var b=a?this.getUM():"";return this.$(".tve-input").val()+b},getUM:function(){return this.$(".tve-input-um.active").data("value")||this.model.config.um[0]},onChange:function(a,b){this.setValue(b.value+this.getUM()),TVE.SkipUpdate=!1,this.change(a,b)},onInput:function(a,b){b.value=this.prepareValue(b.value,this.getUM()),this.$("input").val(b.value),TVE.SkipUpdate=!0,this.input(a,b),TVE.Editor_Page.reposition_icons()},readUM:function(a){if(a==parseFloat(a))return"px";var b="px",c=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/.exec(a);return c&&c[2]&&(b=c[2]),b},setValue:function(a,b){this.setUM(this.readUM(a)),a=parseFloat(a),a==parseInt(a)&&(a=parseInt(a)),isNaN(a)||(this.$(".tve-input").val(a),this.$(".tve-slider").val(a),b&&this.$(".tve-input").trigger("change"))},up:function(){this.setValue(this.value(!1)- -1+this.getUM(),!0)},down:function(){this.setValue(this.value(!1)-1+this.getUM(),!0)}})},social:{"network-options.js":function(a,b,c){!function(a){var d=c("../drop-panel"),e=c("../../../libs/watcher"),f=c("../file"),g=(c("../../base"),d.extend({template:TVE.tpl("controls/social/network-settings"),events:function(){return _.extend(d.prototype.events,{"change [data-setting]":"change_value"})},before_initialize:function(a){this.data={},this.network=a.network},after_initialize:function(a){var b=this;this._tpl&&this.$(".n-settings").append(this._tpl()),this.$("[data-setting]").each(function(){var a=this.getAttribute("data-setting");e(b.data,a,b.value_changed,b)}),this.after_init&&this.after_init(),this.$m=this.$(".inline-message")},change_value:function(a){var b=a.currentTarget;e.skip_one(),this.data[b.getAttribute("data-setting")]=this.$(b).val()},value_changed:function(a,b){this.$('[data-setting="'+a+'"]').val(b)},update:function(a){this.$element=a,this.read_from_element();var b={};b[this.network]=this.data,this.component.renderer.set_config(b)},set_model:function(a){return this.$(".n-title").html(a.get("label")),this.$("[data-setting]").first().focus(),this.read_from_element(),this},read_from_element:function(){var a=this.$element.find(".tve_s_"+this.network);this.data.label=a.attr("data-label"),this.data.href=a.attr("data-href"),this.read_specific&&this.read_specific(a)},apply:function(a){this.trigger("apply",a,this.data)},cancel:function(){},message:function(a,b){return a?(b=b||"info",this.$m.removeClass("m-success m-info m-error").addClass("m-"+b).empty().show(),"success"!==b&&"error"!==b||(a=TVE.icon("success"===b?"check":"close2")+"&nbsp;"+a),this.$m.html(a),this):(this.$m.hide(),this)}}));b.exports={fb_share:g.extend({_tpl:TVE.tpl("controls/social/fb-share"),after_init:function(){this.image_picker=new f({}),this.$(".fb-image-upload").append(this.image_picker.$el),this.listenTo(this.image_picker,"select",function(a){this.data.image=a.url}),this.listenTo(this.image_picker,"remove",function(){this.data.image=""}),this.app_id=TVE.CONST.social_fb_app_id,this.app_valid=!!this.app_id},read_specific:function(a){_.each(["name","caption","description"],function(b){this.data[b]=a.attr("data-"+b)},this),this.image_picker.set({url:a.attr("data-image")||""})},validate_app_id:function(b,c){if(this.app_id=c.value,this.app_valid=!1,!this.app_id)return void this.message(TVE.t.fb_app_id_required,"error");this.message(TVE.t.validating_app_id,"info");var d=this;a.ajax({url:"https://graph.facebook.com/"+this.app_id,dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(a){a.id?(d.app_valid=!0,TVE.CONST.social_fb_app_id=d.app_id,d.message(TVE.t.fb_app_id_valid,"success"),TVE.ajax("update_option","post",{option_name:"tve_social_fb_app_id",option_value:d.app_id})):d.message(TVE.t.fb_app_id_invalid,"error")}).error(function(){d.message(TVE.t.fb_app_id_invalid,"error")})},validate:function(){return!0}}),t_share:g.extend({_tpl:TVE.tpl("controls/social/t-share"),after_init:function(){this.$tweet=this.$("textarea.tweet"),this.$via=this.$(".via")},read_specific:function(a){this.data.tweet=a.attr("data-tweet"),this.data.via=(a.attr("data-via")||"").replace(/^@/,""),this.$m.hide(),this.char_count()},char_count:function(){var a=280,b=this.$via.val(),c=this.$tweet.val();this.data.href||location.href;a-=23,a-=c.length+1,a-=b?6+b.replace("@","").length:0,this.$("#t-counter").css("color",a<0?"#ff8484":"").html(a),this.remaining=a},validate:function(){return!(this.remaining<0)||(this.message(TVE.t.tweet_too_long,"error"),!1)}}),pin_share:g.extend({_tpl:TVE.tpl("controls/social/pin-share"),after_init:function(){this.image_picker=new f({}),this.$(".pin-image-upload").append(this.image_picker.$el),this.listenTo(this.image_picker,"select",function(a){this.data.media=a.url}),this.listenTo(this.image_picker,"remove",function(){this.data.media=""})},read_specific:function(a){this.data.description=a.attr("data-description"),this.image_picker.set({url:a.attr("data-media")||""})},validate:function(){var a=this.image_picker.get();return!(!a||!a.url)||(this.inline_message(TVE.t.pinterest_img_required,"error",this.image_picker.$el),!1)},onOpen:function(){}}),g_share:g,in_share:g,xing_share:g}}(jQuery)},"selector.js":function(a,b,c){var d=c("../drop-panel");b.exports=d.extend({networks:{fb_share:"Facebook",t_share:"Twitter",g_share:"Google",pin_share:"Pinterest",in_share:"Linkedin",xing_share:"Xing"},after_initialize:function(){var a="";_.each(this.networks,function(b,c){a+='<label class="tcb-checkbox"><input type="checkbox" class="s-network change" data-fn="item_toggle" value="'+c+'"><span>'+b+"</span></label>"}),this.$(".popup-content").html(a).addClass("inline-checkboxes")},attach_collection:function(a){this.collection=a},apply:function(){var a=this;this.$(".s-network").each(function(){var b=a.collection.findWhere({key:this.value});this.checked?!b&&a.collection.add({key:this.value,label:a.networks[this.value]},{silent:!0}):b&&a.collection.remove(b)}),this.collection.trigger("change")},cancel:function(){},update:function(a){},get_selected:function(){var a=[];return this.$(".s-network:checked").each(function(){a.push(this.value)}),a},read_element:function(a){var b=this.$(".s-network").prop("checked",!1),c=[],d=[],e=this.networks;return arguments.length||(a=this.applyTo()),a.find(".tve_s_item").each(function(){var a=this.getAttribute("data-s");d.push(a),c.push({key:a,label:e[a]}),b.filter('[value="'+a+'"]').prop("checked",!0)}),this.component.renderer.set_config({selected:d},!1),c}})},"style.js":function(a,b,c){var d=c("../style-picker");b.exports=d.extend({read_from_element:function(){var a=this.applyTo().find(".tve_social_items").attr("class").match(/(\s+)?tve_style_(\d+)/),b=a?"tve_style_"+a[2]:"tve_style_1";return this.renderer.set_config({style:b}),b},box_class:function(){return"tcb-list tcb_social_sharing_style"},container_el:function(){return"div"},container_class:function(){return"tcb-scroll list-container dark-box"},item_template:function(){return _.template('<div class="item click tve-select-item tcb-social-share-preview-item" data-fn="select" id="<#=key #>" data-value="<#=key #>"></div>')},input:function(a){this.renderer.set_config({style:this.model.selected}).render_to(a)},cancel:function(a){this.model.selected=this.model.selected_old,this.renderer.set_config({style:this.model.selected_old}).render_to(a),this.renderer.clear_undo_snapshot(),TVE.Components.shadow.update()},onOpen:function(a,b,c){var d=a.find(".tve_social_items"),e=c.find(".list-container");e.removeClass("tve_social_ib tve_social_itb tve_social_cb"),d.hasClass("tve_social_ib")?e.addClass("tve_social_ib"):d.hasClass("tve_social_itb")?e.addClass("tve_social_itb"):d.hasClass("tve_social_cb")&&e.addClass("tve_social_cb"),
this.renderer.take_undo_snapshot(a)},apply:function(a){this.renderer.render_to(a,!0),TVE.Components.shadow.update()}})}},"style-change.js":function(a,b,c){var d=c("./drop-panel");b.exports=c("../base").control.extend({template:TVE.tpl("controls/style-change"),set_drop_panel:function(a){if(!a instanceof d)throw new Error("Style changer expects a DropPanel instance");this.panel=a,this.panel.parent_control=this,this.listenTo(this.panel,"update",this.update_ui)},open_panel:function(a,b){return b=b.parentElement.getElementsByClassName("tcb-icon-edit")[0],!!this.panel&&(this.panel.open(a,b),!1)},input:function(){return!!this.panel&&(this.panel.getLabel&&this.update_ui(),this.panel.input.apply(this.panel,arguments))},update:function(){return!!this.panel&&this.panel.update.apply(this.panel,arguments)},update_ui:function(a){return a=a||"",!a&&this.panel&&this.panel.getLabel&&(a=this.panel.getLabel()),""===a&&(a="Template Button"),this.$("input.style-change-input").val(a),this}})},"style-picker.js":function(a,b,c){!function(a){var d=c("./drop-panel"),e=c("../../libs/watcher");b.exports=d.extend({template:TVE.tpl("controls/style"),after_initialize:function(){e(this.model,"selected",this.change,this)},box_class:function(){return"tve-style-options dark-box"},container_class:function(){return"row middle-xs"},container_el:function(){return"div"},change:function(){this.trigger("update",this.getLabel(this.model.selected)),this.$el.find(".tve-select-item").removeClass("active").filter('[data-value="'+this.model.selected+'"]').addClass("active")},select:function(a,b){this.model.selected=b.getAttribute("data-value"),this.input(a,b)},getLabel:function(a){if(!(a=void 0===a?this.model.selected:a)||!this.model.config.items[a])return this.model.config.default_label?this.model.config.default_label:"";var b=this.model.config.items[a];return b.label?b.label:b},render_item:function(a,b){return this.item_template()({key:a,label:b.label?b.label:b,value:b})},item_template:function(){return TVE.tpl("implement me")},read_from_element:function(){throw new Error("Implement read_from_element function")},update:function(){var a=this.read_from_element();this.model.selected=a,this.model.selected_old=a}})}(jQuery)},"switch.js":function(a,b,c){var d=c("./checkbox");b.exports=d.extend({template:TVE.tpl("controls/switch")})},"table-borders.js":function(a,b,c){var d=c("./borders");b.exports=d.extend({controls_init:function(){d.prototype.controls_init.apply(this,arguments)},setConfig:function(){d.prototype.setConfig.apply(this,arguments);var a=this.applyTo();a.hasClass("tve_no_border")&&(a.head_css({"border-width":"0px"},null,this.config.css_suffix,!1,"#tve_editor "),a.removeClass("tve_no_border"))},change:function(a){if("none"===this.controls.Style)return!1;var b={},c=""===this.border_side?"border":"border-"+this.border_side,d=this.config.important?" !important":"";b[c]=this.controls.Width.getValue()+"px "+this.controls.Style.getValue()+" "+this.controls.Color.getValue()+d,a.head_css(b,null,this.config.css_suffix,!1,"#tve_editor ")},remove_sides:function(){return this.$el.children(".row").addClass("middle-xs"),this.$(".border-boxes").empty(),this}})},text:{"typefocus-settings.js":function(a,b,c){function d(a){return a&&a.getAttribute("style")?a.getAttribute("style"):""}var e=c("../drop-panel"),f=c("../color-picker");b.exports=e.extend({template:TVE.tpl("controls/text/typefocus-settings"),after_initialize:function(a){this.listenTo(this.model,"change",this.render),this.control=a.control},render:function(){this.picker&&this.picker.destroy(),this.$(".popup-content").html(this.template()),this.$speed=this.$("#timer-ms"),this.render_callback&&(this.render_callback.call(this),delete this.render_callback);var a=this.$(".highlight-color");a.length&&(this.picker=new f({el:a[0],model:{config:{options:{output:"object",preferredFormat:"hex",showInput:!1,showGradient:!1,showAlpha:!0,allowEmpty:!0}}},change:_.bind(this.h_color_change,this)}),this.picker.setValue(this.model.get("colors")))},h_color_change:function(a){this.model.set("colors",a?a.toString():"",{silent:!0})},add_variation:function(){this.model.get("variations").push(""),this.render_callback=function(){this.$("input.variation-item").last().focus()},this.render()},edit_variation:function(a,b,c){return 13===c.which?(this.add_variation(),!0):(this.model.get("variations")[b.getAttribute("data-index")]=b.value,!1)},remove_variation:function(a,b){var c=b.getAttribute("data-index");return this.model.get("variations").splice(c,1),this.model.trigger("change"),!1},attr:function(a,b){this.model.set(b.getAttribute("data-field"),!!b.checked)},speed:function(a,b){return this.model.set({speed:b.value},{silent:!0}),this.$speed.html(b.value),!1},validate:function(){return!!this.model.validate()||(TVE.page_message(this.model.error,!0),!1)},apply:function(){if(TVE.froala.editor){var a=TVE.froala.editor,b=a.snapshot.get(),c=this.model.get_dom_attr(),e=this.model.__dom;if(e)_.each(c,function(a,b){e.setAttribute(b,a)});else{var f=a.selection.element(),g=d(f);a.commands.clearFormatting(),a.format.apply("span",c),e=a.format.is("span",{class:c.class},!0),g&&e.setAttribute("style",g)}e.textContent!==this.model.get("text")&&jQuery(e).text(this.model.get("text")),e.removeAttribute("data-tve-custom-colour"),a.events.focus(),a.undo.saveStep(b),a.undo.saveStep(),TVE.froala.exec("toolbar.showInline"),this.control.update_preview()}},cancel:function(){this.model.restoreState(),TVE.froala.exec("toolbar.showInline")},default_changed:function(a,b){this.model.set("text",b.value)}})},"typefocus.js":function(a,b,c){var d=c("./typefocus-settings"),e=c("../../../models/typefocus"),f=new e,g=null;b.exports=c("../../base").control.extend({template:TVE.tpl("controls/text/typefocus"),after_initialize:function(){this.settings=new d({model:f,control:this})},open_settings:function(a,b){f.saveState(),this.settings.open(a,b)},update:function(){var a;if(TVE.froala.editor&&(a=TVE.froala.editor.format.is("span",{class:"tve_typefocus"},!0))){if(a===g)return;this.state("edit",a),g=a}else{if(null===g)return void f.set("text",TVE.froala.editor?TVE.froala.editor.selection.text():"");g=null,this.state("add")}},input:function(){},state:function(a,b){this.$(".state-toggle").hide().filter(".state-"+a).show();var c=this.$("#typefocus-preview").html("");"edit"===a?(f.read(b),c.html(TVE.tpl("controls/preview-list-item")({view:this,item:f}))):(f.reset(!0),f.set("text",TVE.froala.editor.selection.text()))},update_preview:function(){f.update_label(),this.$("#typefocus-preview").html(TVE.tpl("controls/preview-list-item")({view:this,item:f}))},has_settings_icon:function(){return!1},item_click:function(){this.open_settings.apply(this,arguments)},item_remove:function(){d.close_all();var a=f.__dom,b=a.parentNode;if(a.getAttribute("style"))a.removeAttribute("class"),a.removeAttribute("data-typist"),a.removeAttribute("data-speed"),a.removeAttribute("data-highlight"),a.removeAttribute("data-colors");else{for(;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}return this.state("add"),!1}})}},"text-input.js":function(a,b,c){var d=c("./label-input");b.exports=d.extend({template:TVE.tpl("controls/text-input"),render:function(){if(this.$input=this.$el.find("input"),this.model instanceof Backbone.Model==!1){var a=this.model.config;this.model=new Backbone.Model({label:a.label,extra_attrs:a.extra_attrs,label_col_x:a.label_col_x,placeholder:a.placeholder,cols:a.cols,rows:a.rows})}this.$el.html(this.template({model:this.model}))}})},"time-slider.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/time-slider"),min:0,max:21600,initialize:function(){void 0!==this.model.config.min&&(this.min=this.model.config.min),void 0!==this.model.config.max&&(this.max=this.model.config.max),this.render();var a=this;this.$el.find(".minutes-handle").tve_draggable({start:function(){a.currentMinutesValue=isNaN(a.valueMinutes())?0:parseInt(a.valueMinutes())},move:function(b){var c=a.currentMinutesValue+parseInt(b);c<a.min&&(c=a.min),c>Math.floor(a.max/60)&&(c=Math.floor(a.max/60)),a.$(".tcb-input-minutes").val(c)},stop:function(){a.$el.find(".tcb-input-minutes").trigger("change")}}),this.$el.find(".seconds-handle").tve_draggable({start:function(){a.currentSecondsValue=isNaN(a.valueSeconds())?0:parseInt(a.valueSeconds())},move:function(b){var c=a.currentSecondsValue+parseInt(b);c<0&&(c=0),c>59&&(c=59),a.$(".tcb-input-seconds").val(c)},stop:function(){a.$el.find(".tcb-input-seconds").trigger("change")}})},valueMinutes:function(){return this.$el.find(".tcb-input-minutes").val()},valueSeconds:function(){return this.$el.find(".tcb-input-seconds").val()},onChange:function(a,b){var c;if(b.classList.contains("tve-slider"))c=b.value;else if(b.classList.contains("tcb-input-minutes")||b.classList.contains("tcb-input-seconds")){var d=isNaN(this.valueMinutes())?0:parseInt(this.valueMinutes()),e=isNaN(this.valueSeconds())?0:parseInt(this.valueSeconds());c=60*d+e,c>this.max&&(c=this.max)}this.setValue(c),this.change(a,c)},onInput:function(a,b){var c=Math.floor(b.value/60),d=b.value%60;this.$(".tcb-input-minutes").val(c),this.$(".tcb-input-seconds").val(d)},setValue:function(a){var b=Math.floor(a/60),c=a%60;this.$(".tcb-input-minutes").val(b),this.$(".tcb-input-seconds").val(c),this.$(".tve-slider").val(a)},up:function(a,b){var c=b.getAttribute("data-time");this._changeTimeFromArrows(c,1)},down:function(a,b){var c=b.getAttribute("data-time");this._changeTimeFromArrows(c,-1)},_changeTimeFromArrows:function(a,b){if("min"===a){var c=parseInt(this.valueMinutes())+parseInt(b);c<0&&(c=0),this.$(".tcb-input-minutes").val(c)}else"sec"===a&&this.$(".tcb-input-seconds").val(parseInt(this.valueSeconds())+parseInt(b));this.$(".tcb-input-minutes").trigger("change")}})},toc:{"headings.js":function(a,b,c){var d=c("../multiple-checkbox");b.exports=d.extend({max_headings:3,template:TVE.tpl("controls/toc/headings"),update_content:function(a,b){var c=this,d=a.find(".tve_ct_content"),e=this.get_checked_inputs();if(a.find(".tve_ct_content").html(""),!(e.length<=0)){TVE.Editor_Page.editor.find(e.join(",")).not(".tve_faq *").each(function(){var a=jQuery(this),b=c.generateID(a),e=jQuery('<div class="'+c.getCssClass(a)+'" ><a href="#'+b+'">'+a.text()+"</a></div>");a.is(":visible")&&d.append(e),a.attr("id",b);var f=a.parents(".tve_wp_shortcode");f.length>0&&c.update_shortcode_raw.call(a,f,b)}),this.splitInColumns(a)}},update_shortcode_raw:function(a,b){var c=a.find("> .tve_shortcode_raw"),d=c.html().replace("___TVE_SHORTCODE_RAW__","").replace("__TVE_SHORTCODE_RAW___",""),e=this,f=document.createElement("textarea");f.innerHTML=d,d=f.value;var g=jQuery(d),h="";g.each(function(){e.text()===this.innerText&&this.setAttribute("id",b),h+=this.outerHTML}),c.text("___TVE_SHORTCODE_RAW__"+h+"__TVE_SHORTCODE_RAW___")},generateID:function(a){for(var b=0,c=a&&a.attr("id")?a.attr("id"):"tab-con-"+b;TVE.Editor_Page.editor.find("#"+c).length>0;)c="tab-con-"+ ++b;return a.attr("id",c),c},getCssClass:function(a){return"tve_ct_level"+this.get_checked_inputs().indexOf(a[0].nodeName.toLowerCase())},splitInColumns:function(a){a.find(".tve_ct_content").children(".leftCol, .rightCol").remove();for(var b=a.find(".tve_ct_content .tve_ct_level0").length,c=0,d=[],e=0;e<a.attr("data-columns");e++){var f=jQuery('<div class="ct_column sep"></div>');d.push(f)}d.push(d.pop().removeClass("sep")),a.find(".tve_ct_content .ct_column").remove();var g=0;a.find(".tve_ct_content").children(".tve_ct_level0, .tve_ct_level1, .tve_ct_level2").each(function(a){var e=jQuery(this);e.is(".tve_ct_level0")&&(g=Math.floor(c*d.length/b)),d[g].append(e),e.is(".tve_ct_level0")&&c++}),a.find(".tve_ct_content").html("");for(var f,e=0;f=d[e++];)f.css("width",100/d.length+"%"),a.find(".tve_ct_content").append(f);var h=0;a.find(".ct_column").each(function(){var a=jQuery(this);a.height()>h&&(h=a.height())}),a.find(".ct_column").css("min-height",h+"px")}})}},"toggle.js":function(a,b,c){var d=c("../base");b.exports=d.control.extend({template:TVE.tpl("controls/toggle"),update:function(){},addToggle:function(){var a=this.applyTo(),b=a.find(".tve_faq").first().clone();b.find(".tve_faqC").html(""),a.append(b)},orderToggle:function(){var a=this.applyTo();a.offset();a.addClass("canvas-mode"),TVE.Editor_Page.disable(),TVE.main.switch_menu_to("custom","toggle"),a.sortable({tolerance:"pointer",axis:"y"}),a.append(TVE.inner.jQuery("#tcb-toggle-panel").clone(!0,!0)),TVE.main.toggle_navigation(!0)},close_editor:function(){var a=this.applyTo();return a.sortable()&&a.sortable("destroy"),a.removeClass("canvas-mode"),a.find("#tcb-toggle-panel").remove(),jQuery(TVE.Editor_Page).unbind("editor.onenable"),TVE.Editor_Page.enable(),TVE.main.element_selected(a),this}})}},"editor-settings.js":function(a,b,c){!function(a){TVE.RevisionManager=c("./modals/revision");var d,e=c("./base").base_view,f=TVE.RevisionManager.get_instance(TVE.modal.get_element("revision-manager")),g=e.extend({icons:{desktop:"responsive",tablet:"tablet2",mobile:"mobile2"},widths:{desktop:"100%",tablet:768,mobile:360},change_preview:function(a,b){return this.$(".click").removeClass("selected"),b.classList.add("selected"),this.select_device(b.getAttribute("data-device")),d.close_panel(),!1},select_device:function(a){return TVE.main.device=a,TVE.main.$container.find("iframe").animate({width:this.widths[a]},200),TVE.main.$container.add(TVE.main.$el).removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+a),TVE.Editor_Page.$body.removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+a),setTimeout(function(){TVE.main.trigger("device_change",{device:a}),TVE.ActiveElement?(TVE.SkipUpdate=!1,TVE.main.update_components(),TVE.Editor_Page.reposition_icons()):TVE.Editor_Page.blur()},200),this}}),h=e.extend({undo:function(){return TVE.UndoManager.undo(),!1},redo:function(){return TVE.UndoManager.redo(),!1},revisions:function(){f.open({top:"20%"})}});b.exports=e.extend({initialize:function(a){d=this,this.$panels=this.$(".tcb-settings-panel"),this.responsive=new g({el:this.$(".tve-responsive")}),this.more=new h({el:this.$(".tve-more")}),this.bind_events()},bind_events:function(){var b=_.bind(function(b){"mousedown"===b.type?a.contains(this.el,b.target)||this.close_panel():27===b.which&&this.close_panel()},this);TVE.$document.add(TVE.inner.$document).keyup(b).mousedown(b),this.$("a[href]").not('[href="javascript:void(0)"]').on("click",_.bind(function(a){a.stopPropagation(),this.close_panel()},this))},open_panel:function(a,b){return b.classList.contains("active")?this.close_panel():(this.$panels.hide().filter(b.getAttribute("data-target")).show(),this.$el.children(".click").removeClass("active"),b.classList.add("active"),!1)},close_panel:function(){return this.$panels.hide(),this.$el.children(".click").removeClass("active"),!1},sidebar_settings:function(){this.close_panel(),TVE.main.switch_menu_to("templates")},save:function(a,b){if(!TVE.apply_filters("validate_saved_content",!0))return!1;b=b||this.$(".tve-save")[0];var c=b.innerHTML;return b.classList.add("tve-disabled"),b.innerHTML=TVE.t.saving,TVE.set_login_callback(this.save,this),TVE.main.overlay(),TVE.Editor_Page.save(!0).always(function(){b.classList.remove("tve-disabled"),b.innerHTML=c}),!1}})}(jQuery)},inline:{"column-options.js":function(a,b,c){var d=c("./inline-drop-panel");b.exports=d.extend({template:TVE.tpl("inline/column-options"),render_row:function(a,b){this.component.renderer.render_to(this.$element.removeClass("tcb-elem-placeholder"),!0,b.parentNode.getAttribute("data-cols"),this.$(b).index()),TVE.drag.refresh(),TVE.Editor_Page.blur(),this.hide(),TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode"))}})},"content-templates.js":function(a,b,c){var d=c("./inline-drop-panel"),e=null;!function(a){b.exports=d.extend({template:TVE.tpl("inline/content-templates"),after_initialize:function(){this.$(".drop-panel").addClass("small-pad tcb-autocomplete"),this.autocomplete()},autocomplete:function(){var b=this;this.$input=this.$(".tcb-search").autocomplete({minLength:0,source:function(b,c){c(a.ui.autocomplete.filter(TVE.CONST.content_templates,b.term))},appendTo:this.$(".popup-content"),select:function(a,b){return TVE.drag.fetch({data:{key:b.item.id,usertpl:!0}},TVE.ActiveElement),TVE.Editor_Page.blur(),a.stopPropagation(),!1}}),this.$input.data("ui-autocomplete")._renderItem=function(c,d){c.addClass("tcb-suggest");var e=new RegExp(this.term,"i"),f=a("<li></li>").on("click",".item-delete",_.bind(b.delete_template,b)).data("item.autocomplete",d).append('<a href="#" class="tcb-truncate">'+d.label.replace(e,'<span class="highlight">'+this.term+"</span>")+"</a>").append(TVE.icon("trash","svg",null,"item-delete")).appendTo(c);return f.find(".item-delete").attr("title",TVE.t.delete),f},e=this.$input.data("ui-autocomplete")},onOpen:function(){this.$input.val("").focus().autocomplete("search")},delete_template:function(b){var c=this.$input.autocomplete("widget").addClass("force-display");if(!confirm(TVE.t.confirm_delete_tpl))return!1;var d=this,e=a(b.currentTarget),f=e.closest("li"),g=f.data("item.autocomplete").id;return e.replaceWith('<img class="tcb-loading" src="'+TVE.url("editor/css/images/loader_transparent.gif")+'">'),TVE.ajax("delete_content_template","post",{key:g}).done(function(a){TVE.CONST.content_templates=a.list,TVE.page_message(a.message)}).always(function(){c.removeClass("force-display"),d.$input.focus().autocomplete("search")}),!1}})}(jQuery)},"inline-drop-panel.js":function(a,b,c){var d=c("../controls/drop-panel");!function(a){b.exports=d.extend({append_element:function(b){this.setElement(a("<div>",{id:"tcb-drop-"+(this.$el.data("view")||this.key()),class:"tcb-drop-panel inline-panel",html:this._template(),"data-view":this.key()}).appendTo("#inline-drop-panels")[0]),b&&b.minWidth&&this.$el.css("min-width",b.minWidth+"px")},open:function(a,b){this.visible=!0;var c=TVE.$document.add(TVE.inner.$document);return c.on("keydown.drop_panel",_.bind(function(a){27===a.which&&(this.onCancel(),c.off("keydown.drop_panel"))},this)),this.show(),this.position(b),this.onOpen(a,b),TVE.inner.$window.off("scroll."+this.key()).on("scroll."+this.key(),_.bind(this.on_window_scroll,this)),this.$element=a,!1},hide:function(a,b){this.visible=!1,this.$el.hide(),this.$(".color-picker").spectrum("hide"),this.trigger("close"),this.onClose(a,b),TVE.inner.$window.off("scroll."+this.key())},onOpen:function(a,b){},cancel:function(){},on_window_scroll:function(){var a=this.offset.top-TVE.inner.$window.scrollTop();a=a<=this.base_offset.top?this.base_offset.top:a,this.$el.css({top:a+"px"})},position:function(b){b.jquery||(b=a(b)),this.base_offset=TVE.main.$container.offset(),this.offset=b.offset(),this.offset.left+=this.base_offset.left,this.offset.top+=this.base_offset.top+b.outerHeight(),this.offset.top+this.__drop_panel_height-TVE.inner.$window.scrollTop()>TVE.inner.$window.height()?(this.offset.top-=this.__drop_panel_height+b.outerHeight()+30,this.$(".tcb-panel-arrow").addClass("arrow-bottom")):this.$(".tcb-panel-arrow").removeClass("arrow-bottom"),this.$el.css({left:this.offset.left+b.outerWidth()/2-this.$el.outerWidth()/2+"px",top:this.offset.top-TVE.inner.$window.scrollTop()+"px"})}})}(jQuery)},"table-size.js":function(a,b,c){var d=c("./inline-drop-panel"),e=[[]],f=1,g=1;b.exports=d.extend({template:TVE.tpl("inline/table-size"),after_initialize:function(){this.$preview=this.$("#table-size-preview"),this.$cells=this.$(".table-size-cell");for(var a=1;a<=6;a++){e[a]=[];for(var b=1;b<=8;b++)e[a][b]=this.$cells.get(8*(a-1)+b-1)}e[1][1].classList.add("sel")},highlight:function(a,b){this.$cells.removeClass("sel"),f=parseInt(b.getAttribute("data-row")),g=parseInt(b.getAttribute("data-col"));for(var c=1;c<=f;c++)for(var d=1;d<=g;d++)e[c][d].classList.add("sel");this.$preview.html(f+" x "+g)},insert:function(){TVE.ActiveElement.removeClass("thrv-table-placeholder tcb-elem-placeholder").addClass("thrv_table tcb-fixed").html(TVE.plugins.table.build(f,g)),TVE.Editor_Page.focus_element(TVE.ActiveElement),this.hide()}})}},"landing-page.js":function(a,b,c){b.exports={}},"main.js":function(a,b,c){!function(a){var b=null,d=c("../libs/storage"),e=null;c("../libs/spectrum"),_.templateSettings={evaluate:/<#([\s\S]+?)#>/g,interpolate:/<#=([\s\S]+?)#>/g,escape:/<#-([\s\S]+?)#>/g};var f=window.TVE=window.TVE||{};a.extend(f,{CONST:tcb_main_const,t:tcb_main_const.i18n,$document:a(document),$window:a(window),$:a,outer:{document:document,window:window,$window:a(window),$document:a(document)}}),f.CONST.display=d.get("tcb-components-display")||{},a.extend(f,c("../_utils.js")),a.extend(!0,f,c("./_includes")),f.Landing_Page=c("./landing-page"),f.FLAGS=f.FLAGS||{};var g=f.Views.Base.base_view.extend({device:"desktop",responsive:{desktop:{media:"(min-width: 300px)",rule_index:0},tablet:{media:"(max-width: 1023px)",rule_index:1},mobile:{media:"(max-width: 767px)",rule_index:2}},media_query_tpl:function(a){return void 0===a&&(a=this.device),this.responsive[a].media},media_rule_index:function(){return this.responsive[this.device].rule_index},all_media:function(){var b=[];return a.each(this.responsive,function(a,c){b.push(c.media)}),b},events:function(){return _.extend({},f.Views.Base.base_view.prototype.events,{dragstart:"drag_start",dragend:"drag_end","click .tve-element":"cpanel_elem_click","click .tve-element-pin":"pin_element","click .settings-icon":function(){this.switch_menu_to("settings")},"click .back-icon, .uber-name":function(){f.prevent_blur||this.deselect_element()},"mouseenter [data-tooltip], [data-disabled-tooltip]":"tooltip_show","mouseleave [data-tooltip], [data-disabled-tooltip]":"tooltip_hide","click #tcb-frame-container":function(){f.Editor_Page.blur()}})},initialize:function(){this.$cpanel=this.$("#tve_cpanel"),this.$loader=this.$("#tve-page-loader"),this.$cpanel.find(".tve-element").attr("draggable","true"),this.$container=this.$("#tcb-frame-container"),this.$elements=this.$cpanel.find("#tve-elements"),this.$components=this.$cpanel.find("#tve-components"),this.$settings=this.$cpanel.find("#tve-sidebar-settings"),this.$frame=this.$("iframe#tve-editor-frame"),this.$dropPanels=this.$("#tcb-drop-panels"),this.$ActiveElement=this.$(".tve-active-element"),this.$multiple_selection_menu=this.$("#multiple-select-elements"),this.$static_elements=this.$("#tve-static-elements"),this.custom_events(),f.frame_offset=this.$container.offset(),this.panel_offset(),this.states_dropdown=new(c("./controls/element-states"))({el:this.$ActiveElement.find(".element-states")[0]}),f.state_manager=new(c("../libs/state-manager"))(this.states_dropdown)},panel_offset:function(){return f.panel_offset=this.$cpanel.offset(),f.panel_offset},deselect_element:function(){this.switch_menu_to("elements"),f.ActiveElement&&(f.Editor_Page.selection_manager.blur(),delete f.ActiveElement)},custom_events:function(){this.on("overlayevent",this.overlay),this.on("lb_opening",function(){this.$el.addClass("frame-maximized")}),this.on("lb_close",function(){this.$el.removeClass("frame-maximized")}),f.$document.on("heartbeat-tick.wp-auth-check",function(b,c){if("wp-auth-check"in c&&!c["wp-auth-check"])var d=a("#wp-auth-check-frame").off("load.tcb").on("load.tcb",function(){d.contents().find("form#loginform").append('<input type="hidden" name="tve_interim_editor_key" value="'+f.CONST.userkey+'">')})}),this.on("device_change",function(a){var b=f.ActiveElement&&f.Elements[f._type(f.ActiveElement)].hover;"desktop"===a.device&&b?f.main.states_dropdown.enable():f.main.states_dropdown.disable(),this.change_element_text(a.device)})},change_element_text:function(a){if(void 0!==a){var b=jQuery('.tve-control[data-view="MediumWrap"]');switch(a){case"tablet":void 0!==b&&b.find("span").text(f.t.WrapColumnsOnTablet);break;case"mobile":void 0!==b&&b.find("span").text(f.t.WrapColumnsOnMobile)}}},active_elem_nav_view:null,active_element_navigation:function(){if(!this.active_elem_nav_view){var a=c("./components/sel-elem-nav");this.active_elem_nav_view=new a({el:this.$("#tcb-top-nav-list")[0]})}this.active_elem_nav_view.reset_breadcrumbs()},set_navigation_root:function(a){if(!this.active_elem_nav_view)return this;this.active_elem_nav_view.push_root_element(a)},remove_navigation_root:function(a){this.active_elem_nav_view.pop_root_element(a)},toggle_navigation:function(a){this.active_elem_nav_view&&(a=void 0===a||a,this.active_elem_nav_view.$el.toggleClass("tcb-nav-hide",a))},editor_loaded:function(){this.overlay(!0),f.is_loaded||(f.is_loaded=!0,this.undo_manager_init(),this.menu_init(),this.$frame.contents().on("click","a",function(){if(!a(this).parents(".media-modal").length)return!1}),this.$frame.contents().find(".postform").attr("disabled","disabled"),this.editor_settings=new(c("./editor-settings"))({el:this.$("#tcb-editor-settings")[0]}),this.sidebar_settings=new(c("./sidebar-settings"))({el:this.$("#tve-sidebar-settings")[0]}),f.main.off("after_undo_redo").on("after_undo_redo",function(){var a=f.SkipUpdate;f.SkipUpdate=!1,f.main.update_components(),f.SkipUpdate=a,f.ActiveElement&&0!==f.ActiveElement.parents("html").length||f.main.switch_menu_to("elements")}))},overlay:function(a){if(a)return void this.$loader.removeClass("tve-open");this.$loader.addClass("tve-open")},drag_start:function(b){var c=a(b.target);if(!c.hasClass("tve-element")||"mobile"==this.device)return!1;b.originalEvent.dataTransfer.setData("text/plain",""),f.BROWSER.edge||b.originalEvent.dataTransfer.setDragImage(this.get_drag_image(c),25,-16),b.originalEvent.dataTransfer.effectAllowed="all",b.target.style.opacity=.6,b.stopPropagation(),this.dragged_elem=this._build_elem_data(c),f.drag.main_drag_start(this.dragged_elem)},drag_end:function(a){a&&(a.target.style.opacity=1),this.dragged_elem=null,f.drag.dragend(!0)},_build_elem_data:function(a){return{type:a.data("elem"),data:a.data(),post_data:a.find("input").serializeArray(),static_element:this.static_element(a.data("elem"))}},get_drag_image:function(a){"string"!=typeof a&&a.jquery||(a=this.$('.tve-element[data-elem="'+a+'"]'));var b=a.find(".tcb-drag-image");return b.parent().css("z-index",""),setTimeout(function(){b.parent().css("z-index","-1")}),b[0]},cpanel_elem_click:function(b){return!b.target.classList.contains("tve-element-pin")&&(f.drag.insert_from_parent(this._build_elem_data(a(b.currentTarget))),!1)},child_drag_end:function(){this.dragged_elem=null},static_element:function(a){return this.$static_elements.find("[data-elem='"+a+"']")},undo_manager_init:function(){var a=c("../libs/undo-manager");f.UndoManager=new a(10,this.$("#tcb-undo"),this.$("#tcb-redo")),f.UndoManager.setCallback(function(a){void 0!==a&&a.length?window.onbeforeunload=function(){return f.t.LeavePageUnsavedChanges}:window.onbeforeunload=null}),f.SKIP_CSS_STATE=!1},menu_init:function(){f.Elements=tcb_main_const.elements,this.$(".tve-search input").tve_search(this.$(".tve-element")),f.Components={},this.hide_components(),this.init_dynamic_components(),a.each(f.Elements,function(b,c){if(c.is_placeholder)return void(f.Components[b]=new(void 0===f.Views.Components[b]?f.Views.Base.component:f.Views.Components[b])({config:{},options:{}}));c.inherit_from&&_.extend(c.components,f.Elements[c.inherit_from].components),a.each(c.components,function(c,d){if(void 0===f.Components[c]){var e=a("#tve-"+c+"-component"),g=e.data("view");if(void 0===g)f.Components[c]=new f.Views.Base.component({el:e[0]});else{if("function"!=typeof f.Views.Components[g])return console.warn&&console.warn("ERR: cannot instantiate component: "+g+" for element: "+b),!0;f.Components[c]=new f.Views.Components[g]({el:e[0],config:d.config,options:tcb_main_const.options[c]||{},renderer:f.renderers[c]||null})}f.Components[c].setKey(c)}})}),this.$scrollbar=this.$("#tve-scroll-panel").scrollbar(),this.$scrollbar.__height=this.$scrollbar.height(),this.switch_menu_to("elements"),f.$(".tve-style-options").scrollbar({disableBodyScroll:!0})},scroll_panel_to:function(a,b){void 0===b&&(b="fast");var c=a.offset().top,d=a.outerHeight(),e=c+d-f.main.$scrollbar.outerHeight(),g=f.main.$scrollbar.scrollTop();d&&e>93?null!==b?f.main.$scrollbar.animate({scrollTop:g+e-93},b):f.main.$scrollbar.scrollTop(g+e-93):d&&c<135&&f.main.$scrollbar.scrollTop(g+(c-135))},menu_reinit:function(){this.clear_focus(),a.each(f.Components,function(a,b){void 0!==f.Elements.general.components[a]&&f.Elements.general.components[a].options&&(b.options=f.Elements.general.components[a].options,b.reinit())})},switch_menu_to:function(a,b){if(!0!==f.FLAGS.disable_menu_switch){var c=this.$scrollbar.scrollTop();if("elements"===a&&(this.scroll=c),f.prevent_blur)return!0;switch(this.$(".sidebar-block").hide(),this.$("#migrate-element").hide(),this.$multiple_selection_menu.hide(),this.$(".tve-search input").val("").trigger("keyup"),this.$cpanel.find(".header-icon").hide(),a){case"multiple_select_elements":this.$components.hide(),this.$settings.hide(),this.$multiple_selection_menu.show();break;case"migrate_element":this.$components.hide(),this.$settings.hide(),this.$("#migrate-element").show();break;case"elements":this.$elements.show(),this.$(".tve-search").show(),this.$cpanel.find(".settings-icon").show();break;case"components":this.$components.show(),this.$ActiveElement.show(),this.$cpanel.find(".back-icon").show(),this.$scrollbar.scrollTop(this.scroll);break;case"settings":this.$settings.show(),this.sidebar_settings.show_tab("settings"),this.$cpanel.find(".back-icon").show();break;case"templates":this.$settings.show(),this.sidebar_settings.show_tab("templates"),this.$cpanel.find(".back-icon").show();break;case"custom":this.$("#sidebar-"+b).show()}"elements"===a&&this.$scrollbar.scrollTop(0)}},components_menu:function(){return this.switch_menu_to("components"),!1},hide_components:function(){this.$components.find(".tve-component").hide()},collapse_components:function(){this.$components.find(".dropdown-content").hide(),this.$components.find(".dropdown-header").removeClass("open")},close_select2:function(){this.$(".tcb-select-multiple").select2("close")},clear_focus:function(){f.state_manager.is_default()&&(f.Views.Controls.DropPanel.close_all(),this.$(".tve-panel").removeClass("drop-panel-open"),this.switch_menu_to("elements"),this.$el.find(".color-picker").spectrum("hide"),clearTimeout(e),e=setTimeout(function(){delete f.ActiveElement}),a.each(f.Components,function(a,b){b.reset()}),f.state(f.STATE_DEFAULT),this.trigger("clear_focus"))},set_element_name:function(a,b){f.ActiveElement&&(a=a||f.get_element_name(f.ActiveElement),void 0!==b&&b&&(a+=b),this.$ActiveElement.find(".element-name").html(a))},element_selected:function(c,d,g){function h(a,b){f.Components[a].disable_controls(b.disabled_controls||[]),f.Components[a].setConfig(b.config),f.Components[a].setOrder(b.order);var c=f.CONST.display[a]||{};f.Components[a].toggleDropdown("docked",a===i||!!c.docked),f.Components[a].toggleDropdown("advanced",!!c.advanced),f.Components[a].show()}if(clearTimeout(e),f.state_manager.is_default()||f.state_manager.is_child(c)||f.state_manager.get_parent().is(c)){if(c.hasClass("tcb-ct-placeholder"))return f.modal_open("cloud-templates",{element:c}),!0;void 0===g&&(g=!0);var i=f._type(c),j=this,k=c.hasClass("tcb-elem-placeholder");if(void 0!==f.Elements[i]){if(f.UndoManager.temp.delete(),f.ActiveElement=c,f.state_manager.is_child(c)?f.state_manager.set_element(c):c.is(f.state_manager.get_parent())||(this.set_element_name(f.get_element_name(c)),f.Elements[i].hover&&"desktop"===this.device?this.states_dropdown.enable():this.states_dropdown.disable()),f.state(f.STATE_EDIT),g&&f.Editor_Page.selection_manager.show_icons(f.ActiveElement),f.Components[i]){if(k&&f.Components[i].placeholder_action)return d&&d.preventDefault(),f.Elements[i].is_placeholder||f.Components[i].setConfig(f.Elements[i].components[i].config,!0),clearTimeout(b),b=setTimeout(function(){f.Components[i].placeholder_action(c)},200),!0;if(f.Components[i].needs_update(c))return this.component_migration=f.Components[i],
void this.switch_menu_to("migrate_element")}this.hide_components(),this.trigger("element_selected",f.ActiveElement),a.each(f.Elements[i].components,function(a,b){b.hidden||h(a,b)}),c.attr("data-ct")&&(h("cloud_templates",{order:0}),f.Components.cloud_templates.toggleDropdown("docked",!0)),this.switch_menu_to("components"),f.ActiveElement.not(".thrv_text_element,.thrv_heading").one("mouseleave",function(){f.ActiveElement&&j.update_components()}),this.active_element_navigation()}}},migrate_element:function(){if(!this.component_migration)return!1;f.Editor_Page.before_action(),this.component_migration.migrate_element(f.ActiveElement),f.Editor_Page.after_action(),f.Editor_Page.focus_element(f.ActiveElement.removeClass("edit_mode"))},exit_multiple_selected_mode:function(){f.drag.clear_selection(),f.drag.keyup(),f.main.switch_menu_to("elements")},update_components:function(b){if(!f.ActiveElement||f.SkipUpdate)return f.SkipUpdate=!1,this;var c=f._type(f.ActiveElement);return void 0!==b&&b.length?(_.each(b,function(a){f.Components[a]&&f.Components[a].update()}),this):(a.each(f.Elements[c].components,function(a,b){b.hidden||f.Components[a].update()}),this.trigger("tve_all_components_updated"),f.Editor_Page.reposition_icons(),this)},hide_side_panel:function(){this.$el.addClass("panel-hidden")},show_side_panel:function(){this.$el.removeClass("panel-hidden")},togglePanel:function(a){this.$el.toggleClass("editor-collapsed");var b=this.$el.hasClass("editor-collapsed")?"collapsed":"expanded";return a.currentTarget.setAttribute("title",a.currentTarget.getAttribute("data-title-"+b)),f.ActiveElement&&setTimeout(function(){f.Editor_Page.reposition_icons()},200),!1},pin_element:function(b){var c,d=this.$('.tve-category[data-category="'+f.CONST.pinned_category+'"]'),e=a(b.currentTarget.parentElement),g=[];b.currentTarget.classList.contains("pinned")?(b.currentTarget.classList.remove("pinned"),c=this.$('.tve-category[data-category="'+b.currentTarget.dataset.defaultCategory+'"]'),0===this.$(".pinned").length&&d.hide()):(b.currentTarget.classList.add("pinned"),c=d,0===c.length&&(c=a("<div>",{class:"tve-category","data-category":f.CONST.pinned_category,text:f.CONST.pinned_category}).prependTo(this.$("#tve-elements")))),e.detach().insertAfter(c.show()),this.$(".pinned").each(function(){g.push(this.dataset.element)}),f.ajax("update_option","post",{option_name:"tcb_pinned_elements",option_value:g})},tooltip_show:function(b){var c=a(b.currentTarget);if(!c.attr("data-disabled-tooltip")||c.hasClass("disabled-"+this.device)){this.$tooltip||(this.$tooltip=a('<div class="tvd-material-tooltip"><span></span></div>').appendTo("body")),this.$tooltip.find("span").html(c.attr("data-tooltip")||c.attr("data-disabled-tooltip")),this.$tooltip.css({display:"block",opacity:"0",top:"-2000px"});var d=c.offset(),e=d.left+c.outerWidth()/2-this.$tooltip.outerWidth()/2,f=d.top-this.$tooltip.outerHeight()-5;e<0&&(e=10),c.attr("data-left")&&(e+=parseInt(c.attr("data-left"))),f<0&&(f=0),this.$tooltip.css({top:f+"px",left:e+"px"}).animate({opacity:1},"fast")}},tooltip_hide:function(){this.$tooltip&&this.$tooltip.hide("fast")},init_dynamic_components:function(){this.$(".dynamic-component").each(function(){f.Components[this.dataset.key]=new f.Views.Components[this.dataset.view]({el:this,config:{}})})}});a(function(){f.main=window.TCB_Main=new g({el:document.body}),f.browser(),window.TCB_READY=!0,a(document).trigger("tcb_main_ready")})}(jQuery)},modals:{"_open.js":function(a,b,c){var d={base:c("./base").base,"options-post-types":c("./options-post-types"),"page-events":c("./page-events"),"cloud-templates":c("./cloud-templates")};b.exports=function(a,b){if(!d[a])throw new Error("Modal: "+a+" not found");return d[a].$$instance||(d[a].$$instance=new d[a]({el:TVE.modal.get_element("string"==typeof b&&b||a)})),d[a].$$instance.open("object"==typeof b?b:{}),d[a].$$instance}},"api-connections.js":function(a,b,c){!function(a){var d,e,f,g,h=c("../base"),i=c("./base"),j=c("../../models/api"),k=c("../../models/extended_apis"),l=c("../controls/link"),m=c("../controls/checkbox"),n=c("../../models/html-parser"),o=[{key:"reload",label:TVE.t.ReloadPage,css_class:"tcb-lg-option-reload",icon:"reload1"},{key:"redirect",label:TVE.t.RedirectURL,css_class:"tcb-lg-option-redirect",icon:"url"},{key:"message",label:TVE.t.SuccessNotification,css_class:"tcb-lg-option-custom_message",icon:"notif"}];b.exports=i.base.extend({after_initialize:function(){this.$el.addClass("medium"),this.$content=this.$(".tve-wizard-content"),this.$breadcrumbs=this.$(".tve-wizard-breadcrumbs"),this.apis={},_.each(TVE.CONST.api_connections,function(a,b){this.apis[b]=new j({key:b,name:a})},this),o=TVE.apply_filters("tve_form_submit_options",o);var a=this;TVE.StorageManager.on("tve_new_api",function(b){if(!a.apis[b.key]){a.apis[b.key]=new j({key:b.key,name:b.name});var c=new e({model:a.apis[b.key],wizard:a});a.$content.find(".tve-api-list").append(c.$el)}TVE.StorageManager.unset("tve_new_api")}),this.render_breadcrumbs(),this.SubmitOptionsModal=new g({el:this.$content})},set_breadcrumb:function(a,b){var c,d,e=this.$breadcrumbs.find('button[data-template="'+a+'"]');if(0!==e.length){for(e=e[0],e.classList.add("active"),e.classList.remove("visited","disabled"),c=e;d=c.previousElementSibling;)d.classList.add("visited"),d.classList.remove("active","disabled"),c=d;for(c=e;d=c.nextElementSibling;)d.classList.remove("active","visited"),c=d,b&&d.classList.add("disabled")}},render_breadcrumbs:function(){var a={apis:"Api connection",edit:"Set connection details",fields:"set form fields",submit:"post opt-in action"};this.$breadcrumbs.html(TVE.tpl("lead-generation/breadcrumbs")({steps:a}))},before_open:function(a){a=a||{},this.component=a.component?a.component:null;var b=Object.keys(this.apis).length>0?"apis":"start",c={};a.api&&(this.currentApi=a.api,b="edit"),a.form&&(b="form"),this._template[b].call(this,c);var d=!1;(d=TVE.apply_filters("tve_form_hide_custom_html_option",d))&&this.$(".tve-custom-html-action").hide()},apis_init:function(){this.$breadcrumbs.show(),TVE.ActiveElement.data("lg").set("read","apis");var a=TVE.ActiveElement.data("lg").get("apis");_.each(this.apis,function(b,c){var d={};a&&a[c]?(d=a[c],this.apis[c].set("state",1)):this.apis[c].set("state",0),this.apis[c].set("config",d)},this)},_template:{start:function(a){void 0===a.next&&(a.next=!0),this.$breadcrumbs.hide(),this.slide("lead-generation/start",a.next)},apis:function(a){var b,c=void 0===a.next?1:a.next;this.currentApi&&delete this.currentApi,this.apis_init(),this.set_breadcrumb("apis",!0),this.slide("lead-generation/apis",c),b=this.$content.find(".tve-api-list").empty(),_.each(this.apis,function(a){if(!a.ready()){var c=new e({model:a,wizard:this});b.append(c.$el)}},this)},edit:function(a){void 0===this.currentApi&&(void 0===a.api||void 0===this.apis[a.api]?this.close():this.currentApi=a.api);var b,c=this.apis[this.currentApi],e=void 0===a.next?1:a.next;this.apis_init(),this.set_breadcrumb("edit",!c.ready()),this.slide("lead-generation/edit",e,{api:c.get("name")}),"function"==typeof k[this.currentApi]&&(k[this.currentApi].initialized||(k[this.currentApi](this.$el,c),k[this.currentApi].initialized=!0)),b=new d({model:c}),this.$content.find(".edit-api-card").html(b.$el)},fields:function(){TVE.ActiveElement.data("lg").set("read","form_fields");var a=[],b=TVE.ActiveElement.data("lg").get("form_fields");if(_.each(this.apis,function(b){b.ready()&&a.push(b)}),a.length>0){this.slide("",1);var c=new f({apis:a,form_fields:b,currentApi:this.currentApi});this.$content.html(c.$el)}else this.close(),TVE.page_message("Please make sure that you have at least one connected api!",!0)},submit:function(){this.slide("lead-generation/submit-options",1),this.SubmitOptionsModal.model=TVE.ActiveElement.data("lg"),this.SubmitOptionsModal.collection=new Backbone.Collection(o),this.component.trigger("tcb_lg_manage_submit_options",this.SubmitOptionsModal,this.component.leadGenerationView),this.SubmitOptionsModal.render_options()},form:function(){this.$breadcrumbs.hide(),this.slide("lead-generation/form",1),TVE.ActiveElement.data("lg").set("read","custom_html_code");var a=TVE.ActiveElement.data("lg").get("custom_html_code")||"";this.$("#lead_generation_code").val(a)}},step:function(a,b){var c=b.dataset;b.classList.contains("disabled")||(this.set_breadcrumb(c.template),this._template[c.template]&&this._template[c.template].call(this,c))},slide:function(a,b,c){this.$content.html().trim().length>0&&this.$content.hide("slide",{direction:b?"left":"right"},300),this.$content.html(TVE.tpl(a)(c)).show("slide",{direction:b?"right":"left"},300)},get_clean_code:function(){var b=a("#lead_generation_code").val();return b=b.replace(/(\s)?(onclick|onkeyup|onkeypress|onkeydown)="(.+?)"/g,""),b=_.unescape(b)},parseHTML:function(){var a,b=this.get_clean_code(),c=new n(b);a=c.parse(),a.code=b,c.isValid()?(a=k.custom_html(a),TVE.ActiveElement.data("lg").set("customHtml",a),TVE.ActiveElement.data("lg").set("write","customHtml"),TVE.ActiveElement.data("lg").set("type","custom-html"),TVE.ActiveElement.data("lg").set("write","type"),TVE.apply_filters("lg_custom_html_save",a),this.close()):TVE.page_message(TVE.t.InvalidHTML,!0)},save:function(){TVE.ActiveElement.data("lg").set("write","apis"),TVE.ActiveElement.data("lg").set("write","custom_fields"),TVE.ActiveElement.data("lg").set("type","api"),TVE.ActiveElement.data("lg").set("write","type"),TVE.Editor_Page.reposition_icons(),TVE.apply_filters("lg_api_save",TVE.ActiveElement.data("lg")),TVE.page_message(TVE.t.ApiConnected,-2),this.close()}}),d=h.base_view.extend({template:TVE.tpl("lead-generation/edit-api-card"),before_initialize:function(b){a.extend(!0,this,b)},getApi:function(b){var c=TVE.tpl("lead-generation/apis/default"),d=this;b="boolean"==typeof b&&b,TVE.is_tpl("lead-generation/apis/"+this.model.get("key"))&&(c=TVE.tpl("lead-generation/apis/"+this.model.get("key"))),this.loading(!0),this.model.getApi(b,function(){d.loading(!1),d.$setup.html(c({api:d.model})),a(TVE.main).trigger("tve-api-after-render-"+d.model.get("key"),{api:d.model,$container:d.$setup})})},forceGet:function(){this.getApi(!0)},saveSettings:function(){var b=this.$(".api-list").val();this.model.setConfig({list:b}),a(TVE.main).trigger("tve-api-options-"+this.model.get("key"),{api:this.model,$container:this.$el})},step:function(a,b){if(this.$(".v-error").removeClass("v-error"),"fields"===b.dataset.template)if(this.saveSettings(),this.model.validate(),this.model.ready()){var c=TVE.ActiveElement.data("lg").get("apis");c[this.model.get("key")]=this.model.get("config"),TVE.ActiveElement.data("lg").set("apis",c)}else this.model.get("error-field")&&(this.$(this.model.get("error-field")).addClass("v-error").first().focus(),this.model.unset("error-field")),setTimeout(_.bind(function(){alert(this.model.get("error"))},this)),a.stopPropagation()},after_render:function(){this.$setup=this.$(".connection-setup"),this.$buttons=this.$("button.click"),this.$setup.scrollbar(),this.getApi(!1)},loading:function(a){this.$("button").toggleClass("disabled"),this.$setup.toggleClass("loading",!!a),this.$buttons.prop("disabled",!!a)},setupChange:function(a,b){var c={};c[b.dataset.name]=b.value,this.model.setConfig(c)}}),e=h.base_view.extend({template:TVE.tpl("lead-generation/api-card"),className:"col-sm-4",tagName:"div",after_initialize:function(a){this.wizard=a.wizard},step:function(a,b){this.wizard.currentApi=b.dataset.api}}),f=h.base_view.extend({template:TVE.tpl("lead-generation/fields"),default_fields:[{id:"name",placeholder:TVE.t.name},{id:"phone",placeholder:TVE.t.phone}],before_initialize:function(a){this.apis=a.apis,this.currentApi=a.currentApi,this.form_fields=a.form_fields},after_render:function(){var a=this.default_fields;1===this.apis.length||"wordpress"===this.currentApi?(_.each(this.apis,function(b){b.get("key")===this.currentApi&&(a=b.get("custom_fields"))},this),this.$(".connections-notification").hide()):this.$(".connections-notification").show(),this.all_api_custom_fields=a,this.$(".api-fields-add").html(TVE.tpl("lead-generation/api-field-add")({fields:a})),this.$fields=this.$(".custom-fields"),this.$add_state=this.$(".add-state"),this.$fields_state=this.$(".fields-state"),this.custom_fields={email:{id:"email",placeholder:"Email",required:!0}},1===this.apis.length&&this.init_form_fields()},init_form_fields:function(){Object.keys(this.form_fields).length&&(this.custom_fields.email.placeholder=this.form_fields.email?this.form_fields.email.placeholder:this.custom_fields.email.placeholder,this.$("#email-field").val(this.custom_fields.email.placeholder),delete this.form_fields.email,this.$fields.empty(),_.each(this.form_fields,function(a){this.$fields.append(TVE.tpl("lead-generation/custom-field")({id:a.id,placeholder:a.placeholder,value:a.placeholder,required:a.required})),this.$fields_state.find('option[value="'+a.id+'"]').prop("disabled",!0),this.custom_fields[a.id]=a},this))},removeField:function(a,b){this.$(".api-"+b.dataset.id+"-field").remove(),this.$(".api-fields-add").removeClass("tcb-hidden"),this.$fields_state.find('option[value="'+b.dataset.id+'"]').prop("disabled",!1),delete this.custom_fields[b.dataset.id]},toggleAddFields:function(){this.$add_state.toggle(),this.$fields_state.toggle(),this.$fields_state.find(".api-fields").val("0")},addFields:function(a,b){var c=this.$fields_state.find('option[value="'+b.value+'"]'),d=c.text();this.$fields.append(TVE.tpl("lead-generation/custom-field")({id:b.value,placeholder:d,value:"",required:!1})),void 0===this.custom_fields[b.value]&&(this.custom_fields[b.value]={id:b.value,placeholder:d,required:!1}),c.prop("disabled",!0),this.toggleAddFields(),Object.keys(this.custom_fields).length===1+this.all_api_custom_fields.length&&this.$(".api-fields-add").addClass("tcb-hidden")},placeholderChange:function(a,b){this.custom_fields[b.dataset.id].placeholder=b.value},requiredChange:function(a,b){this.custom_fields[b.dataset.id].required=b.checked},step:function(){TVE.ActiveElement.data("lg").set("custom_fields",this.custom_fields)}}),g=h.base_view.extend({editor_id:"tcb-success-message-tinymce",events:function(){return _.extend({},h.base_view.prototype.events,{"click .tcb-optin-option-card":"select_option"})},preview_success_message:function(){var a=this.$("#tcb-success-message-input").val();a&&TVE.page_message(a)},_get_form_wrapper:function(){return this.$("#tcb-lg-submit-options-form-wrapper")},select_option:function(a){this.$(".tcb-optin-option-card").removeClass("tcb-card-selected"),a.currentTarget.classList.add("tcb-card-selected"),this.model.set("submit_option",a.currentTarget.dataset.key),this.render_option_form(a.currentTarget.dataset.key)},render_option_form:function(a){this.$(".autofill_inputs").hide(0),this.$("#tcb-lg-success-message-editor").hide(0),a=a.replace(/-/g,"_");var b="render_form_"+a;if("function"==typeof this[b])return this[b]();throw new Error(b+" not implemented")},render_form_message:function(){this._get_form_wrapper().empty().hide(),this.$("#tcb-lg-success-message-editor").show(0)},render_form_next_step:function(){},render_form_redirect:function(){this.$("#tcb-lg-success-message-editor").hide(0),this.$(".autofill_inputs").show();var a=this,b=new l({hide_preview:!0,ignore_settings:!0}),c=new m({el:this.$el.find(".autofill_inputs"),model:{config:{label:"Autofill form inputs"}}});return c.setChecked(this.model.get("autofill")),c.change=function(b,c){c.checked?a.model.set("autofill",1):a.model.set("autofill",0)},b.set_link(this.model.get("back_url")),this._get_form_wrapper().empty().append(b.$el).show(0),b.on("directurl",function(b){a.model.set("back_url",b.term)}),b.on("select",function(b){a.model.set("back_url",b.url)}),this},render_form_reload:function(){this.$(".autofill_inputs").hide(0),this.$("#tcb-lg-success-message-editor").hide(),this._get_form_wrapper().hide()},get_editor:function(){return tinymce.get(this.editor_id)},get_editor_content:function(){return this.$("#tcb-success-message-input").val()},set_editor_content:function(a){this.$("#tcb-success-message-input").val(a)},render_options:function(){var a=this.$("#tcb-lg-submit-options-wrapper"),b=this,c=this.collection.findWhere({key:this.model.get("submit_option")});c||(c=this.collection.first(),this.model.set("submit_option",c.get("key"))),a.empty(),this._get_form_wrapper().empty(),this.collection.each(function(b){a.append(this.render_option(b))},this),c instanceof Backbone.Model&&this.render_option_form(this.model.get("submit_option")),setTimeout(function(){b.set_editor_content(b.model.get("custom_messages").success||"")},700)},render_option:function(a){var b=TVE.tpl("lead-generation/submit-options/card"),c=a.get("key");return b({item:a,icon:a.get("icon"),selected:c===this.model.get("submit_option")})},save:function(){"message"===this.model.get("submit_option")&&(this.model.get("custom_messages").success=this.get_editor_content()),TVE.Components.lead_generation.leadGenerationView.write("submit_option"),this.trigger("tcb_lg_write_submit_option",this.model.get("submit_option"),TVE.Components.lead_generation.leadGenerationView),this.trigger("tcb_lg_write_submit_option_"+this.model.get("submit_option"),TVE.Components.lead_generation.leadGenerationView)}})}(jQuery)},"base.js":function(a,b,c){var d=c("../base");b.exports={base:d.base_view.extend({options:{opacity:.8,dismissible:!0},close_options:{},events:function(){return _.extend({},d.base_view.prototype.events,{"click .tcb-modal-cancel":"close","click .tcb-modal-close":"close","click .tcb-modal-save":"save"})},has_fixed_footer:function(){return!1},render:function(){},open:function(a){"function"==typeof this.before_open&&this.before_open.call(this,a);var b=_.extend({},this.options,a),c=b.ready||null,d=this;b.css&&this.$el.css(b.css),this.has_fixed_footer()&&this.$el.addClass("tcb-fixed-footer"),b.ready=function(){"function"==typeof d.after_open&&d.after_open.call(d,this),c&&c.call(this)},b.complete&&(this.close_options.complete=b.complete),jQuery(".tvd-lean-overlay").remove(),!1===b.dismissible?this.$el.find(".tcb-modal-close").hide():this.$el.find(".tcb-modal-close").show(),this.$el.openModal(b)},close:function(a){return a&&a.preventDefault(),"function"==typeof this.before_close&&this.before_close.call(this,a),this.$el.closeModal(this.close_options),!1},save:function(a){return"function"==typeof this.before_save&&this.before_save.call(this,a),this.close(),a.preventDefault(),!1}}),get_element:function(a){return document.getElementById("tcb-modal-"+a.replace(/_/g,"-"))}}},"cloud-templates.js":function(a,b,c){!function(a){var d=c("./base"),e=new(c("../../models/cloud-templates")),f=c("../../libs/element-snapshot");b.exports=d.base.extend({item_template:TVE.tpl("cloud-templates/item"),has_fixed_footer:function(){return!0},set_element:function(a){return this.applyTo=a,this},after_initialize:function(){this.$content=this.$(".content-templates"),this.$el_name=this.$(".element-name"),this.$error=this.$(".error-container").hide(),this.$status=this.$(".status"),this.$save=this.$(".tcb-modal-save").prop("disabled",!0)},ensure_type_container:function(){this.$list=this.$content.children("#templates-"+this.$$type),this.$list.length||(this.$list=a('<div data-type="'+this.$$type+'" id="templates-'+this.$$type+'" class="template-list row middle-xs"></div>').appendTo(this.$content))},read_element:function(a){this.applyTo=a.element;var b=a.element.attr("data-ct").split("-");a.type=b[0],a.selected=parseInt(b[1]||"0")},before_open:function(a){if(this.read_element(a),this.selected=a.selected,!a.type||a.type===this.$$type)return void this.select_template(this.selected);this.$$type=a.type,this.$(".template-list").hide().filter("#templates-"+this.$$type).show().length||(this.on_start(),e.fetch(this.$$type).done(_.bind(this.on_success,this)).fail(_.bind(this.on_error,this)).always(_.bind(this.on_finished,this)))},on_start:function(){this.ensure_type_container(),this.$error.hide(),this.$el_name.html(TVE.t.elements[this.$$type]),this.$status.html(TVE.t.FetchingData),this.$list.addClass("disabled")},on_success:function(a){if(a.error)return this.on_error({responseJSON:a});_.each(a.templates,function(a){this.$list.append(this.item_template({item:a,selected:this.selected===parseInt(a.id)}))},this)},on_error:function(a,b,c){delete this.$$type;var d="";if(a.responseJSON)d=a.responseJSON.message;else if(a.responseText)try{if("parsererror"===b)d="Could not parse response: "+a.responseText;else{var e=JSON.parse(a.responseText);d=e.message}}catch(a){}d||(d=(a.statusText||b)+(a.status?" ("+a.status+")":"")),this.$error.fadeIn(200).html(TVE.tpl("cloud-error")({error_message:d})),this.$content.empty()},on_finished:function(){this.$status.html(""),this.$list.removeClass("disabled")},dom_select:function(a,b){return this.select_template(b.dataset.id),!1},select_template:function(a){this.selected=parseInt(a),this.$list.find(".template-wrapper").removeClass("active").filter('[data-id="'+a+'"]').addClass("active"),this.$save.prop("disabled",!1)},save:function(){this.on_start(),this.$save.prop("disabled",!0);var a=this;e.set("type",this.$$type),e.download(this.selected).done(function(b){if(b.error)return a.on_error({responseJSON:b});a.apply_cloud_template(b.data),a.close(),a.on_finished(),a.select_template(a.selected)}).fail(_.bind(this.on_error,this)).always(_.bind(this.on_finished,this))},apply_cloud_template:function(b){var c,d={};f(function(){var c=a(b.content);c.find("[data-css]").each(function(){void 0===d[this.dataset.css]?d[this.dataset.css]=TVE.CSS_Rule_Cache.uniq_id(this,!0):this.dataset.css=d[this.dataset.css]}),this.applyTo.attr({"data-ct":b.type+"-"+b.id,"data-element-name":TVE.t.elements[this.$$type],class:c.attr("class")}).data("tcb-elem-type","").html(c.html()),console.log(c.attr("data-css")),c.attr("data-css")?d[c.attr("data-css")]=TVE.CSS_Rule_Cache.uniq_id(this.applyTo,!0):this.applyTo.removeAttr("data-css"),TVE.drag.bind_element(this.applyTo),TVE.Editor_Page.reposition_icons()},this.applyTo,this),c=b.head_css,a.each(d,function(a,b){c=c.replace(new RegExp("("+a+")","g"),b)}),TVE.Editor_Page.content_manager.insert_head_css(c),TVE.Editor_Page.focus_element(this.applyTo)}})}(jQuery)},"custom-html.js":function(a,b,c){var d=c("./base"),e=c("../../../editor/src/util/content"),f=null;b.exports=d.base.extend({editor:null,no_preview_html:'<div class="tve_shortcode_overlay"><span>No preview available.</span></div>',iframe_cover:'<div class="tve_iframe_cover"></div>',save:function(){var a=TVE.ActiveElement,b=jQuery.trim(this.editor.getValue()),c=a.html();a.removeClass("tcb-elem-placeholder"),b.length>0&&(b=e.convert_script_tags(b)),a.html(b),a.height()<=10&&0===a.find("img").length?(a.append(this.no_preview_html),b+=this.no_preview_html):a.find("iframe").length&&(a.append(jQuery(this.iframe_cover)),b+=this.iframe_cover),a.trigger("click"),TVE.UndoManager.add({undo:function(){a.html(c)},redo:function(){a.html(b)}}),this.close()},before_open:function(){if(this.editor=ace.edit("tcb-custom-html-code"),this.editor.setTheme("ace/theme/chrome"),this.editor.session.setMode("ace/mode/html"),this.editor.session.setUseWrapMode(!0),delete this.editor.commands.commandKeyBinding["ctrl-f"],TVE.ActiveElement.hasClass("tcb-elem-placeholder"))this.editor.setValue("");else{var a=e.revert_script_tags(TVE.ActiveElement.html());this.editor.setValue(a),this.editor.selection.clearSelection()}this.editor.focus()},has_fixed_footer:function(){return!0}},{get_instance:function(a){return f||(f=new TVE.CustomHTML({el:a})),f}})},"icons.js":function(a,b,c){var d,e=c("./base");b.exports=e.base.extend({selected_class:"tve-icon-selected",events:function(){return _.extend({},e.base.prototype.events(),{"keyup .tve-search-icon":"search_icon"})},after_initialize:function(){var a=this.$("#tve-icomoon-icons");this._render_svg_icons(a)},before_open:function(){if(this.$(".tve-search-icon").val("").trigger("keyup"),!TVE.ActiveElement.hasClass("tcb-elem-placeholder")){var a=TVE.ActiveElement.children().first(),b=a.attr("data-name"),c=".tve-svg-icon";b&&("span"===a[0].nodeName.toLowerCase()&&(c=".tve-icomoon-icon"),this.$(c+"[data-cls=icon-"+b+"]").addClass(this.selected_class))}},before_close:function(){this.off("save"),TVE.ActiveElement.hasClass("tcb-elem-placeholder")?TVE.Editor_Page.blur():TVE.Editor_Page.focus_element(TVE.ActiveElement)},_render_svg_icons:function(a){jQuery("#tve-default-icons symbol").each(function(b,c){var d=c.getAttribute("id");d=d.replace("icon-",""),a.append('<span class="tve-icon click tve-svg-icon" data-cls="icon-'+d+'" title="'+d+'" data-fn="select_icon">'+TVE.icon(d)+"</span>")})},_deselect_all_icons:function(){this.$(".tve-icon").removeClass(this.selected_class)},select_icon:function(a,b){this._deselect_all_icons(),b.classList.add(this.selected_class)},search_icon:function(a){var b=jQuery(a.currentTarget),c=jQuery("#"+b.data("search-for")),d=c.children().css({display:"none"});this._deselect_all_icons(),d.filter(function(){return-1!==this.getAttribute("title").indexOf(b.val())}).css({display:"inline-block"})},save:function(){var a=TVE.ActiveElement,b=this.$("."+this.selected_class),c={icon:b};b.length&&(a.removeClass("tcb-elem-placeholder").addClass("tcb-icon-display"),this.trigger("save",c),a.find("title").remove(),this.close())}},{get_instance:function(a){return d||(d=new TVE.IconsModal({el:a})),d}})},"landing-page.js":function(a,b,c){!function(a){var d=c("./base");b.exports=d.base.extend({el:TVE.modal.get_element("lp-templates"),lp_set:TVE.tpl("landing-pages/lp-set"),lp_template:TVE.tpl("landing-pages/lp-template"),lp_delete_confirmation:TVE.tpl("landing-pages/delete-confirmation"),tag_item:TVE.tpl("landing-pages/tag-item"),events:{"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .tab-item":"tab_click","click .exp-set":"expand_set","click .close-icon":"render_sets","change .template-tag":"filter_templates","click .tags-title":function(){this.$filter.toggle()},click:function(a){this.$filter.is(a.target)||0!==this.$filter.has(a.target).length||a.target.classList.contains("tags-title")||this.$filter.hide()},"click .tve-template-item .template-wrapper":function(a){this.$(".template-wrapper.active").removeClass("active"),a.currentTarget.classList.toggle("active"),this.$choose_btn.removeClass("tcb-disabled")},"input .tags-search":function(a){this.render_tags(a.target.value)},"click .tcb-delete-saved-template":"delete_saved_template","click .tcb-cancel-delete-template":"no_delete_template","click .tcb-apply-delete-template":"yes_delete_template"},initialize:function(){this.$el.addClass("large"),this.$tabs=this.$(".tab-item"),this.$choose_btn=this.$(".tcb-modal-save"),this.$content=this.$(".tve-tab-content"),this.$filter=this.$(".tags-select"),this.$preview=this.$(".tve-template-preview"),this.$default_templates=this.$(".tve-default-templates-list"),this.$saved_templates=this.$(".tve-saved-templates-list"),this.$tag_list=this.$(".template-tags"),this._filter_templates(),this.render_sets(),this.render_tags(),this.$scroll=this.$(".tve-tabs-content").scrollbar()},before_open:function(){this.render_sets();var b,c,d=Object.assign(TVE.CONST.lp_templates,TVE.CONST.cloud_lp_templates,TVE.CONST.saved_lp_templates);void 0!==d[TVE.CONST.landing_page]&&(b=d[TVE.CONST.landing_page].set.toLowerCase().replace(/ /g,"-"),c={currentTarget:a('.tve-template-set[data-set="'+b+'"]')},this.expand_set(c),c.currentTarget.find('.template-wrapper[data-key="'+TVE.CONST.landing_page+'"]').addClass("active"),this.$choose_btn.removeClass("tcb-disabled"))},tab_click:function(a){var b=a.currentTarget.getAttribute("data-content");this.$tabs.removeClass("active"),a.currentTarget.classList.add("active"),this.$content.removeClass("active"),this.$content.filter('[data-content="'+b+'"]').addClass("active"),this.$(".tags-filter")["default"===a.currentTarget.getAttribute("data-content")?"visible":"invisible"]()},delete_saved_template:function(a){var b=jQuery(a.currentTarget).closest(".tve-template-item");b.find(".template-wrapper").hide(),b.append(this.lp_delete_confirmation())},no_delete_template:function(a){var b=jQuery(a.currentTarget).closest(".tve-template-item");b.find(".template-wrapper").show(),b.find(".tcb-delete-template-confirmation").remove()},yes_delete_template:function(a){var b=jQuery(a.currentTarget).closest(".tve-template-item"),c={custom_action:"landing_page_delete",tve_landing_page:b.attr("data-key")},d=this;TVE.main.overlay(),TVE.Editor_Page.save(!1,function(a){!0===a.success&&(b.remove(),d.saved_templates=d.saved_templates.filter(function(a){return a.key!==b.attr("data-key")})),TVE.main.overlay("hide")},c)},render_tags:function(a){var b=this;this.$tag_list.empty(),void 0===a&&(a=""),_.each(this.tags,function(c){-1!==c.indexOf(a)&&b.$tag_list.append(b.tag_item({tag:c}))})},render_sets:function(){var a=this;this.$default_templates.empty(),_.each(this.default_sets,function(b){a.$default_templates.append(a.lp_set(b))}),this.$saved_templates.empty(),_.each(this.saved_templates,function(b,c){b.count=c,a.$saved_templates.append(a.lp_template(b))}),this.$scroll&&this.$scroll.scrollTop(this.scroll_top||0)},expand_set:function(b){var c=a(b.currentTarget).closest(".tve-template-set"),d=c.data("set"),e=this;void 0!==d&&(this.$default_templates.find(".expanded-set").length&&(this.render_sets(),c=this.$default_templates.find('.tve-template-set[data-set="'+d+'"]')),c.empty().removeClass("tve-template-set").addClass("expanded-set"),c.append("<span>"+this.default_sets[d].label+'</span><div class="close-icon"></div>'),_.each(this.default_sets[d].templates,function(a,b){a.count=b,c.append(e.lp_template(a))}),this.scroll_top=this.$scroll.scrollTop(),this.$choose_btn.addClass("tcb-disabled"),requestAnimationFrame(_.bind(function(){this.$scroll.animate({scrollTop:this.scroll_top+c.position().top},"fast")},this)))},filter_templates:function(){var a=[],b=this;this.$tag_list.find(".template-tag:checked").each(function(){a.push(this.value)}),0===a.length?(this.$default_templates.removeClass("expanded-set"),this.render_sets()):(this.$default_templates.addClass("expanded-set").empty(),_.each(this.default_sets,function(c){_.each(c.templates,function(c){_.each(a,function(a){if(-1!==c.tags.indexOf(a))return void b.$default_templates.append(b.lp_template(c))})})}))},save:function(){var a=this.$(".tve-template-item .active");if(a&&a.length){var b=a.data("key"),c={tve_landing_page:b,custom_action:"landing_page"};a.data("cloud")&&"1"===a.attr("data-cloud")&&(c=TVE.apply_filters("tcb_cloud_template_download",{action:"tve_cloud_templates",task:"download",template:b,post_id:TVE.CONST.post_id})),TVE.set_login_callback(this.save,this),TVE.main.overlay(),TVE.Editor_Page.save(!1,function(){TVE.KEEP_OVERLAY=!0,TVE.CONST.landing_page=b,window.onbeforeunload=null,TVE.page_message(TVE.t.TemplateChange),top.window.location.reload()},c)}else TVE.page_message(TVE.t.SelectTemplate,!0,5e3)},show_preview:function(a){if(0!==a.currentTarget.parentElement.getAttribute("data-key").indexOf("user-saved-template-")){var b=a.currentTarget.getBoundingClientRect(),c=70+190*(1+parseInt(a.currentTarget.getAttribute("data-count")));this.$preview.css({left:c,top:b.top-a.currentTarget.offsetHeight,"background-image":a.currentTarget.style.backgroundImage}),this.$preview.show()}},hide_preview:function(a){this.$preview.hide()},_filter_templates:function(){var a=this;this.default_sets={},this.saved_templates=[],this.tags=[],_.each(TVE.CONST.lp_templates,function(b,c){var d=b.set.toLowerCase().replace(/ /g,"-"),e=(b.downloaded?"http://landingpages.thrivethemes.com/wp-content/plugins/thrive-visual-editor/landing-page/templates/thumbnails/":TVE.CONST.templates_path+"/thumbnails/")+c+".png";void 0===a.default_sets[d]&&(a.default_sets[d]={set:d,label:b.set,thumbnail:e,templates:[]}),a.default_sets[d].templates.push({key:c,name:b.name,tags:b.tags,thumbnail:e}),_.each(b.tags,function(b){-1===a.tags.indexOf(b)&&a.tags.push(b)})}),_.each(TVE.CONST.cloud_lp_templates,function(b,c){var d=b.set.toLowerCase().replace(/ /g,"-")
;void 0===a.default_sets[d]&&(a.default_sets[d]={set:d,label:b.set,thumbnail:b.thumb,templates:[]}),a.default_sets[d].templates.push({key:c,name:b.name,tags:b.tags,thumbnail:b.thumb,cloud:!0}),_.each(b.tags,function(b){-1===a.tags.indexOf(b)&&a.tags.push(b)})}),_.each(TVE.CONST.saved_lp_templates,function(b,c){a.saved_templates.push({key:"user-saved-template-"+c,name:b.name,tags:b.tags,thumbnail:b.thumbnail?b.thumbnail:TVE.CONST.templates_path+"/thumbnails/"+b.template+".png"})}),this.tags.sort()},force_modal_close:function(){TVE.outer.$document.find(".tvd-lean-overlay").remove()}})}(jQuery)},"lg-error-messages.js":function(a,b,c){var d=c("./base"),e=null;b.exports=d.base.extend({labels:TVE.t.error_labels,default_errors:TVE.t.lg_errors,events:function(){return _.extend({},d.base.prototype.events(),{"click #tcb-sign-up-error-enabled":"toggle_signup_error_editor"})},has_fixed_footer:function(){return!0},_get_type:function(){return this.type},_get_signup_error_editor:function(){return this.$signup_error_editor||(this.$signup_error_editor=this.$("#tcb-lg-signup-error-editor")),this.$signup_error_editor},toggle_signup_error_editor:function(a){var b=this;this._get_signup_error_editor().toggle({duration:0,complete:function(){b.display_editor=a.currentTarget.checked}})},render_errors:function(){this._get_fields_container().empty(),this._get_signup_error_wrapper()["api"===this._get_type()?"show":"hide"](),this.display_editor&&(this.$("#tcb-sign-up-error-enabled").prop("checked",!0),this._get_signup_error_editor().show()),this._set_editor_content(this.custom_messages.error||""),_.each(this.model.attributes,function(a,b,c){this.render_error({key:b,value:a,label:this.labels[b]})},this)},get_editor:function(){return this.editor||(this.editor=tinymce.get("tcb_lg_error")),this.editor},get_editor_content:function(){return this.get_editor()?this.get_editor().getContent():""},_set_editor_content:function(a){return!!this.get_editor()&&this.get_editor().setContent(a)},restore_defaults:function(){_.each(this.default_errors,function(a,b,c){this._set(b,a)},this),this.render_errors()},change:function(a,b){var c=b.value,d=b.getAttribute("data-key");this._set(d,c)},_set:function(a,b){return this.model.set(a,b),!0},_get_fields_container:function(){return this.$container||(this.container=this.$(".tcb-fields-error").first()),this.container},_get_signup_error_wrapper:function(){return this.$signup_error_wrapper||(this.$signup_error_wrapper=this.$("#tcb-signup-error-wrapper")),this.$signup_error_wrapper},render_error:function(a){var b=TVE.tpl("lead-generation/errors/item"),c={key:"key",label:"label",value:"value"};a=a||{},a=_.extend(c,a),this._get_fields_container().append('<div class="col-xs-6">'+b({item:a})+"</div>")}},{get_instance:function(a,b){return e||(e=new TVE.LGErrorMessages({el:a,model:b||new Backbone.Model})),e}})},"options-post-types.js":function(a,b,c){b.exports=c("./base").base.extend({save:function(){var a=TVE.ajax_data("save_link_post_types","post",{post_types:this.checkbox_values(".post-type")});jQuery.ajax(a).done(function(a){TVE.page_message(a.message)}),this.close()}})},"page-events.js":function(a,b,c){!function(a){function d(a){this.events=a,this.triggers=TVE.apply_filters("tcb_page_event_triggers",{exit:{label:"Exit intent",icon:"exit_intent",view:new i},timer:{label:"Timer",icon:"timer",tpl:"page-events/triggers/timer",view:new j}}),this.actions=TVE.apply_filters("tcb_page_event_actions",{thrive_lightbox:{label:"Open Thrive Lightbox",icon:"t-lightbox",view:new k},thrive_leads_2_step:{label:"Open Thrive Leads ThriveBox",icon:"t-box",disabled:!0,view:null}},k),this.animations=TVE.Components.animation.options.actions.thrive_lightbox.data.animations}var e,f,g=c("./base").base,h=g.extend({template:TVE.tpl("page-events/form"),main:null,after_initialize:function(a){this.main=a.main},render:function(){},reset:function(a){return void 0===a&&(a=f.newEvent()),this.model=a,this},has_multiple_actions:function(){var b=0;return a.each(f.actions,function(a,c){c.disabled||b++}),b>1},state:function(a){"action"!==a||!this.model||this.model.a||this.has_multiple_actions()||(this.model.a="thrive_lightbox"),this.$el.html(this.template()),this.$(".form-state").hide().filter(".state-"+a).show(),this["render_"+a]&&this["render_"+a]()},get_triggers:function(){return f.triggers},get_actions:function(){return f.actions},render_trigger:function(){if(this.model.t){var a=f.triggers[this.model.t].view;a.model=this.model,a.setElement(this.$("#trigger-settings")),a.render(),this.toggle_continue(!0)}},render_action:function(){if(this.model.a&&f.actions[this.model.a].view){var a=f.actions[this.model.a].view;a.model=this.model,a.parent=this,a.setElement(this.$("#action-settings")),a.render()}},toggle_continue:function(a){this.$(".form-step-action .continue")[a?"show":"hide"]()},item_select:function(a){var b=a.currentTarget.getAttribute("data-field");this.model[b]=a.currentTarget.getAttribute("data-item"),this.state("t"===b?"trigger":"action")},trigger_cancel:function(){this.model.config={},this.model.t="",f.hasEvents()?this.main.dashboard():this.state("default")},trigger_continue:function(){this.state("action")},action_cancel:function(){this.model.a="",this.state("trigger")},action_continue:function(){var a=f.validate(this.model);if(!0!==a)return this.show_error(a);f.save(this.model),this.main.dashboard()},show_error:function(a){this.$(".form-step-action").find(".inline-message").remove().end().append('<div style="bottom:-35px;right:0" class="tcb-absolute inline-message m-error tcb-text-right">'+a+"</div>")},can_add_events:function(){return f.events.length<4}});b.exports=g.extend({options:{opacity:.8,css:{"padding-bottom":"120px"}},before_initialize:function(){f=new d(TVE.CONST.page_events),e=new h({main:this}),this.$el.addClass("medium-small")},render:function(){return this.dashboard(),this},after_open:function(){},dashboard:function(){if(e.setElement(this.$("#events-form")),!f.hasEvents())return this.$(".modal-header").html(TVE.tpl("page-events/no-events")()),e.reset(f.newEvent()).state("trigger"),this;this.$(".modal-header").html(TVE.tpl("page-events/list")({view:this,dataStore:f})).show(),e.state("default")},render_action_preview:function(a){var b=f.actions[a.a].view;if(b)return b.render_preview(a)},_show_form:function(a){f.hasEvents()&&this.$(".modal-header").hide(),e.reset(a).state("trigger")},add_event:function(){return this._show_form(f.newEvent()),!1},edit_event:function(a){var b=a.currentTarget;this._show_form(f.getEvent(b.getAttribute("data-index")))},delete_event:function(a){var b=a.currentTarget;f.removeEvent(b.getAttribute("data-index")),this.dashboard()}}),d.prototype.newEvent=function(){return{t:"",a:"",config:{}}},d.prototype.validate=function(a){if(!this.events.length)return!0;var b=!0;return _.each(this.events,function(c,d){c.a===a.a&&c.t===a.t&&d!==a.event_index&&(b=!1)}),!!b||TVE.t.page_event_action_duplicate},d.prototype.save=function(a){if(void 0===a.event_index)this.events.push(a);else{var b=a.event_index;delete a.event_index,this.events.splice(b,1,a)}return this.events},d.prototype.removeEvent=function(a){a=parseInt(a),this.events.splice(a,1)},d.prototype.getEvent=function(b){return b=parseInt(b),a.extend(!0,{event_index:b},this.events[b])},d.prototype.hasEvents=function(){return this.events.length>0};var i=g.extend({template:TVE.tpl("page-events/triggers/exit"),enable_mobile:function(a){this.model.config.e_mobile=a.currentTarget.checked?1:0,this.render()},slider_update:function(a){var b=a.currentTarget,c=parseInt(b.value||0);(isNaN(c)||c<1)&&(c=0),c>300&&(c=300),b.value=c,this.$(b.getAttribute("data-target")).val(c),this.model.config[b.getAttribute("data-config")]=c},initialize:function(){},render:function(){return this.$el.html(this.template({m:this.model})),this}}),j=i.extend({template:TVE.tpl("page-events/triggers/timer")}),k=g.extend({template:TVE.tpl("page-events/actions/lightbox"),render:function(){if(!this.model)return this;this.model.config.l_anim||(this.model.config.l_anim="instant"),this.$el.html(this.template());var a=this.$("#evt-lightbox");return!a.length||this.model.config.l_id&&String(this.model.config.l_id)===a.val()||(this.model.config.l_id=a.val()),this.parent.toggle_continue(a.length),this},lightbox_change:function(b){this.model.config.l_id=a(b.currentTarget).val()},animation_change:function(b){this.model.config.l_anim=a(b.currentTarget).val()},get:function(){return TVE.Components.animation.options.actions.thrive_lightbox.data.lightboxes},create_lightbox_toggle:function(b){var c=a(b.currentTarget);this.$(".form-create-lb").toggle(),c.toggleClass("expanded"),c.text(c.hasClass("expanded")?TVE.t.cancel:TVE.t.create_new_lightbox),this.$(".create-lb").focus()},create_lightbox:function(){var b=this.$(".create-lb").removeClass("has-error"),c=this.$(".form-create-lb"),d=this;if(!a.trim(b.val()))return void b.addClass("has-error").focus();c.addClass("loading"),TVE.ajax("create_lightbox","post",{title:b.val(),post_id:TVE.CONST.post.ID}).done(function(a){TVE.Components.animation.options.actions.thrive_lightbox.data.lightboxes.push(a.lightbox),TVE.page_message(a.message),d.render(),d.$("#evt-lightbox").val(a.lightbox.id).trigger("change")}).always(function(){})},get_edit_link:function(b){var c="";return a.each(this.get(),function(a,d){d.id==b&&(c=d.edit_url)}),c},render_preview:function(a){return TVE.tpl("page-events/actions/lightbox-preview")({label:f.actions[a.a].label,edit_url:this.get_edit_link(a.config.l_id),animation:f.animations[a.config.l_anim||"instant"],event:a,view:this})}})}(jQuery)},"revision.js":function(a,b,c){var d=c("./base"),e=null;b.exports=d.base.extend({template_item:TVE.tpl("controls/revision-manager-item"),collection:null,initialize:function(){this.collection=new Backbone.Collection,this.listenTo(this.collection,"reset",this.render)},before_open:function(){if(0===this.collection.length){var a=this;TVE.main.overlay(),TVE.ajax("revisions","post",{post_id:tcb_main_const.post_id}).success(function(b){a.collection.reset(b)}).always(function(){TVE.main.overlay("hide")})}},render:function(){this.$("#tcb-revision-list").empty(),this.collection.each(this.renderOne,this)},renderOne:function(a,b){return this.$("#tcb-revision-list").append(this.template_item({model:a,index:b})),this},clicked:function(a,b){a.preventDefault();var c=b.getAttribute("href");return TVE.main.overlay(),jQuery.get(c,function(){window.parent.location.reload()}),!1}},{reset_revisions:function(a){!a instanceof Array&&(a=[]),e&&e.collection.reset(a)},get_instance:function(a){return e||(e=new TVE.RevisionManager({el:a})),e}})},"wordpress-content.js":function(a,b,c){var d=c("./base"),e=null,f=c("../../../editor/src/util/content");b.exports=d.base.extend({before_close:function(){"undefined"!=typeof tinymce&&tinymce.ui.FloatPanel.hideAll()},save:function(){var a=this,b=TVE.ActiveElement,c=b.find(".tve_shortcode_raw"),d=b.find(".tve_shortcode_rendered"),e={content:f.get_shotcode_tinymce_content()};if(0===e.content.length)return void TVE.page_message(TVE.t.emptyContent,!0);this.$save_button.addClass("tve-disabled"),0===c.length&&(b.empty(),c=jQuery('<div class="tve_shortcode_raw" style="display: none"></div>').appendTo(b),d=jQuery('<div class="tve_shortcode_rendered"></div>').appendTo(b)),c.text("___TVE_SHORTCODE_RAW__"+e.content+"__TVE_SHORTCODE_RAW___"),TVE.ajax("render_shortcode","post",e).done(function(c){b.removeClass("tcb-elem-placeholder");try{d.html(c.response)}catch(a){console.log("Error inserting content: ",a)}(d.children().length&&0===d.outerHeight()||0===d.children().length)&&d.append('<div class="tve_shortcode_overlay"><span>No preview available. Please save and reload the page.</span></div>'),b.trigger("click"),TVE.page_message(c.text),a.close()}).always(function(b){a.$save_button.removeClass("tve-disabled")})},after_open:function(a){this.$save_button=this.$(".tcb-modal-save"),jQuery(".tvd-lean-overlay").addClass("tcb-modal-wordpress-content-overlay");var b=TVE.ActiveElement.find("> .tve_shortcode_raw").html();b=void 0===b?"":b.replace("___TVE_SHORTCODE_RAW__","").replace("__TVE_SHORTCODE_RAW___","");var c=document.createElement("textarea");c.innerHTML=b,b=c.value,f.set_shotcode_tinymce_content(b)}},{get_instance:function(a){return e||(e=new TVE.WordPressContent({el:a})),e}})}},"sidebar-settings.js":function(a,b,c){!function(a){var d,e,f,g,h,i=c("./base"),j=c("../libs/file-picker"),k=c("./modals/base"),l=c("./modals/landing-page");b.exports=i.base_view.extend({initialize:function(){this.$body=a("body"),this.$tabs=this.$(".tve-tab"),this.$settings=this.$(".settings-list"),this.$reminders=this.$('[data-setting="reminders"]'),this.$reminders.find("span").text(1===TVE.CONST.tve_display_save_notification?"Off":"On"),d.init(),e.init(),this.export_lp_modal=new f,this.lp_templates=new l,this.save_template_lp_modal=new h({landing_page_templates:this.lp_templates}),this.save_template_modal=new g,this.landing_page_settings(TVE.CONST.landing_page.trim().length>0)},tab_click:function(a,b){this.show_tab(b.getAttribute("data-list"))},show_tab:function(a){this.$tabs.removeClass("active"),this.$tabs.filter('[data-list="'+a+'"]').addClass("active"),this.$settings.hide(),this.$settings.filter('[data-list="'+a+'"]').show()},landing_page_settings:function(a){this.$('.settings-list[data-list="templates"] .setting-item').show();var b=this.$('.settings-list[data-list="templates"] .setting-item.not-lp');if(a||-1===TVE.CONST.has_non_landing_page_settings.indexOf(TVE.CONST.post_type))b.hide();else{try{this.$('.setting-item[data-setting="change_lp"]').contents().last()[0].textContent=TVE.t.ChooseLandingPageTemplate}catch(a){}this.$('.settings-list[data-list="templates"] .setting-item.lp-only').hide(),b.show()}},setting:function(a,b){var c=b.getAttribute("data-setting");"function"==typeof this[c]&&this[c](a,b)},page_events:function(){TVE.modal_open("page-events")},custom_css:function(a,b){d.open()},edit_html:function(){e.open()},reminders:function(){TVE.CONST.tve_display_save_notification=Math.abs(parseInt(TVE.CONST.tve_display_save_notification)-1),TVE.main.overlay();var a=this.$reminders.find("span"),b={option_name:"tve_display_save_notification",option_value:TVE.CONST.tve_display_save_notification};TVE.ajax("update_option","post",b).done(function(b){TVE.main.overlay("close"),TVE.CONST.tve_display_save_notification?(TVE.Editor_Page.enableSaveWarning(),TVE.page_message("Save Reminders are turned On",!1,3e3)):(TVE.Editor_Page.disableSaveWarning(),TVE.page_message("Save Reminders are turned Off",!1,3e3)),a.text(1===TVE.CONST.tve_display_save_notification?"Off":"On")})},editor_side:function(){TVE.CONST.cpanel_attr.position=this.$body.hasClass("tve-left-side")?"right":"left",a(TVE.CONST.cpanel_attr).trigger("tcb.panel_position_changed"),this.$body.removeClass("tve-left-side tve-right-side").addClass("tve-"+TVE.CONST.cpanel_attr.position+"-side"),TVE.main.panel_offset(),TVE.ajax("editor_display_config","post",{attribute:"position",value:TVE.CONST.cpanel_attr.position})},lp_settings:function(){var a=TVE.inner.$body.removeClass("edit_mode");TVE.Editor_Page.focus_element(a)},save_template_lp:function(){this.save_template_lp_modal.reset(),this.save_template_lp_modal.open()},save_template:function(){this.save_template_modal.reset(),this.save_template_modal.open()},change_lp:function(){this.lp_templates.$filter.hide(),this.lp_templates.open()},import_lp:function(){if(!this.tve_lp_import_confirmed&&!confirm(TVE.t.LPImportConfirm))return!1;if(this.tve_lp_import_confirmed=!0,this.lp_import_frame)return void this.controls.lp_import_frame.open();this.lp_import_frame=wp.media.frames.file_frame=wp.media({title:"Import Landing Page",button:{text:"Import"},multiple:!1,frame:"select",library:{type:"application/zip"}});var b=this;this.lp_import_frame.on("select",function(){var c=b.lp_import_frame.state().get("selection").first().toJSON();if("application/zip"!==c.mime)return TVE.page_message("Only .zip files are allowed",!0),void b.lp_import_frame.open();TVE.main.overlay(),a.post(TVE.CONST.ajax_url,{attachment_id:c.id,action:"tve_lp_import",page_id:TVE.CONST.post_id},function(a){if(!a.success)return TVE.main.overlay(!0),TVE.page_message(a.message,!0,8e3),void b.lp_import_frame.open();window.onbeforeunload=null,top.window.location.href=a.url},"json").fail(function(a){TVE.main.overlay(!0),TVE.page_message(TVE.t.UnknownError+a.responseText,!0,1e4),b.lp_import_frame.open()}).always(function(){})}),this.lp_import_frame.open()},export_lp:function(){this.export_lp_modal.reset(),this.export_lp_modal.open()},revert:function(a){if((void 0===a||"skip_confirm"!==a)&&!confirm(TVE.t.DeleteContentInLandingPage))return!1;var b={tve_landing_page:"",custom_action:"landing_page"};TVE.main.overlay(),TVE.set_login_callback(function(){this.revert("skip_confirm")},this),TVE.Editor_Page.save(!1,function(){window.onbeforeunload=null,top.window.location.reload()},b)},reset:function(a){if((void 0===a||"skip_confirm"!==a)&&!confirm(TVE.t.ClearContentOfLandingPage))return!1;var b={custom_action:"landing_page_reset"};TVE.main.overlay(),TVE.set_login_callback(function(){this.reset("skip_confirm")},this),TVE.Editor_Page.save(!1,function(){window.onbeforeunload=null,TVE.iframe_refresh()},b)},lightbox_settings:function(){TVE.Editor_Page.focus_element(TVE.inner_$(".tve_p_lb_content"))}}),d={init:function(){return this.$code=a(".tve-custom-code-wrapper"),this.$code.find(".code-expand").click(a.proxy(this.expand,this)),this.$code.find(".code-close").click(a.proxy(this.close,this)),this.editor=ace.edit("tve-custom-css-code"),this.editor.setTheme("ace/theme/monokai"),this.editor.session.setMode("ace/mode/css"),this.editor.setPrintMarginColumn(1e3),delete this.editor.commands.commandKeyBinding["ctrl-f"],this.set(),this.close(),this},set:function(){this.editor.setValue(TVE.Editor_Page.get_custom_css(),1)},save:function(){TVE.Editor_Page.add_custom_css(this.editor.getValue())},open:function(){this.set(),this.$code.show(),this.editor.focus()},close:function(){this.save(),this.$code.hide()},expand:function(){this.$code.toggleClass("full-width"),this.editor.resize()}},e={init:function(){return this.$htmlCode=a(".tve-editor-html-wrapper"),this.$htmlCode.find(".code-button-close").click(a.proxy(this.close,this)),this.$htmlCode.find(".code-button-check").click(a.proxy(this.save,this)),this.htmlEditor=ace.edit("tve-custom-html-code"),this.htmlEditor.setTheme("ace/theme/monokai"),this.htmlEditor.session.setMode("ace/mode/html"),this.htmlEditor.session.setUseWrapMode(!0),delete this.htmlEditor.commands.commandKeyBinding["ctrl-f"],this.close(),this},open:function(){var a=TVE.Editor_Page.content_manager;this.htmlEditor.setValue(a.revert_script_tags(a.get_clean_content({},TVE.Editor_Page.editor)),1),this.$htmlCode.show(),this.htmlEditor.focus()},save:function(){TVE.inner.jQuery("#tve_editor").html(TVE.Editor_Page.content_manager.convert_script_tags(this.htmlEditor.getValue())),TVE.inner.window.TCB_Front.onDOMReady(),this.close()},close:function(){this.$htmlCode.hide()}},f=k.base.extend({el:TVE.modal.get_element("export-lp"),events:{"click .choose-image":function(){this.picker.open()},"click .remove-image":function(){this.thumbnail="",this.$remove_image.hide(),this.$preview.css("background-image",'url("'+this.$preview.data("default")+'")')},"click .tcb-modal-save":"save","click .tcb-modal-close":"close"},initialize:function(){this.$template_name=this.$("#tve-template-name"),this.picker=(new j).on_select(this.change_image,this),this.$remove_image=this.$(".remove-image"),this.$preview=this.$(".thumbnail-preview"),this.$el.addClass("medium-small"),this.reset()},reset:function(){this.thumbnail="",this.$template_name.val(""),this.$remove_image.hide(),this.$preview.css("background-image",'url("'+this.$preview.data("default")+'")')},change_image:function(a){this.thumbnail=a.id,this.$remove_image.show(),this.$preview.css("background-image",'url("'+a.url+'")')},save:function(){var a={action:"tve_lp_export",post_id:TVE.CONST.post_id,template_name:this.$template_name.val().trim(),thumb_id:this.thumbnail},b=this;if(0===a.template_name.length)return TVE.page_message(TVE.t.ExportFileNameRequired,!0,5e3),!1;TVE.main.overlay(),TVE.set_login_callback(this.save,this),TVE.Editor_Page.save(!0,function(a){b.close(),TVE.page_message(a.message,!1,8e3),TVE.main.overlay("close"),window.top.location.href=a.url},a)}}),h=k.base.extend({el:TVE.modal.get_element("save-template-lp"),events:{"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .tve-add-tag":"add_tag","keydown .tve-new-tag-name":function(a){13===a.keyCode&&this.add_tag()},"click .close-icon":function(b){a(b.currentTarget).parent().remove()}},initialize:function(a){this.lp_templates=a.landing_page_templates,this.$tag_input=this.$(".tve-new-tag-name"),this.$tag_list=this.$(".tve-tags-list"),this.$template_name=this.$("#tve-template-name"),this.tags=[],this.$el.addClass("medium-small")},add_tag:function(){var a=this.$tag_input.val().trim();this.$tag_input.val(""),""!==a&&-1===this.tags.indexOf(a)&&(this.tags.push(a),this.$tag_list.append('<div class="tag" data-tag="'+a+'">'+a+'<span class="close-icon"></span></div>'))},save:function(){var a={tve_landing_page_save:this.$template_name.val(),tve_landing_page:TVE.CONST.landing_page,template_tags:this.$tag_list.find(".tag").map(function(){return this.getAttribute("data-tag")}).get()},b=this;if(0===a.tve_landing_page_save.length)return void TVE.page_message(TVE.t.EnterTemplateName,!0,5e3);TVE.main.overlay(),TVE.set_login_callback(this.save,this),TVE.Editor_Page.save(!1,function(a){TVE.main.overlay("close"),TVE.page_message(TVE.t.PageTemplateSave,!1,5e3),TVE.CONST.saved_lp_templates=a.saved_lp_templates,b.lp_templates._filter_templates(),b.lp_templates.render_sets(),b.close()},a)},reset:function(){this.$tag_input.val(""),this.$template_name.val(""),this.$tag_list.empty(),this.tags=[]}}),g=k.base.extend({el:TVE.modal.get_element("save-template"),events:{"click .tcb-modal-save":"save","click .tcb-modal-close":"close","click .close-icon":function(b){a(b.currentTarget).parent().remove()}},initialize:function(){this.$template_name=this.$("#tve-template-name")},validate:function(){return!_.isEmpty(this.$template_name.val())||(TVE.page_message(TVE.t.tpl_name_required,!0),!1)},save:function(){if(this.validate()){for(var a,b=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,c="",d=[],e=new FormData,f=TVE.Editor_Page.editor.collect_head_css(),g=0;a=b[g++];)if(a.type!==CSSRule.IMPORT_RULE);else{var h=TVE.FontManager.read_font_name(a.cssText);TVE.FontManager.is_font_used(h)&&void 0===d[h]&&(d[h]=1,c+=a.cssText)}TVE.main.overlay(),e.append("template_name",this.$template_name.val()),e.append("template_content",TVE.Editor_Page.content_manager.get_clean_content({},TVE.Editor_Page.editor)),e.append("template_category","[#page#]"),e.append("post_id",TVE.CONST.post_id),e.append("custom_css",TVE.Editor_Page.content_manager.get_stylesheet_rules()),f[0]=c,e.append("media_rules",JSON.stringify(f)),this.execute_ajax(this,e)}},execute_ajax:function(a,b){b.append("custom","save_user_template"),b.append("action",TVE.CONST.ajax.action),b.append("nonce",TVE.CONST.nonce),jQuery.ajax({type:"POST",url:TVE.CONST.ajax_url,data:b,processData:!1,contentType:!1,success:function(b){TVE.page_message(TVE.t.TemplateSave,!1,5e3),a.close(),TVE.CONST.content_templates=b.content_templates},complete:function(){TVE.main.overlay("close")},error:function(a){TVE.page_message(a.responseJSON.message,1)}})},reset:function(){this.$template_name.val("")}})}(jQuery)}}}}}}})("workspace/editor/js/main/views/main");